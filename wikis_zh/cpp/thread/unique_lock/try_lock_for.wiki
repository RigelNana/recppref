{{cpp/thread/unique_lock/title|try_lock_for}}
{{cpp/thread/unique_lock/navbar}}
{{dcl begin}}
{{dcl|since=c++11|1=
template&lt; class Rep, class Period &gt;
bool try_lock_for( const std::chrono::duration&lt;Rep, Period&gt;&amp; timeout_duration );
}}
{{dcl end}}

尝试锁定关联互斥体。阻塞到经过指定的 {{c|timeout_duration}} 或获得锁这两个事件的先达成者为止。成功获得锁时返回 {{c|true}}，否则返回 {{c|false}}。相当于调用 {{c|mutex()-&gt;try_lock_for(timeout_duration)}}。

由于调度或资源争议延迟，此函数可能阻塞长于 {{c|timeout_duration}}。

标准建议用稳定时钟度量时长。若实现用系统时钟代替，则等待时间亦可能对时钟调节敏感。

若无关联互斥体或若此 {{tt|std::unique_lock}} 已锁定互斥体则抛出 {{lc|std::system_error}}。

===参数===
{{par begin}}
{{par|timeout_duration|要阻塞的最大时长}}
{{par end}}

===返回值===
若成功获得得到互斥体锁有权则为 {{c|true}}，否则为 {{c|false}}。

===异常===
* {{c|mutex()-&gt;try_lock_for(timeout_duration)}} 抛出的任何异常。

* 若无关联互斥体，则为以 {{lc|std::errc::operation_not_permitted}} 为错误码的 {{lc|std::system_error}}。

* 若已锁定互斥体，则为以 {{lc|std::errc::resource_deadlock_would_occur}} 为错误码的 {{lc|std::system_error}}。

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/thread/unique_lock/dsc lock}}
{{dsc inc|cpp/thread/unique_lock/dsc try_lock}}
{{dsc inc|cpp/thread/shared_lock/dsc try_lock_for}}
{{dsc inc|cpp/thread/unique_lock/dsc try_lock_until}}
{{dsc inc|cpp/thread/unique_lock/dsc unlock}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}