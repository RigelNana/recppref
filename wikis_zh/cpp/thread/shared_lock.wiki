{{cpp/title|shared_lock}}
{{cpp/thread/shared_lock/navbar}}
{{ddcl|header=shared_mutex|since=c++14|
template&lt; class Mutex &gt;
class shared_lock;
}}

类 {{tt|shared_lock}} 是一种通用共享互斥体所有权包装器，允许延迟锁定、定时锁定和锁所有权的转移。锁定 {{tt|shared_lock}}，会以共享模式锁定关联的共享互斥体（{{lc|std::unique_lock}} 可用于以排他性模式锁定）。

{{tt|shared_lock}} 类可移动，但不可复制——它满足{{named req|MoveConstructible}}与{{named req|MoveAssignable}}的要求，但不满足{{named req|CopyConstructible}}或{{named req|CopyAssignable}}。

{{tt|shared_lock}} 满足{{named req|Lockable}}的要求。若 {{tt|Mutex}} 满足{{named req|SharedTimedLockable}}的要求，则 {{tt|shared_lock}} 亦满足{{named req|TimedLockable}}的要求。

要以共享所有权模式等待于共享互斥体，可使用 {{lc|std::condition_variable_any}}（{{lc|std::condition_variable}} 要求使用 {{lc|std::unique_lock}} 故而只能以独占所有权模式等待）。

===模板形参===
{{par begin}}
{{par|Mutex|要锁定的共享互斥体的类型。此类型必须满足{{named req|SharedLockable}}的要求。&lt;!-- P2160R1 --&gt;}}
{{par end}}

===成员类型===
{{dsc begin}}
{{dsc hitem|类型|定义}}
{{dsc|{{tt|mutex_type}}|{{tt|Mutex}}}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/thread/shared_lock/dsc constructor}}
{{dsc inc|cpp/thread/shared_lock/dsc destructor}}
{{dsc inc|cpp/thread/shared_lock/dsc operator{{=}}}}

{{dsc h2|共享锁定}}
{{dsc inc|cpp/thread/shared_lock/dsc lock}}
{{dsc inc|cpp/thread/shared_lock/dsc try_lock}}
{{dsc inc|cpp/thread/shared_lock/dsc try_lock_for}}
{{dsc inc|cpp/thread/shared_lock/dsc try_lock_until}}
{{dsc inc|cpp/thread/shared_lock/dsc unlock}}

{{dsc h2|修改器}}
{{dsc inc|cpp/thread/shared_lock/dsc swap}}
{{dsc inc|cpp/thread/shared_lock/dsc release}}

{{dsc h2|观察器}}
{{dsc inc|cpp/thread/shared_lock/dsc mutex}}
{{dsc inc|cpp/thread/shared_lock/dsc owns_lock}}
{{dsc inc|cpp/thread/shared_lock/dsc operator bool}}
{{dsc end}}

===非成员函数===
{{dsc begin}}
{{dsc inc|cpp/thread/shared_lock/dsc swap2}}
{{dsc end}}

=== 缺陷报告 ===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2981|std=C++17|before=曾提供来自 {{tt|shared_lock&lt;Mutex&gt;}} 的冗余推导指引| after=已移除}}
{{dr list end}}

{{langlinks|de|en|es|ja|ru}}