{{cpp/thread/shared_lock/title|try_lock_until}}
{{cpp/thread/shared_lock/navbar}}
{{dcl begin}}
{{dcl|since=c++14|1=
template&lt; class Clock, class Duration &gt;
bool try_lock_until( const std::chrono::time_point&lt;Clock,Duration&gt;&amp; timeout_time );
}}
{{dcl end}}

试图以共享模式锁定关联互斥体。阻塞直至抵达给定的 {{c|timeout_time}} 或获得锁这两个事件的先达成者为止。成功获得互斥体时返回 {{c|true}}，否则返回 {{c|false}}。可能阻塞比抵达 {{c|timeout_time}} 更长。

相当于调用 {{c|mutex()-&gt;try_lock_shared_until(timeout_time)}}。

若无关联互斥体或互斥体已被锁定则返回 {{lc|std::system_error}}。

{{tt|Clock}} 必须符合{{named req|Clock}}要求。若 {{tt|Mutex}} 不符合{{named req|SharedTimedLockable}}要求则行为未定义。{{rev inl|since=c++20|若 {{c|std::chrono::is_clock_v&lt;Clock&gt;}} 为 {{c|false}} 则程序为非良构。}}

===参数===
{{par begin}}
{{par|timeout_time|阻塞到的最大时间点}}
{{par end}}

===返回值===
若已成功获得互斥体的所有权则为 {{c|true}}，否则为 {{c|false}}。

===异常===
* {{c|mutex()-&gt;try_lock_shared_for(timeout_time)}} 所抛的任何异常。

* 若无关联互斥体，则抛出以 {{lc|std::errc::operation_not_permitted}} 为错误码的 {{lc|std::system_error}}。

* 若互斥体已被锁定，则抛出以 {{lc|std::errc::resource_deadlock_would_occur}} 为错误码的 {{lc|std::system_error}}。

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/thread/shared_lock/dsc lock}}
{{dsc inc|cpp/thread/shared_lock/dsc try_lock}}
{{dsc inc|cpp/thread/shared_lock/dsc try_lock_for}}
{{dsc inc|cpp/thread/shared_lock/dsc unlock}}
{{dsc inc|cpp/thread/unique_lock/dsc try_lock_until}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}