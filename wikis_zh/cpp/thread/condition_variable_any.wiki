{{cpp/title|condition_variable_any}}
{{cpp/thread/condition_variable_any/navbar}}
{{ddcl|header=condition_variable|since=c++11|1=
class condition_variable_any;
}}

{{tt|condition_variable_any}} 类是 {{lc|std::condition_variable}} 的泛化。相对于只在 {{c/core|std::unique_lock&lt;std::mutex&gt;}} 上工作的 {{lc|std::condition_variable}}，{{tt|condition_variable_any}} 能在任何满足{{named req|BasicLockable}}要求的锁上工作。

条件变量语义描述见 {{lc|std::condition_variable}}。

类 {{tt|std::condition_variable_any}} 是{{named req|StandardLayoutType}}。它不{{named req|CopyConstructible}}、{{named req|MoveConstructible}}、{{named req|CopyAssignable}}或{{named req|MoveAssignable}}。

如果锁是 {{c/core|std::unique_lock&lt;std::mutex&gt;}}，那么 {{lc|std::condition_variable}} 可以提供更好的性能。

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/thread/condition_variable/dsc constructor|condition_variable_any}}
{{dsc inc|cpp/thread/condition_variable/dsc destructor|condition_variable_any}}
{{dsc inc|cpp/thread/condition_variable/dsc operator{{=}}|condition_variable_any}}

{{dsc h2|通知}}
{{dsc inc|cpp/thread/condition_variable/dsc notify_one|condition_variable_any}}
{{dsc inc|cpp/thread/condition_variable/dsc notify_all|condition_variable_any}}

{{dsc h2|等待}}
{{dsc inc|cpp/thread/condition_variable/dsc wait|condition_variable_any}}
{{dsc inc|cpp/thread/condition_variable/dsc wait_for|condition_variable_any}}
{{dsc inc|cpp/thread/condition_variable/dsc wait_until|condition_variable_any}}
{{dsc end}}

===注解===
{{tt|std::condition_variable_any}} 能与 {{lc|std::shared_lock}} 一同使用，以在 {{lc|std::shared_mutex}} 上以共享所有权模式等待。

{{tt|std::condition_variable_any}} 与自定义{{named req|Lockable}}类型的一种可能用法，是提供便利的可中断等待：自定义的锁定操作按预期锁定关联的互斥体，并进行必要的设置，以在收到中断信号时通知此条件变量。&lt;ref&gt;A. Williams (2012), "C++ concurrency in action" 9.2.4 Interupting a wait on std::condition_variable_any&lt;/ref&gt; &lt;!-- 带上不像书中那么大的示例，或带上一些其他看起来合理的使用示例会很好 --&gt;

===参阅===
{{dsc begin}}
{{dsc inc|cpp/thread/dsc condition_variable}}
{{dsc end}}

===外部链接===
{{eli|&lt;references/&gt;}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}