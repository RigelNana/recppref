{{cpp/thread/latch/title|arrive_and_wait}}
{{cpp/thread/latch/navbar}}

{{dcl begin}}
{{dcl|since=c++20|1=
void arrive_and_wait( std::ptrdiff_t n = 1 );
}}
{{dcl end}}

原子地将内部计数器减少 {{c|n}} 并（若需要）阻塞调用方线程直至计数器抵达零。等价于 {{c|count_down(n); wait();}}。

若 {{c|n}} 大于内部计数器的值或为负，则行为未定义。

===参数===
{{par begin}}
{{par|n|内部计数器要减少的值}}
{{par end}}

===返回值===
（无）

===异常===
错误时抛出 {{lc|std::system_error}}，带有对互斥体类型允许的错误码。

{{langlinks|en|es|ja|ru}}