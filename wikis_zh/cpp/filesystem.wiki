{{title|文件系统库 {{mark since c++17}}}}
{{cpp/filesystem/navbar}}
文件系统库提供在文件系统与其组件，例如路径、常规文件与目录上进行操作的设施。

文件系统库原作为 [http://www.boost.org/doc/libs/release/libs/filesystem/doc/index.htm boost.filesystem] 开发，出版为[[cpp/experimental/fs|技术规范 ISO/IEC TS 18822:2015]]，并最终从 C++17 开始并入 ISO C++。现在 boost 实现可用的编译器和平台于多于 C++17 库。

若层级文件系统不能为实现所访问，或若它不提供必要的兼容性，则文件系统库设施可能不可用。若底层文件系统不支持，则一些特性可能不可用（例如 FAT 文件系统缺少符号链接并禁止多重硬链接）。这些情况下必须报告错误。

若对此库的函数的调用引入''文件系统竞争''，即多个线程、进程或计算机交错地访问并修改文件系统中的同一对象，则行为[[cpp/language/ub|未定义]]。

====库范畴定义====
* ''文件''：持有数据的文件系统对象，能被写入或读取，或二者皆可。文件拥有名称及属性，属性之一是文件类型：
:* ''目录''：表现为目录条目的容器的文件，目录条目标识其他文件（其中一些可以是另外的嵌套的目录）。讨论到具体文件时，包含该文件目录条目的目录是其''父目录''。父目录能以相对路径名 {{c|".."}} 表示。
:* ''常规文件''：关联一个名字到一个既存文件的目录条目（即''硬链接''）。若支持多重硬链接，则文件在最后一个到它的硬链接被移除后才被移除。
:* ''符号链接''：关联一个名词到一个路径的目录条目，路径可以存在亦可不存在。
:* 其他特殊文件类型：''块''、''字符''、''FIFO''、''套接字''
* ''文件名''：命名一个文件的字符串。容许字符、大小写区别、最大长度以及被禁止名称是实现定义的。名称 {{c|"."}} （点）与 {{c|".."}} （点点）在库层次拥有特殊含义。
* ''路径''：标识一个文件的元素序列。它以可选的 {{spar|根名}} （例如 Windows 上的 {{c|"C:"}} 或 {{c|"//server"}}）开始，后随可选的 {{spar|根目录}}（例如 Unix 上的 {{c|"/"}}），后随零或更多个文件名（除了最后一个都必须是目录或到目录的链接）的序列。表示路径的字符串（''路径名''）的原生格式（如哪些字符被用作分隔符）与字符编码是实现定义的，此库提供路径的可移植表示。
:* ''绝对路径''：无歧义地标识一个文件位置的路径。
:* ''规范路径''：不包含符号链接、{{c|"."}} 或 {{c|".."}} 元素的绝对路径。
:* ''相对路径''：标识相对于文件系统中某位置的文件位置的路径。特殊路径名 {{c|"."}}（点，“当前目录”）和 {{c|".."}}（点点、“父目录”）是相对路径。

{{dsc begin}}
{{dsc h1|类}}
{{dsc header|filesystem}}
{{dsc namespace|std::filesystem}}
{{dsc inc|cpp/filesystem/dsc path}} &lt;!-- 包含 swap 、 hash_value 、比较、 / 、 &lt;&lt; 、 &gt;&gt; 、及 u8path --&gt;
{{dsc inc|cpp/filesystem/dsc filesystem_error}}
{{dsc inc|cpp/filesystem/dsc directory_entry}}
{{dsc inc|cpp/filesystem/dsc directory_iterator}} &lt;!-- 包含 begin 、 end --&gt;
{{dsc inc|cpp/filesystem/dsc recursive_directory_iterator}} &lt;!-- 包含 begin 、 end --&gt;
{{dsc inc|cpp/filesystem/dsc file_status}}
{{dsc inc|cpp/filesystem/dsc space_info}}
{{dsc inc|cpp/filesystem/dsc file_type}}
{{dsc inc|cpp/filesystem/dsc perms}}
{{dsc inc|cpp/filesystem/dsc perm_options}}
{{dsc inc|cpp/filesystem/dsc copy_options}}
{{dsc inc|cpp/filesystem/dsc directory_options}}
{{dsc inc|cpp/filesystem/dsc file_time_type}}
{{dsc h1|非成员函数}}
{{dsc header|filesystem}}
{{dsc namespace|std::filesystem}}
{{dsc inc|cpp/filesystem/dsc absolute}}&lt;!-- 包含 system_complete --&gt;
{{dsc inc|cpp/filesystem/dsc canonical}}&lt;!-- 包含 weakly_canonical --&gt;
{{dsc inc|cpp/filesystem/dsc relative}}&lt;!-- 包含 proximate --&gt;
{{dsc inc|cpp/filesystem/dsc copy}}
{{dsc inc|cpp/filesystem/dsc copy_file}}
{{dsc inc|cpp/filesystem/dsc copy_symlink}}
{{dsc inc|cpp/filesystem/dsc create_directory}} &lt;!-- 包含 create_directories --&gt;
{{dsc inc|cpp/filesystem/dsc create_hard_link}}
{{dsc inc|cpp/filesystem/dsc create_symlink}} &lt;!-- 包含 create_directory_symlink --&gt;
{{dsc inc|cpp/filesystem/dsc current_path}}
{{dsc inc|cpp/filesystem/dsc exists}}
{{dsc inc|cpp/filesystem/dsc equivalent}}
{{dsc inc|cpp/filesystem/dsc file_size}}
{{dsc inc|cpp/filesystem/dsc hard_link_count}}
{{dsc inc|cpp/filesystem/dsc last_write_time}}
{{dsc inc|cpp/filesystem/dsc permissions}}
{{dsc inc|cpp/filesystem/dsc read_symlink}}
{{dsc inc|cpp/filesystem/dsc remove}} &lt;!-- 包含 remove_all --&gt;
{{dsc inc|cpp/filesystem/dsc rename}} 
{{dsc inc|cpp/filesystem/dsc resize_file}}
{{dsc inc|cpp/filesystem/dsc space}}
{{dsc inc|cpp/filesystem/dsc status}} &lt;!-- 包含 symlink_status --&gt;
{{dsc inc|cpp/filesystem/dsc temp_directory_path}}
{{dsc h2|文件类型}}
{{dsc inc|cpp/filesystem/dsc is_block_file}}
{{dsc inc|cpp/filesystem/dsc is_character_file}}
{{dsc inc|cpp/filesystem/dsc is_directory}}
{{dsc inc|cpp/filesystem/dsc is_empty}}
{{dsc inc|cpp/filesystem/dsc is_fifo}}
{{dsc inc|cpp/filesystem/dsc is_other}}
{{dsc inc|cpp/filesystem/dsc is_regular_file}}
{{dsc inc|cpp/filesystem/dsc is_socket}}
{{dsc inc|cpp/filesystem/dsc is_symlink}}
{{dsc inc|cpp/filesystem/dsc status_known}}
{{dsc end}}

===注解===
使用此库可能要求额外的编译器/链接器选项。9.1 前的 GNU 实现要求用 {{box|{{tt|-lstdc++fs}}}} 链接，而 LLVM 9.0 前的 LLVM 实现要求用 {{box|{{tt|-lc++fs}}}} 链接。

{{feature test macro|__cpp_lib_filesystem|std=C++17|value=201703L|文件系统库|value=201703L|std=C++17}}

===参阅===
{{dsc begin}}
{{dsc see cpp|cpp/experimental/fs|文件系统 TS|nomono=true}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}