{{cpp/title|wbuffer_convert}}
{{cpp/locale/wbuffer_convert/navbar}}
{{ddcl|header=locale|since=c++11|deprecated=c++17|removed=c++26|1=
template&lt;
    class Codecvt,
    class Elem = wchar_t,
    class Tr = std::char_traits&lt;Elem&gt;
&gt; class wbuffer_convert : public std::basic_streambuf&lt;Elem, Tr&gt;
}}

{{tt|std::wbuffer_convert}} 是对 {{c/core|std::basic_streambuf&lt;char&gt;}} 类型的流缓冲的包装器，并给予它 {{c/core|std::basic_streambuf&lt;Elem&gt;}} 的外观。所有通过 {{tt|std::wbuffer_convert}} 进行的输入/输出都会经历刻面 {{tt|Codecvt}} 所定义的字符转换。{{tt|std::wbuffer_convert}} 假设拥有转换刻面的所有权，而不能使用本地环境所管理的转换刻面。

适用于 {{tt|std::wbuffer_convert}} 的标准刻面对于 UTF-8/UCS2 和 UTF-8/UCS4 转换是 {{lc|std::codecvt_utf8}}，而对于 UTF-8/UTF-16 转换是 {{lc|std::codecvt_utf8_utf16}}。

此类模板令 {{lc|std::basic_filebuf}} 的隐式字符转换功能对任何 {{lc|std::basic_streambuf}} 可用。

===嵌套类型===
{{dsc begin}}
{{dsc hitem|类型|定义}}
{{dsc|{{tt|state_type}}|{{c/core|Codecvt::state_type}}}}
{{dsc end}}

===数据成员===
{{dsc begin}}
{{dsc hitem|成员|描述}}
{{dsc expos mem obj|spec={{c/core|std::streambuf*}}|bufptr|id=bufptr|指向底层字节流缓冲区的指针}}
{{dsc expos mem obj|spec={{c/core|Codecvt*}}|cvtptr|id=cvtptr|指向分配的转换对象的指针}}
{{dsc expos mem obj|spec={{tt|state_type}}|cvtstate|id=cvtstate|转换状态对象}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc wbuffer_convert}}
{{dsc mem fun|nolink=true|operator{{=}}|复制赋值运算符被弃置}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc ~wbuffer_convert}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc rdbuf}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc state}}
{{dsc end}}

===参阅===
{{cpp/locale/unicode string conversions}}
{{dsc begin}}
{{dsc inc|cpp/locale/dsc wstring_convert}}
{{dsc inc|cpp/locale/dsc codecvt_utf8}}
{{dsc inc|cpp/locale/dsc codecvt_utf8_utf16}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}