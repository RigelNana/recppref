{{cpp/locale/messages/title|open|do_open}}
{{cpp/locale/messages/navbar}}
{{dcl begin}}
{{dcl header|locale}}
{{dcl|num=1|1=
public:
catalog open( const std::string&amp; name, const std::locale&amp; loc ) const;
}}
{{dcl|num=2|1=
protected:
virtual catalog do_open( const std::string&amp; name, const std::locale&amp; loc ) const;
}}
{{dcl end}}

@1@ 公开成员函数，调用最终派生类的受保护虚成员函数 {{tt|do_open}}。

@2@ 获得 {{tt|catalog}} 类型（继承自 {{lc|std::messages_base}}）的值，能将它传递给 {{lc|get()}} 以从 {{c|name}} 所指名的消息目录取得消息。此值可使用直至传递给 {{lc|close()}} 为止。

===参数===
{{par begin}}
{{par|name|要打开的消息目录名称}}
{{par|loc|提供可能为从目录读取消息所要求的额外刻面，例如用以进行宽/多字节转换的 {{lc|std::codecvt}} 的本地环境对象}}
{{par end}}

===返回值===
能传递给 {{lc|get()}} 和 {{lc|close()}} 的非负 {{tt|catalog}} 类型值。若无法打开目录则返回负值。

===注解===
POSIX 系统上，此函数调用通常翻译为调用 {{tt|[http://pubs.opengroup.org/onlinepubs/9699919799/functions/catopen.html catopen()]}}。GNU libstdc++ 中，它调用 {{tt|[http://gcc.gnu.org/onlinedocs/libstdc++/manual/facets.html textdomain]}}。

实际目录位置是实现定义的：例如对于德文本地环境中的目录 {{c|"sed"}}（以 Unix 工具 {{tt|'sed'}} 安装的消息目录），此函数调用所打开的文件可能为 {{tt|/usr/lib/nls/msg/de_DE/sed.cat}}, {{tt|/usr/lib/locale/de_DE/LC_MESSAGES/sed.cat}} 或 {{tt|/usr/share/locale/de/LC_MESSAGES/sed.mo}}。

===示例===
{{cpp/locale/messages/example}}

===参阅===
{{dsc begin}}
{{dsc end}}

{{langlinks|en|ja}}