{{cpp/locale/wstring_convert/title|to_bytes}}
{{cpp/locale/wstring_convert/navbar}}
{{dcl begin}}
{{dcl header|locale}}
{{dcl|num=1|
byte_string to_bytes( Elem wchar );
}}
{{dcl|num=2|
byte_string to_bytes( const Elem* wptr );
}}
{{dcl|num=3|
byte_string to_bytes( const wide_string&amp; wstr );
}}
{{dcl|num=4|
byte_string to_bytes( const Elem* first, const Elem* last );
}}
{{dcl end}}

ç”¨ {{rlpsi|/#cvtptr}} æŒ‡å‘çš„åˆ»é¢å°†å®½åºåˆ—è½¬æ¢æˆå­—èŠ‚å­—ç¬¦ä¸²ã€‚

@1@ å®½åºåˆ—åªåŒ…å«å•ä¸ªå…ƒç´  {{c|byte}}ã€‚

@2@ å®½åºåˆ—æ˜¯ä» {{c|ptr}} å¼€å§‹çš„ç©ºç»ˆæ­¢åºåˆ—ã€‚

@3@ å®½åºåˆ—æ˜¯ {{c|str}} åŒ…å«çš„åºåˆ—ã€‚

@4@ å®½åºåˆ—æ˜¯èŒƒå›´ {{range|first|last}}ã€‚

åœ¨è½¬æ¢å¼€å§‹å‰ï¼Œå¦‚æœ {{c|*this}} '''ä¸æ˜¯'''ä»¥æ„é€ å‡½æ•°é‡è½½ {{rlp|wstring_convert|(3)}} æ„é€ çš„ï¼Œé‚£ä¹ˆä¼šå°† {{rlpsi|/#cvtstate}} è®¾ä¸ºå®ƒçš„é»˜è®¤å€¼ï¼ˆåˆå§‹è½¬æ¢çŠ¶æ€ï¼‰ã€‚

æˆåŠŸè½¬æ¢çš„è¾“å…¥å…ƒç´ æ•°é‡ä¼šå­˜å‚¨åˆ° {{rlpsi|/#cvtcount}} ä¸­ã€‚

===è¿”å›å€¼===
å¦‚æœè½¬æ¢æˆåŠŸï¼Œé‚£ä¹ˆè¿”å›è½¬æ¢ç»“æœã€‚å¦åˆ™ï¼Œå¦‚æœ {{c|*this}} æ˜¯ä»¥æ„é€ å‡½æ•°é‡è½½ {{rlp|wstring_convert|(4)}} æ„é€ çš„ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å› {{box|{{rlpsi|/#byte_err_string}}}}ã€‚

===å¼‚å¸¸===
å¦‚æœè½¬æ¢å¤±è´¥ï¼Œå¹¶ä¸” {{c|*this}} '''ä¸æ˜¯'''ä»¥æ„é€ å‡½æ•°é‡è½½ {{rlp|wstring_convert|(4)}} æ„é€ çš„ï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡º {{lc|std::range_error}}ã€‚

===ç¤ºä¾‹===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;
#include &lt;string&gt;

// è¾“å‡ºç”¨çš„å·¥å…·å‡½æ•°
void hex_print(const std::string&amp; s)
{
    std::cout &lt;&lt; std::hex &lt;&lt; std::setfill('0');
    for(unsigned char c : s)
        std::cout &lt;&lt; std::setw(2) &lt;&lt; static_cast&lt;int&gt;(c) &lt;&lt; ' ';
    std::cout &lt;&lt; std::dec &lt;&lt; '\n';
}

int main()
{
    // å®½å­—ç¬¦æ•°æ®
    std::wstring wstr = L"z\u00df\u6c34\U0001f34c"; // æˆ– L"zÃŸæ°´ğŸŒ"
    
    // å®½åˆ° UTF-8
    std::wstring_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; conv1;
    std::string u8str = conv1.to_bytes(wstr);
    std::cout &lt;&lt; "UTF-8 è½¬æ¢äº§ç”Ÿäº† " &lt;&lt; u8str.size() &lt;&lt; " ä¸ªå­—èŠ‚ï¼š\n";
    hex_print(u8str);
    
    // å®½åˆ° UTF-16le
    std::wstring_convert&lt;std::codecvt_utf16&lt;wchar_t, 0x10ffff, std::little_endian&gt;&gt; conv2;
    std::string u16str = conv2.to_bytes(wstr);
    std::cout &lt;&lt; "UTF-16le è½¬æ¢äº§ç”Ÿäº† " &lt;&lt; u16str.size() &lt;&lt; " ä¸ªå­—èŠ‚ï¼š\n";
    hex_print(u16str);
}
|output=
UTF-8 è½¬æ¢äº§ç”Ÿäº† 10 ä¸ªå­—èŠ‚ï¼š
7a c3 9f e6 b0 b4 f0 9f 8d 8c 
UTF-16le è½¬æ¢äº§ç”Ÿäº† 10 ä¸ªå­—èŠ‚ï¼š
7a 00 df 00 34 6c 3c d8 4c df
}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/locale/wstring_convert/dsc from_bytes}}
{{dsc inc|cpp/string/multibyte/dsc wcsrtombs}}
{{dsc inc|cpp/locale/codecvt/dsc do_out}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}