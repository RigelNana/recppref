{{cpp/locale/wstring_convert/title|from_bytes}}
{{cpp/locale/wstring_convert/navbar}}
{{dcl begin}}
{{dcl header|locale}}
{{dcl|num=1|
wide_string from_bytes( char byte );
}}
{{dcl|num=2|
wide_string from_bytes( const char* ptr );
}}
{{dcl|num=3|
wide_string from_bytes( const byte_string&amp; str );
}}
{{dcl|num=4|
wide_string from_bytes( const char* first, const char* last );
}}
{{dcl end}}

用 {{rlpsi|/#cvtptr}} 指向的刻面将字节序列转换成宽字符串。

@1@ 字节序列只包含单个元素 {{c|byte}}。

@2@ 字节序列是从 {{c|ptr}} 开始的空终止序列。

@3@ 字节序列是 {{c|str}} 包含的序列。

@4@ 字节序列是范围 {{range|first|last}}。

在转换开始前，如果 {{c|*this}} '''不是'''以构造函数重载 {{rlp|wstring_convert#版本 3|(3)}} 构造的，那么会将 {{rlpsi|/#cvtstate}} 设为它的默认值（初始转换状态）。

成功转换的输入元素数量会存储到 {{rlpsi|/#cvtcount}} 中。

===返回值===
如果转换成功，那么返回转换结果。否则，如果 {{c|*this}} 是以构造函数重载 {{rlp|wstring_convert#版本 4|(4)}} 构造的，那么就会返回 {{box|{{rlpsi|/#wide_err_string}}}}。

===异常===
如果转换失败，并且 {{c|*this}} '''不是'''以构造函数重载 {{rlp|wstring_convert#版本 4|(4)}} 构造的，那么就会抛出 {{lc|std::range_error}}。

===示例===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;cstdint&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;
#include &lt;string&gt;

int main()
{
    std::string utf8 = "z\u00df\u6c34\U0001d10b"; // 或 u8"zß水𝄋"
                 // 或 "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9d\x84\x8b";
    
    // UTF-8 / UTF-16 标准转换刻面
    std::u16string utf16 = std::wstring_convert
        &lt;std::codecvt_utf8_utf16&lt;char16_t&gt;, char16_t&gt;{}.from_bytes(utf8.data());
    std::cout &lt;&lt; "UTF-16 转换产生了 " &lt;&lt; utf16.size()
              &lt;&lt; " 个代码单元：" &lt;&lt; std::showbase;
    for (char16_t c : utf16)
        std::cout &lt;&lt; std::hex &lt;&lt; static_cast&lt;std::uint16_t&gt;(c) &lt;&lt; ' ';
    
    // UTF-8 / UTF-32 标准转换刻面
    std::u32string utf32 = std::wstring_convert&lt;
        std::codecvt_utf8&lt;char32_t&gt;, char32_t&gt;{}.from_bytes(utf8);
    std::cout &lt;&lt; "\nUTF-32 转换产生了 " &lt;&lt; std::dec
              &lt;&lt; utf32.size() &lt;&lt; " 个代码单元：";
    for (char32_t c : utf32)
        std::cout &lt;&lt; std::hex &lt;&lt; static_cast&lt;std::uint32_t&gt;(c) &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
|output=
UTF-16 转换产生了 5 个代码单元：0x7a 0xdf 0x6c34 0xd834 0xdd0b
UTF-32 转换产生了 4 个代码单元：0x7a 0xdf 0x6c34 0x1d10b
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/locale/wstring_convert/dsc to_bytes}}
{{dsc inc|cpp/string/multibyte/dsc mbsrtowcs}}
{{dsc inc|cpp/locale/codecvt/dsc do_in}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}