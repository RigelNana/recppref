{{cpp/locale/wbuffer_convert/title|wbuffer_convert}}
{{cpp/locale/wbuffer_convert/navbar}}
{{dcl begin}}
{{dcl|num=1|
wbuffer_convert() : wbuffer_convert(nullptr) {}
}}
{{dcl|num=2|1=
explicit wbuffer_convert( std::streambuf* bytebuf,
                          Codecvt* pcvt = new Codecvt,
                          state_type state = state_type() );
}}
{{dcl|num=3|since=c++14|1=
wbuffer_convert( const std::wbuffer_convert&amp; ) = delete;
}}
{{dcl end}}

{|class="wikitable" style="text-align: center;"
!rowspan=2|{{nbsp|2}}é‡è½½{{nbsp|2}}
!colspan=3|{{rlps|/#æ•°æ®æˆå‘˜}}
|-
!style="font-weight: normal;"|{{tti|bufptr}}
!style="font-weight: normal;"|{{tti|cvtptr}}
!style="font-weight: normal;"|{{tti|cvtstate}}
|-
|{{v|1}}
|{{nbsp}}{{c|nullptr}}{{nbsp}}
|{{nbsp}}{{c|new Codecvt}}{{nbsp}}
|{{nbsp}}{{c|state_type()}}{{nbsp}}
|-
|{{v|2}}
|{{c|bytebuf}}
|{{c|pcvt}}
|{{c|state}}
|}

@2@ å¦‚æœ {{c|cvtptr}} æ˜¯ç©ºæŒ‡é’ˆï¼Œé‚£ä¹ˆè¡Œä¸ºæœªå®šä¹‰ã€‚

@3@ å¤åˆ¶æ„é€ å‡½æ•°è¢«å¼ƒç½®ã€‚{{tt|wbuffer_convert}} é{{named req|CopyConstructible|å¯å¤åˆ¶æ„é€ }}ã€‚

===å‚æ•°===
{{par begin}}
{{par|bytebuf|æŒ‡å‘åº•å±‚ç¼“å†²åŒºçš„æŒ‡é’ˆ}}
{{par|pcvt|æŒ‡å‘ç‹¬ç«‹ï¼ˆä¸ä¸ºæœ¬åœ°ç¯å¢ƒæ‰€ç®¡ç†ï¼‰åˆ»é¢çš„æŒ‡é’ˆ}}
{{par|state|å­—ç¬¦è½¬æ¢çŠ¶æ€çš„åˆå§‹å€¼}}
{{par end}}

===ç¤ºä¾‹===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;
#include &lt;sstream&gt;

int main()
{
    // åŒ…è£… UTF-8 å­—ç¬¦ä¸²æµäº UCS4 wbuffer_convert ä¸­
    std::stringbuf utf8buf("z\u00df\u6c34\U0001f34c");  // æˆ– u8"zÃŸæ°´ğŸŒ"
                       // æˆ– "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9f\x8d\x8c";
    std::wbuffer_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; conv_in(&amp;utf8buf);
    std::wistream ucsbuf(&amp;conv_in);
    std::cout &lt;&lt; "é€šè¿‡ wbuffer_convert ä» UTF-8 stringbuf è¯»å–ï¼š";
              &lt;&lt; std::hex &lt;&lt; std::showbase;
    for (wchar_t c; ucsbuf.get(c);)
        std::cout &lt;&lt; static_cast&lt;std::wint_t&gt;(c) &lt;&lt; ' ';
    
    // åŒ…è£…å…· UTF-8 çš„ std::cout äº UCS4 wbuffer_convert ä¸­ä»¥è¾“å‡º UCS4
    std::wbuffer_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; conv_out(std::cout.rdbuf());
    std::wostream out(&amp;conv_out);
    std::cout &lt;&lt; "\né€šè¿‡ wbuffer_convert å‘ std::cout å‘é€ UCS4 æ•°æ®ï¼š";
    out &lt;&lt; L"z\u00df\u6c34\U0001f34c\n";
}
|output=
é€šè¿‡ wbuffer_convert ä» UTF-8 stringbuf è¯»å–ï¼š0x7a 0xdf 0x6c34 0x1f34c 
é€šè¿‡ wbuffer_convert å‘ std::cout å‘é€ UCS4 æ•°æ®ï¼šzÃŸæ°´ğŸŒ
}}

===ç¼ºé™·æŠ¥å‘Š===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2175|std=C++11|before={{c|pcvt}} å¯ä»¥æ˜¯ç©ºæŒ‡é’ˆ|after=æ­¤æ—¶è¡Œä¸ºæœªå®šä¹‰}}
{{dr list item|wg=lwg|dr=2176|std=C++11|before=æ„é€ å‡½æ•°æ˜¯éšå¼çš„|after=æ”¹æˆæ˜¾å¼çš„}}
{{dr list item|paper=P0935R0|std=C++11|before=é»˜è®¤æ„é€ å‡½æ•°æ˜¯æ˜¾å¼çš„|after=æ”¹æˆéšå¼çš„}}
{{dr list end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}