{{cpp/locale/wbuffer_convert/title|rdbuf}}
{{cpp/locale/wbuffer_convert/navbar}}
{{dcl begin}}
{{dcl|num=1|
std::streambuf* rdbuf() const;
}}
{{dcl|num=2|
std::streambuf* rdbuf( std::streambuf* bytebuf );
}}
{{dcl end}}

@1@ 返回指向底层字节流的指针。

@2@ 以 {{c|bytebuf}} 替换关联字节流。

===返回值===
@1@ {{box|{{rlpsi|/#bufptr}}}}

@2@ {{rlpsi|/#bufptr}} 先前的值

===示例===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;
#include &lt;sstream&gt;

int main()
{
    // 转换 UTF-8 到 UCS4
    std::stringbuf utf8buf("z\u00df\u6c34\U0001d10b");  // 或 u8"zß水𝄋"
                       // 或 "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9d\x84\x8b";
    std::wbuffer_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; conv(&amp;utf8buf);
    std::wistream ucsbuf(&amp;conv);
    std::cout &lt;&lt; "通过 wbuffer_convert 从 UTF-8 stringbuf 读取：";
              &lt;&lt; std::hex &lt;&lt; std::showbase;
    for (wchar_t c; ucsbuf.get(c);)
        std::cout &lt;&lt; static_cast&lt;std::wint_t&gt;(c) &lt;&lt; ' ';
    
    // 复用同一 wbuffer_convert，以处理 UCS4 到 UTF-8 的输出
    conv.rdbuf(std::cout.rdbuf());
    std::wostream out(&amp;conv);
    std::cout &lt;&lt; "\n通过 wbuffer_convert 向 std::cout 发送 UCS4 数据：";
    out &lt;&lt; L"z\u00df\u6c34\U0001d10b\n";
}
|output=
通过 wbuffer_convert 从 UTF-8 stringbuf 读取：0x7a 0xdf 0x6c34 0x1d10b 
通过 wbuffer_convert 向 std::cout 发送 UCS4 数据：zß水𝄋
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc wbuffer_convert}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}