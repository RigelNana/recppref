{{cpp/locale/wbuffer_convert/title|rdbuf}}
{{cpp/locale/wbuffer_convert/navbar}}
{{dcl begin}}
{{dcl|num=1|
std::streambuf* rdbuf() const;
}}
{{dcl|num=2|
std::streambuf* rdbuf( std::streambuf* bytebuf );
}}
{{dcl end}}

@1@ è¿”å›æŒ‡å‘åº•å±‚å­—èŠ‚æµçš„æŒ‡é’ˆã€‚

@2@ ä»¥ {{c|bytebuf}} æ›¿æ¢å…³è”å­—èŠ‚æµã€‚

===è¿”å›å€¼===
@1@ {{box|{{rlpsi|/#bufptr}}}}

@2@ {{rlpsi|/#bufptr}} å…ˆå‰çš„å€¼

===ç¤ºä¾‹===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;
#include &lt;sstream&gt;

int main()
{
    // è½¬æ¢ UTF-8 åˆ° UCS4
    std::stringbuf utf8buf("z\u00df\u6c34\U0001d10b");  // æˆ– u8"zÃŸæ°´ğ„‹"
                       // æˆ– "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9d\x84\x8b";
    std::wbuffer_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; conv(&amp;utf8buf);
    std::wistream ucsbuf(&amp;conv);
    std::cout &lt;&lt; "é€šè¿‡ wbuffer_convert ä» UTF-8 stringbuf è¯»å–ï¼š";
              &lt;&lt; std::hex &lt;&lt; std::showbase;
    for (wchar_t c; ucsbuf.get(c);)
        std::cout &lt;&lt; static_cast&lt;std::wint_t&gt;(c) &lt;&lt; ' ';
    
    // å¤ç”¨åŒä¸€ wbuffer_convertï¼Œä»¥å¤„ç† UCS4 åˆ° UTF-8 çš„è¾“å‡º
    conv.rdbuf(std::cout.rdbuf());
    std::wostream out(&amp;conv);
    std::cout &lt;&lt; "\né€šè¿‡ wbuffer_convert å‘ std::cout å‘é€ UCS4 æ•°æ®ï¼š";
    out &lt;&lt; L"z\u00df\u6c34\U0001d10b\n";
}
|output=
é€šè¿‡ wbuffer_convert ä» UTF-8 stringbuf è¯»å–ï¼š0x7a 0xdf 0x6c34 0x1d10b 
é€šè¿‡ wbuffer_convert å‘ std::cout å‘é€ UCS4 æ•°æ®ï¼šzÃŸæ°´ğ„‹
}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc wbuffer_convert}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}