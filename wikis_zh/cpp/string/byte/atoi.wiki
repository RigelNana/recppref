{{cpp/title|atoi|atol|atoll}}
{{cpp/string/byte/navbar}}
{{dcl begin}}
{{dcl header|cstdlib}}
{{dcl|num=1|
int       atoi( const char* str );
}}
{{dcl|num=2|
long      atol( const char* str );
}}
{{dcl|num=3|since=c++11|
long long atoll( const char* str );
}}
{{dcl end}}

转译 {{c|str}} 所指向的字节字符串中的整数值。蕴含的基数总是 10。

{{cpp/string/cvt str2int}}

===参数===
{{par begin}}
{{par|str|指向要转译的空终止字节字符串的指针}}
{{par end}}

===返回值===

成功时为对应 {{c|str}} 内容的整数值。

若不能进行转换，则返回 {{c|0}}。

===可能的实现===
{{eq fun|1=
template&lt;typename T&gt;
T atoi_impl(const char* str)
{
    while (std::isspace(static_cast&lt;unsigned char&gt;(*str)))
        ++str;

    bool negative = false;

    if (*str == '+')
        ++str;
    else if (*str == '-')
    {
        ++str;
        negative = true;
    }

    T result = 0;
    for (; std::isdigit(static_cast&lt;unsigned char&gt;(*str)); ++str)
    {
        int digit = *str - '0';
        result *= 10;
        result -= digit; // 计算负值，以支持 INT_MIN, LONG_MIN,..
    }

    return negative ? result : -result;
}

int atoi(const char* str)
{
    return atoi_impl&lt;int&gt;(str);
}

long atol(const char* str)
{
    return atoi_impl&lt;long&gt;(str);
}

long long atoll(const char* str)
{
    return atoi_impl&lt;long long&gt;(str);
}
}}

实际的 C++ 库实现会回退到 {{tt|atoi}}、{{tt|atoil}} 和 {{tt|atoll}} 的 C 库实现，而后者则直接实现（如 [https://github.com/bminor/musl/blob/master/src/stdlib/atoi.c MUSL libc] 中）或者委托给 {{lc|std::strtol|strtol}}/{{lc|std::strtoll|strtoll}}（如 [https://github.com/bminor/glibc/blob/master/stdlib/atoi.c GNU libc]）。

===示例===
{{example
|code=
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;

int main()
{
    const auto data =
    {
        "42",
        "0x2A", // 被当做 "0" 后面跟着 "x2A"，而非十六进制
        "3.14159",
        "31337 with words",
        "words and 2",
        "-012345",
        "10000000000" // 注：在 int32_t 的范围之外
    };

    for (const char* s : data)
    {
        const int i{std::atoi(s)};
        std::cout &lt;&lt; "std::atoi('" &lt;&lt; s &lt;&lt; "') is " &lt;&lt; i &lt;&lt; '\n';
        if (const long long ll{std::atoll(s)}; i != ll)
            std::cout &lt;&lt; "std::atoll('" &lt;&lt; s &lt;&lt; "') is " &lt;&lt; ll &lt;&lt; '\n';
    }
}
|p=true
|output=
std::atoi('42') is 42
std::atoi('0x2A') is 0
std::atoi('3.14159') is 3
std::atoi('31337 with words') is 31337
std::atoi('words and 2') is 0
std::atoi('-012345') is -12345
std::atoi('10000000000') is 1410065408
std::atoll('10000000000') is 10000000000
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/string/basic_string/dsc stol}}
{{dsc inc|cpp/string/basic_string/dsc stoul}}
{{dsc inc|cpp/string/byte/dsc strtol}}
{{dsc inc|cpp/string/byte/dsc strtoul}}
{{dsc inc|cpp/string/byte/dsc strtoimax}}
{{dsc inc|cpp/utility/dsc from_chars}}
{{dsc see c|c/string/byte/atoi|atoi|atol|atoll}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}