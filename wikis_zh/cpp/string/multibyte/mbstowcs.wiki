{{cpp/title|mbstowcs}}
{{cpp/string/multibyte/navbar}}
{{ddcl|header=cstdlib|
std::size_t mbstowcs( wchar_t* dst, const char* src, std::size_t len );
}}

è½¬æ¢æ¥è‡ªé¦–å…ƒç´ ä¸º {{c|src}} æ‰€æŒ‡å‘çš„æ•°ç»„çš„å¤šå­—èŠ‚å­—ç¬¦ä¸²åˆ°å…¶å®½å­—ç¬¦è¡¨ç¤ºã€‚è¢«è½¬æ¢çš„å­—ç¬¦å­˜å‚¨äº {{c|dst}} æ‰€æŒ‡å‘æ•°ç»„çš„ç›¸ç»§å…ƒç´ ã€‚å†™å…¥ç›®æ ‡æ•°ç»„çš„å®½å­—ç¬¦æ•°ä¸å¤šäº {{c|len}}ã€‚

å¦‚åŒä»¥è°ƒç”¨ {{lc|std::mbtowc}} è½¬æ¢æ¯ä¸ªå­—ç¬¦ï¼Œé™¤äº† {{tt|mbtowc}} è½¬æ¢çŠ¶æ€ä¸å—å½±å“ã€‚è‹¥æ»¡è¶³ä¸‹åˆ—æ¡ä»¶åˆ™è½¬æ¢åœæ­¢ï¼š
* è½¬æ¢å¹¶å­˜å‚¨äº†å¤šå­—èŠ‚ç©ºå­—ç¬¦ã€‚
* é‡åˆ°ï¼ˆå½“å‰ C æœ¬åœ°ç¯å¢ƒä¸­çš„ï¼‰éæ³•å¤šå­—èŠ‚å­—ç¬¦ã€‚
* æœ¬è¦å­˜å‚¨çš„ä¸‹ä¸ªå®½å­—ç¬¦ä¼šè¶…å‡º {{c|len}}ã€‚

===æ³¨è§£===
å¤§å¤šæ•°å®ç°ä¸­ï¼Œæ­¤å‡½æ•°åœ¨å¤„ç†è¿‡å­—ç¬¦ä¸²æ—¶æ›´æ–° {{lc|std::mbstate_t}} ç±»å‹çš„å…¨å±€é™æ€å¯¹è±¡ï¼Œè€Œä¸”ä¸èƒ½ä¸ºä¸¤ä¸ªçº¿ç¨‹æ‰€åŒæ—¶è°ƒç”¨ï¼Œè¿™ç§æƒ…å†µåº”è¯¥ç”¨ {{lc|std::mbsrtowcs}}ã€‚

POSIX æŒ‡å®šä¸€ä¸ªå¸¸è§æ‰©å±•ï¼šè‹¥ {{c|dst}} æ˜¯ç©ºæŒ‡é’ˆï¼Œåˆ™æ­¤å‡½æ•°è¿”å›å‡è®¾è½¬æ¢åˆ™å†™å…¥ {{c|dst}} çš„å®½å­—ç¬¦æ•°ã€‚ç±»ä¼¼è¡Œä¸ºå¯¹äº {{lc|std::mbsrtowcs}} æ˜¯æ ‡å‡†ã€‚

===å‚æ•°===
{{par begin}}
{{par|dst|æŒ‡å‘å°†å­˜å‚¨å®½å­—ç¬¦ä¸²çš„å®½å­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆ}}
{{par|src|æŒ‡å‘è¦è½¬æ¢çš„ç©ºç»ˆæ­¢å¤šå­—èŠ‚å­—ç¬¦ä¸²çš„é¦–å…ƒç´ çš„æŒ‡é’ˆ}}
{{par|len|{{c|dst}} æ‰€æŒ‡å‘çš„æ•°ç»„ä¸­çš„å¯ç”¨å®½å­—ç¬¦æ•°}}
{{par end}}

===è¿”å›å€¼===
æˆåŠŸæ—¶ï¼Œè¿”å›ç›®æ ‡æ•°ç»„çš„å®½å­—ç¬¦æ•°ï¼Œä¸å«ç»ˆæ­¢ç¬¦ {{c|L'\0'}}ã€‚

è½¬æ¢é”™è¯¯æ—¶ï¼ˆè‹¥é‡åˆ°éæ³•å¤šå­—èŠ‚å­—ç¬¦ï¼‰ï¼Œè¿”å› {{c|static_cast&lt;std::size_t&gt;(-1)}}ã€‚

===ç¤ºä¾‹===
{{example
|code=
#include &lt;clocale&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;

int main()
{
    std::setlocale(LC_ALL, "en_US.utf8");
    std::wcout.imbue(std::locale("en_US.utf8"));
    const char* mbstr = "z\u00df\u6c34\U0001f34c"; // or u8"zÃŸæ°´ğŸŒ"
                        // or "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9f\x8d\x8c";
    wchar_t wstr[5];
    std::mbstowcs(wstr, mbstr, 5);
    std::wcout &lt;&lt; "å®½å­—ç¬¦ä¸²: " &lt;&lt; wstr &lt;&lt; '\n';
}
|output=
å®½å­—ç¬¦ä¸²: zÃŸæ°´ğŸŒ
}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/string/multibyte/dsc mbsrtowcs}}
{{dsc inc|cpp/string/multibyte/dsc wcstombs}}
{{dsc inc|cpp/locale/codecvt/dsc do_in}}
{{dsc see c|c/string/multibyte/mbstowcs}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}