{{cpp/title|wcstombs}}
{{cpp/string/multibyte/navbar}}
{{ddcl|header=cstdlib|
std::size_t wcstombs( char* dst, const wchar_t* src, std::size_t len );
}}

è½¬æ¢æ¥è‡ªé¦–å…ƒç´ ä¸º {{c|src}} æ‰€æŒ‡å‘çš„æ•°ç»„åˆ°å…¶å§‹äºåˆå§‹è¿ç§»çŠ¶æ€çš„å¤šå­—èŠ‚è¡¨ç¤ºã€‚è½¬æ¢å‡ºçš„å­—ç¬¦è¢«å­˜å‚¨äº {{c|dst}} æ‰€æŒ‡å‘çš„æ•°ç»„çš„ç›¸ç»§å…ƒç´ ã€‚å†™å…¥ç›®æ ‡æ•°ç»„çš„å­—èŠ‚æ•°ä¸å¤šäº {{c|len}} ã€‚

å¦‚åŒä»¥è°ƒç”¨ {{lc|std::wctomb}} æ¯ä¸ªå­—ç¬¦ï¼Œä½† {{tt|wctomb}} çš„è½¬æ¢çŠ¶æ€ä¸å—å½±å“ã€‚è‹¥æ»¡è¶³ä¸‹åˆ—æ¡ä»¶åˆ™è½¬æ¢åœæ­¢ï¼š
* è½¬æ¢å¹¶å­˜å‚¨ç©ºå­—ç¬¦ã€‚
* æ‰¾åˆ°å½“å‰ C æœ¬åœ°ç¯å¢ƒä¸­ä¸å¯¹åº”åˆæ³•å­—ç¬¦çš„ {{c|wchar_t}}ã€‚
* ä¸‹ä¸ªè¦å­˜å‚¨çš„å¤šå­—èŠ‚å­—ç¬¦ä¼šè¶…å‡º {{tt|len}}ã€‚

===æ³¨è§£===
å¤§å¤šæ•°å®ç°ä¸­ï¼Œæ­¤å‡½æ•°åœ¨å¤„ç†è¿‡å­—ç¬¦ä¸²æ—¶æ›´æ–° {{lc|std::mbstate_t}} ç±»å‹çš„å…¨å±€é™æ€å¯¹è±¡ï¼Œè€Œä¸”ä¸èƒ½ä¸ºä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹åº”ä½¿ç”¨ {{lc|std::wcsrtombs}}ã€‚

POSIX æŒ‡å®šä¸€ä¸ªå¸¸è§æ‰©å±•ï¼šè‹¥ {{c|dst}} æ˜¯ç©ºæŒ‡é’ˆï¼Œåˆ™æ­¤å‡½æ•°è¿”å›å‡è®¾è½¬æ¢åˆ™ä¼šå†™å…¥ {{c|dst}} çš„å­—èŠ‚æ•°ã€‚ç±»ä¼¼è¡Œä¸ºå¯¹äº  {{lc|std::wcsrtombs}} æ˜¯æ ‡å‡†ã€‚

===å‚æ•°===
{{par begin}}
{{par|dst|æŒ‡å‘çª„å­—ç¬¦æ•°ç»„çš„æŒ‡é’ˆï¼Œå…¶ä¸­å°†å­˜å‚¨å¤šå­—èŠ‚å­—ç¬¦}}
{{par|src|æŒ‡å‘è¦è½¬æ¢çš„ç©ºç»ˆæ­¢å®½å­—ç¬¦ä¸²é¦–å­—ç¬¦çš„æŒ‡é’ˆ}}
{{par|len|{{c|dst}} æ‰€æŒ‡å‘æ•°ç»„ä¸­çš„å¯ç”¨å­—èŠ‚æ•°}}
{{par end}}

===è¿”å›å€¼===
æˆåŠŸæ—¶ï¼Œè¿”å›å†™å…¥é¦–å…ƒç´ ä¸º {{c|dst}} æ‰€æŒ‡å‘çš„å­—ç¬¦æ•°ç»„çš„å­—èŠ‚æ•°ï¼ˆåŒ…å«ä»»ä½•è¿ç§»åºåˆ—ï¼Œä½†ä¸å«ç»ˆæ­¢çš„ {{c|'\0'}}ï¼‰ã€‚

è½¬æ¢é”™è¯¯æ—¶ï¼ˆè‹¥é‡åˆ°éæ³•å®½å­—ç¬¦ï¼‰ï¼Œè¿”å› {{c|static_cast&lt;std::size_t&gt;(-1)}}ã€‚

===ç¤ºä¾‹===
{{example
|code=
#include &lt;clocale&gt;
#include &lt;cstdlib&gt;
#include &lt;iostream&gt;

int main()
{
    std::setlocale(LC_ALL, "en_US.utf8");
    // UTF-8 çª„å¤šå­—èŠ‚ç¼–ç 
    const wchar_t* wstr = L"z\u00df\u6c34\U0001d10b"; // æˆ– L"zÃŸæ°´ğ„‹"
    char mbstr[11];
    std::wcstombs(mbstr, wstr, 11);
    std::cout &lt;&lt; "multibyte string: " &lt;&lt; mbstr &lt;&lt; '\n';
}
|output=
multibyte string: zÃŸæ°´ğ„‹
}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/string/multibyte/dsc wcsrtombs}}
{{dsc inc|cpp/string/multibyte/dsc mbstowcs}}
{{dsc inc|cpp/locale/codecvt/dsc do_out}}
{{dsc see c|c/string/multibyte/wcstombs}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}