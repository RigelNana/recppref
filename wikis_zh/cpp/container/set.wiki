{{cpp/title|set}}
{{cpp/container/set/navbar}}
{{dcl begin}}
{{dcl header|set}}
{{dcl|num=1|1=
template&lt;
    class Key,
    class Compare = std::less&lt;Key&gt;,
    class Allocator = std::allocator&lt;Key&gt;
&gt; class set;
}}
{{dcl|num=2|since=c++17|1=
namespace pmr {
    template&lt;
        class Key,
        class Compare = std::less&lt;Key&gt;
    &gt; using set = std::set&lt;Key, Compare, std::pmr::polymorphic_allocator&lt;Key&gt;&gt;;
}
}}
{{dcl end}}

{{tt|std::set}} 是一种关联容器，含有 {{tt|Key}} 类型对象的已排序集。用比较函数 {{named req|Compare}} 进行排序。搜索、移除和插入拥有对数复杂度。{{tt|set}} 通常以{{enwiki|Red–black tree|红黑树}}实现。

标准库使用{{named req|Compare}}的规定时，均用等价关系确定唯一性。不精确地说，如果两个对象 {{c|a}} 与 {{c|b}} 相互比较不小于对方：{{c|!comp(a, b) &amp;&amp; !comp(b, a)}}，那么认为它们等价。

{{tt|std::set}} 满足{{named req|Container}}、{{named req|AllocatorAwareContainer}}、{{named req|AssociativeContainer}}和{{named req|ReversibleContainer}}的要求。

{{cpp/is_constexpr|since=c++26|transient=yes}}

===模板形参===
{{todo|添加模板形参的说明。}}

===成员类型===
{{dsc begin}}
{{dsc hitem|类型|定义}}
{{dsc inc|cpp/container/dsc key_type|set}}
{{dsc inc|cpp/container/dsc value_type|set}}
{{dsc inc|cpp/container/dsc size_type|set}}
{{dsc inc|cpp/container/dsc difference_type|set}}
{{dsc inc|cpp/container/dsc key_compare|set}}
{{dsc inc|cpp/container/dsc value_compare2|set}}
{{dsc inc|cpp/container/dsc allocator_type|set}}
{{dsc inc|cpp/container/dsc reference|set}}
{{dsc inc|cpp/container/dsc const_reference|set}}
{{dsc inc|cpp/container/dsc pointer|set}}
{{dsc inc|cpp/container/dsc const_pointer|set}}
{{dsc inc|cpp/container/dsc iterator|set}}
{{dsc inc|cpp/container/dsc const_iterator|set}}
{{dsc inc|cpp/container/dsc reverse_iterator|set}}
{{dsc inc|cpp/container/dsc const_reverse_iterator|set}}
{{dsc inc|cpp/container/dsc node_type|set}}
{{dsc inc|cpp/container/dsc insert_return_type|set}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/container/dsc constructor|set}}
{{dsc inc|cpp/container/dsc destructor|set}}
{{dsc inc|cpp/container/dsc operator{{=}}|set}}
{{dsc inc|cpp/container/dsc get_allocator|set}}

{{dsc h2 |迭代器}}
{{dsc inc|cpp/container/dsc begin|set}}
{{dsc inc|cpp/container/dsc end|set}}
{{dsc inc|cpp/container/dsc rbegin|set}}
{{dsc inc|cpp/container/dsc rend|set}}

{{dsc h2 |容量}}
{{dsc inc|cpp/container/dsc empty|set}}
{{dsc inc|cpp/container/dsc size|set}}
{{dsc inc|cpp/container/dsc max_size|set}}

{{dsc h2 |修改器}}
{{dsc inc|cpp/container/dsc clear|set}}
{{dsc inc|cpp/container/dsc insert|set}}
{{dsc inc|cpp/container/dsc insert_range|set}}
{{dsc inc|cpp/container/dsc emplace|set}}
{{dsc inc|cpp/container/dsc emplace_hint|set}}
{{dsc inc|cpp/container/dsc erase|set}}
{{dsc inc|cpp/container/dsc swap|set}}
{{dsc inc|cpp/container/dsc extract|set}}
{{dsc inc|cpp/container/dsc merge|set}}

{{dsc h2 |查找}}
{{dsc inc|cpp/container/dsc count|set}}
{{dsc inc|cpp/container/dsc find|set}}
{{dsc inc|cpp/container/dsc contains|set}}
{{dsc inc|cpp/container/dsc equal_range|set}}
{{dsc inc|cpp/container/dsc lower_bound|set}}
{{dsc inc|cpp/container/dsc upper_bound|set}}

{{dsc h2 |观察器}}
{{dsc inc|cpp/container/dsc key_comp|set}}
{{dsc inc|cpp/container/dsc value_comp|set}}
{{dsc end}}

===非成员函数===
{{dsc begin}}
{{dsc inc|cpp/container/dsc operator_cmp|set}}
{{dsc inc|cpp/container/dsc swap2|set}}
{{dsc inc|cpp/container/dsc erase_if|set}}
{{dsc end}}

{{rrev|since=c++17|
==={{rl|deduction guides|推导指引}}===
}}

===注解===
{{cpp/container/assoc_note}}

{{ftm begin|std=1|comment=1}}
{{ftm|__cpp_lib_containers_ranges|value=202202L|std=C++23|容器的范围构造和插入}}
{{ftm|__cpp_lib_constexpr_containers|value=202502L|std=C++26|{{c/core|constexpr}} {{tt|std::set}}}}
{{ftm end}}

===示例===
{{example
|code=
#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;iterator&gt;
#include &lt;set&gt;
#include &lt;string_view&gt;

template&lt;typename T&gt;
std::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const std::set&lt;T&gt;&amp; set)
{
    if (set.empty())
        return out &lt;&lt; "{}";
    out &lt;&lt; "{ " &lt;&lt; *set.begin();
    std::for_each(std::next(set.begin()), set.end(), [&amp;out](const T&amp; element)
    {
        out &lt;&lt; ", " &lt;&lt; element;
    });
    return out &lt;&lt; " }";
}

int main()
{
    std::set&lt;int&gt; set{1, 5, 3};
    std::cout &lt;&lt; set &lt;&lt; '\n';

    set.insert(2);
    std::cout &lt;&lt; set &lt;&lt; '\n';

    set.erase(1);
    std::cout &lt;&lt; set &lt;&lt; "\n\n";

    std::set&lt;int&gt; keys{3, 4};
    for (int key : keys)
    {
        if (set.contains(key))
            std::cout &lt;&lt; set &lt;&lt; " 包含 " &lt;&lt; key &lt;&lt; '\n';
        else
            std::cout &lt;&lt; set &lt;&lt; " 不包含 " &lt;&lt; key &lt;&lt; '\n';
    }
    std::cout &lt;&lt; '\n';

    std::string_view word = "element";
    std::set&lt;char&gt; characters(word.begin(), word.end());
    std::cout &lt;&lt; std::quoted(word) &lt;&lt; " 中有 " &lt;&lt; characters.size() &lt;&lt; " 个唯一字符:\n"
              &lt;&lt; characters &lt;&lt; '\n';
}
|output=
{ 1, 3, 5 }
{ 1, 2, 3, 5 }
{ 2, 3, 5 }

{ 2, 3, 5 } 包含 3
{ 2, 3, 5 } 不包含 4

"element" 中有 5 个唯一字符：
{ e, l, m, n, t }
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=103|std=C++98|before=允许通过迭代器修改键|after=使迭代器为常迭代器}}
{{dr list item|wg=lwg|dr=230|std=C++98|before={{tt|Key}} 不需要满足{{named req|CopyConstructible}}&lt;br&gt;（因此不保证能构造 {{tt|Key}} 类型的键）|after={{tt|Key}} 也需要满足&lt;br&gt;{{named req|CopyConstructible}}}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/container/dsc multiset}}
{{dsc inc|cpp/container/dsc unordered_set}}
{{dsc inc|cpp/container/dsc flat_set}}
{{dsc end}}

{{langlinks|cs|de|en|es|fr|it|ja|pl|pt|ru}}