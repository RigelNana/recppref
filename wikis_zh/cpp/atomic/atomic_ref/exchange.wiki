{{cpp/atomic/atomic_ref/title|exchange}}
{{cpp/atomic/atomic_ref/navbar}}
{{ddcla|constexpr=c++26|1=&lt;!-- C++26 前 value_type 与 T 相同 --&gt;
value_type exchange( value_type desired,
                     std::memory_order order =
                         std::memory_order_seq_cst ) const noexcept;
}}

原子地以 {{c|desired}} 替换被引用对象的值。该操作是读修改写操作。按照 {{c|order}} 的值影响内存。

{{cpp/enable if| {{c/core|std::is_const_v&lt;T&gt;}} 是 {{c|false}} }}。

===参数===
{{par begin}}
{{par|desired|要赋值的值}}
{{par|order|要施加的内存定序制约}}
{{par end}}

===返回值===
调用前被引用对象的值。

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3508|paper=P3323R1|std=C++20|before={{tt|exchange}} 对 {{c/core|const T}} 无意义|after=受约束以仅接受非 const 的 {{tt|T}}}}
{{dr list end}}

{{langlinks|en|es|ja}}