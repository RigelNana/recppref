{{title|ATOMIC_FLAG_INIT}}
{{cpp/thread/navbar}}
{{ddcl|header=atomic|since=c++11|
#define ATOMIC_FLAG_INIT /* 由实现定义 */
}}

定义可以通过 {{c|std::atomic_flag v {{=}} ATOMIC_FLAG_INIT;}} 的形式初始化 {{lc|std::atomic_flag}} 为清除状态的初始化器。它能否用于其他初始化语境是未指定的。

如果标志是具有{{ls|cpp/language/storage duration#静态存储期}}的[[cpp/language/object#子对象|完整对象]]，那么此[[cpp/language/initialization#静态初始化|初始化为静态]]。

{{rev begin}}
{{rev|until=c++20|
只能通过这种方式初始化 {{lc|std::atomic_flag}} 为确定值：以其他方式初始化后保有的值未指定。
}}
{{rev|since=c++20|
不再需要此宏，因为 {{lc|std::atomic_flag}} 的默认构造函数会将它初始化为清除状态。它为与 C 的兼容而保留。
}}
{{rev end}}

===示例===
{{example
|
|code=
#include &lt;atomic&gt;

std::atomic_flag static_flag = ATOMIC_FLAG_INIT; // 静态初始化，
// 保证在静态对象的动态初始化期间可用。

int main()
{
    std::atomic_flag automatic_flag = ATOMIC_FLAG_INIT; // 保证有效
//    std::atomic_flag another_flag(ATOMIC_FLAG_INIT); // 未指定
}
|output=
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2159|std=C++11|before=不明确 {{tt|ATOMIC_FLAG_INIT}} 能否用于其他初始化语境|after=其他用法不保证可行}}
{{dr list item|wg=lwg|dr=3659|std=C++20|before={{tt|ATOMIC_FLAG_INIT}} 被弃用，但一些平台上 C 需要|after=它不再被弃用}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/atomic/dsc atomic_flag}}
{{dsc see c|c/atomic/ATOMIC_FLAG_INIT}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}