{{cpp/atomic/atomic_flag/title|test_and_set}}
{{cpp/atomic/atomic_flag/navbar}}
{{dcl begin}}
{{dcl header|atomic}}
{{dcl|num=1|since=c++11|1=
bool test_and_set( std::memory_order order =
                       std::memory_order_seq_cst ) volatile noexcept;
}}
{{dcl|num=2|since=c++11|1=
bool test_and_set( std::memory_order order =
                       std::memory_order_seq_cst ) noexcept;
}}
{{dcl end}}

将 {{lc|std::atomic_flag}} 的状态原子地更改为设置（{{c|true}}），并返回它先前保有的值。

===参数===
{{par begin}}
{{par|order|内存同步定序}}
{{par end}} 

===参阅===
{{dsc begin}}
{{dsc inc|cpp/atomic/atomic_flag/dsc clear}}
{{dsc inc|cpp/atomic/dsc atomic_flag_test_and_set}}
{{dsc inc|cpp/atomic/dsc memory_order}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}