{{cpp/experimental/pmr/title|synchronized_pool_resource}}
{{cpp/experimental/lib extensions/pmr/synchronized_pool_resource/navbar}}
{{ddcl|header=experimental/memory_resource|since=libfund_ts|
class synchronized_pool_resource : public memory_resource;
}}

类 {{tt|std::experimental::pmr::synchronized_pool_resource}} 是一种通用目的的内存资源类，具有下列性质：
* 它拥有所分配的内存，并在析构时将之释放，即便对某些已分配块并未调用 {{tt|deallocate}} 也是如此。
* 它由一组服务于不同块大小请求的''池子''构成。每个池子管理一组''区段''，并将它们切分为统一大小的块。
* 对 {{ltt|cpp/experimental/synchronized_pool_resource/do_allocate}} 的调用被派发给提供适用于所请求大小的最小块的池子。
* 耗尽池子中内存将导致对此池子的下一次分配请求从''上游分配器''分配一个额外区段来填充池子。获取的区段大小以指数规律增长。
* 超出最大块大小的分配请求，直接由''上游分配器''提供服务。
* 可以通过向构造函数传递 {{lc|std::experimental::pmr::pool_options}} 结构体来调节最大的块大小和最大区段大小。

可以从多个线程不进行外部同步地访问 {{tt|synchronized_pool_resource}}，也可具有线程专用的池子以缩减同步成本。如果只从一个线程访问内存资源，{{ltt|cpp/experimental/unsynchronized_pool_resource}} 则更加高效。

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc constructor}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc destructor}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc operator{{=}}}}

{{dsc h2|公开成员函数}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc release}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc upstream_resource}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc options}}

{{dsc h2|受保护成员函数}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc do_allocate}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc do_deallocate}}
{{dsc inc|cpp/experimental/synchronized_pool_resource/dsc do_is_equal}}
{{dsc end}}