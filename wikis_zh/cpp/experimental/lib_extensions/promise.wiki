{{cpp/experimental/title|promise {{mark since libfund_ts}}}}
{{cpp/experimental/lib extensions/pmr/navbar}}

''此页面提及库基础 TS 所提供的带类型擦除分配器支持的 {{lc|std::promise}} 修改版本。对于并发 TS 所提供的支持该 TS 所改进的 {{tt|std::future}} 的 {{tt|promise}} 版本，见 {{ltt|cpp/experimental/concurrency/promise|std::experimental::concurrency_v1::promise}}。''

{{dcl begin}}
{{dcl header | experimental/future}}
{{dcl | num=1 | since=libfund_ts |
template&lt; class R &gt; class promise;
}}
{{dcl | num=2 | since=libfund_ts |
template&lt; class R &gt; class promise&lt;R&amp;&gt;;
}}
{{dcl | num=3 | since=libfund_ts |
template&lt;&gt;          class promise&lt;void&gt;;
}}
{{dcl end}}

{{tt|std::experimental::fundamentals_v1::promise}}（和 {{tt|std::experimental::fundamentals_v2::promise}}）是 {{lc|std::promise}} 的修改版，由库基础 TS 提供，带有对类型擦除分配器的支持。

===成员类型===
{{dsc begin}}
{{dsc hitem |成员类型|定义}}
{{dsc | {{tt|allocator_type}} | {{lc|std::experimental::erased_type}}}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc constructor}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc get_memory_resource}}
{{dsc end}}

===非成员函数===
{{dsc begin}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc swap2}}
{{dsc end}}

===辅助类===
{{dsc begin}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc uses_allocator}}
{{dsc end}}

{{identical|{{small|std::}}promise|2=

===成员函数===
{{dsc begin}}
{{dsc inc | cpp/thread/promise/dsc destructor}}
{{dsc inc | cpp/thread/promise/dsc operator{{=}}}}
{{dsc inc | cpp/thread/promise/dsc swap}}

{{dsc h2 | 获取结果}}
{{dsc inc | cpp/thread/promise/dsc get_future}}

{{dsc h2 | 设置结果}}
{{dsc inc | cpp/thread/promise/dsc set_value}}
{{dsc inc | cpp/thread/promise/dsc set_value_at_thread_exit}}
{{dsc inc | cpp/thread/promise/dsc set_exception}}
{{dsc inc | cpp/thread/promise/dsc set_exception_at_thread_exit}}
{{dsc end}}

}}

{{langlinks|en}}