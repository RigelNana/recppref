{{cpp/experimental/ranges/title|difference_type}}
{{cpp/experimental/ranges/iterator/navbar}}
{{dcl begin}}
{{dcl header|experimental/ranges/iterator}}
{{dcl|num=1|
template&lt; class I &gt;
struct difference_type {};
}}
{{dcl|num=2|
template&lt; class T &gt;
struct difference_type&lt;T*&gt;;
}}
{{dcl|num=3|
template&lt; class T &gt;
struct difference_type&lt;const T&gt; : difference_type&lt;std::decay_t&lt;T&gt;&gt; {};
}}
{{dcl|num=4|
template&lt; class T &gt;
    requires requires { typename T::difference_type; }
struct difference_type&lt;T&gt;;
}}
{{dcl|num=5|
template&lt; class T &gt;
    requires !requires { typename T::difference_type; } &amp;&amp;
             requires(const T&amp; a, const T&amp; b) { {a - b} -&gt; Integral; }
struct difference_type&lt;T&gt;;
}}
{{dcl end}}

计算类型 {{tt|I}} 关联的差类型，若它存在。用户可对程序定义类型特化 {{tt|difference_type}}。

@1@ 主模板是空结构体。
@2@ 对指针的特化。若 {{tt|T}} 是对象类型，则提供等于 {{lc|std::ptrdiff_t}} 的成员类型 {{tt|type}}。否则，无成员 {{tt|type}}。
@3@ 对 const 限定类型的特化。
@4@ 对定义公开可访问成员类型 {{tt|difference_type}} 的类型的特化。提供等于 {{tt|T::difference_type}} 的成员类型 {{tt|type}}。
@5@ 对不定义公开且可访问成员类型 {{tt|difference_type}}，但支持减法的类型的特化。提供等于 {{c|std::make_signed_t&lt;decltype(std::declval&lt;T&gt;() - std::declval&lt;T&gt;())&gt;}} 的成员类型 {{tt|type}}。

=== 辅助别名模版 ===
{{ddcl|since=ranges|1=
template&lt; class T &gt; 
using difference_type_t = typename ranges::difference_type&lt;T&gt;::type;
}}

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/experimental/ranges/iterator/dsc WeaklyIncrementable}}
{{dsc inc|cpp/experimental/ranges/iterator/dsc iterator_traits}}
{{dsc end}}

{{langlinks|en|ja}}