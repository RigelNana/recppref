{{cpp/experimental/atomic_weak_ptr/title|exchange}}
{{cpp/experimental/concurrency/atomic_weak_ptr/navbar}}

{{dcl begin}}
{{dcl | 1=
weak_ptr&lt;T&gt; exchange( weak_ptr&lt;T&gt; desired, std::memory_order order = std::memory_order_seq_cst ) noexcept;
}}
{{dcl end}}

原子地以 {{tt|desired}} 替换底层 {{tt|weak_ptr}}。此操作是读修改写操作。根据 {{tt|order}} 的值影响内存。

===参数===
{{par begin}}
{{par | desired | 要赋的值}}
{{par | order | 要强制的内存定序约束}}
{{par end}}

===返回值===
调用前原子变量的值。

===说明===
{{cpp/experimental/atomic_weak_ptr/atomic remarks}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/memory/shared ptr/dsc atomic}}
{{dsc end}}