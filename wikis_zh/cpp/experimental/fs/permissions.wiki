{{cpp/experimental/fs/title|permissions}}
{{cpp/experimental/fs/navbar}}
{{dcl begin}}
{{dcl header|experimental/filesystem}}
{{dcl|since=fs_ts|1=
void permissions( const path&amp; p, perms prms );
void permissions( const path&amp; p, perms prms, error_code&amp; ec );
}}
{{dcl end}}

改变 {{c|p}} 解析到的文件的访问权限，如同以 POSIX [https://pubs.opengroup.org/onlinepubs/9699919799/functions/fchmodat.html fchmodat]。当设置 {{tt|prms::resolve_symlinks}} 时跟随符号链接。

其效果取决于 {{c|prms}} 如下：

* 如果 {{c|perms::add_perms}} 或 {{c|perms::remove_perms}} 均未设置，则文件权限被准确设置为 {{c|prms &amp; fs::perms::mask}}（含义为，应用 {{c|prms}} 中的每个有效位）。
* 如果设置了 {{c|perms::add_perms}}，则文件权限被准确设置为 {{c|status(p).permissions() {{!}} (prms &amp; perms::mask)}}（含义为，将 {{c|prms}} 中已设置，但未在文件当前权限中的任何有效位添加到文件权限）。
* 如果设置了 {{c|perms::remove_perms}}，则文件权限被准确设置为 {{c|status(p).permissions() &amp; ~(prms &amp; perms::mask)}}（含义为，将 {{c|prms}} 中已清除，但在文件的当前权限中设置的任何位，从文件权限中清除）。
* 如果同时设置了 {{c|perms::add_perms}} 和 {{c|perms::remove_perms}}，则发生错误。

无抛出重载在发生错误时没有特殊动作。

===参数===
{{par begin}}
{{par|p|要检查的路径}}
{{par|prms|要设置、添加或移除的权限}}
{{par|ec|用于无抛出重载中错误报告的输出形参}}
{{par end}}

===返回值===
（无）

===异常===
{{cpp/experimental/fs/error_handling|p}}

===注解===
权限不必实现为位标记，但概念上以这种方式对待它们。

一些权限位在一些系统上被忽略，而改变一些位会自动改变其他位（例如，在不区分所有者/组/其他的系统上，设置三者任一位就会设置三者全部）。

===示例===
{{cpp/experimental/fs/permissions_example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/experimental/fs/dsc perms}}
{{dsc inc|cpp/experimental/fs/dsc status}}
{{dsc end}}