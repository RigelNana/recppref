{{cpp/experimental/fs/title|perms}}
{{cpp/experimental/fs/navbar}}
{{dcl begin}}
{{dcl header|experimental/filesystem}}
{{dcl|since=fs_ts|1=
enum class perms;
}}
{{dcl end}}

此类型表示文件访问权限。{{tt|perms}} 满足 {{named req|BitmaskType}} 的要求（这表示按位运算符 {{c|operator&amp;}}、{{c|operator{{!}}}}、{{c|operator^}}、{{c|operator~}}、{{c|operator&amp;{{=}}}}、{{c|operator{{!}}{{=}}}} 和 {{c|operator^{{=}}}} 对此类型有定义）。

访问权限模仿 [https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/sys_stat.h.html POSIX 权限位]，且任何独立文件的权限（如 {{rlp|status}} 所报告）都是以下位的某种组合：

===成员常量===
{|class="wikitable" style="text-align:left; font-size:85%; max-width:90em;"
|-
!成员常量
!值（八进制）
!POSIX 等价物
!含义
|-
|{{tt|none}}
|{{c|0}}
|
|未设置任何权限位
|-
|{{tt|owner_read}}
|{{c|0400}}
|{{c|S_IRUSR}}
|文件所有者有读权限
|-
|{{tt|owner_write}}
|{{c|0200}}
|{{c|S_IWUSR}}
|文件所有者有写权限
|-
|{{tt|owner_exec}}
|{{c|0100}}
|{{c|S_IXUSR}}
|文件所有者有执行/搜索权限
|-
|{{tt|owner_all}}
|{{c|0700}}
|{{c|S_IRWXU}}
|文件所有者有读、写和执行/搜索权限
等价于 {{c|owner_read {{!}} owner_write {{!}} owner_exec}}
|-
|{{tt|group_read}}
|{{c|040}}
|{{c|S_IRGRP}}
|文件的用户组有读权限
|-
|{{tt|group_write}}
|{{c|020}}
|{{c|S_IWGRP}}
|文件的用户组有写权限
|-
|{{tt|group_exec}}
|{{c|010}}
|{{c|S_IXGRP}}
|文件的用户组有执行/搜索权限
|-
|{{tt|group_all}}
|{{c|070}}
|{{c|S_IRWXG}}
|文件的用户组有读、写和执行/搜索权限
等价于 {{c|group_read {{!}} group_write {{!}} group_exec}}
|-
|{{tt|others_read}}
|{{c|04}}
|{{c|S_IROTH}}
|其他用户有读权限
|-
|{{tt|others_write}}
|{{c|02}}
|{{c|S_IWOTH}}
|其他用户有写权限
|-
|{{tt|others_exec}}
|{{c|01}}
|{{c|S_IXOTH}}
|其他用户有执行/搜索权限
|-
|{{tt|others_all}}
|{{c|07}}
|{{c|S_IRWXO}}
|其他用户有读、写和执行/搜索权限
等价于 {{c|others_read {{!}} others_write {{!}} others_exec}}
|-
|{{tt|all}}
|{{c|0777}}
|
|所有用户均有读、写和执行/搜索权限
等价于 {{c|owner_all {{!}} group_all {{!}} others_all}}
|-
|{{tt|set_uid}}
|{{c|04000}}
|{{c|S_ISUID}}
|设置执行时的用户 ID 为文件的所有者用户 ID
|-
|{{tt|set_gid}}
|{{c|02000}}
|{{c|S_ISGID}}
|设置执行时的组 ID 为文件的用户组 ID
|-
|{{tt|sticky_bit}}
|{{c|01000}}
|{{c|S_ISVTX}}
|由实现定义的含义，但 POSIX XSI 指定在目录上设置时，即便目录对其他人是可写的，也只有文件所有者可以删除文件（用于 {{c|/tmp}}）
|-
|{{tt|mask}}
|{{c|07777}}
|
|所有有效权限位
等价于 {{c|all {{!}} set_uid {{!}} set_gid {{!}} sticky_bit}}
|}

此外，还定义了此类型的以下常量，它们并不表示权限：

{|class="wikitable" style="text-align:left; font-size:85%; max-width:90em;"
|-
!成员常量
!值（十六进制）
!含义
|-
|{{tt|unknown}}
|{{c|0xFFFF}}
|未知权限（例如当 {{rlp|file_status}} 不以任何权限创建）
|-
|{{tt|add_perms}}
|{{c|0x10000}}
|指示 {{rlp|permissions}} 进行添加而非清除权限位的控制位。
|-
|{{tt|remove_perms}}
|{{c|0x20000}}
|指示 {{rlp|permissions}} 进行清除而非添加权限位的控制位。
|-
|{{tt|resolve_symlinks}}
|{{c|0x40000}}
|指示 {{rlp|permissions}} 解析符号链接的控制位。
|}

===注解===
权限不必实现为位标记，但概念上以此种方式对待它们。

一些权限位在一些系统上被忽略，而改变一些位会自动改变其他位（例如，在不区分所有者/组/其他的系统上，设置三者任一位就会设置三者全部）。 

===示例===
{{cpp/experimental/fs/permissions_example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/experimental/fs/dsc status}}
{{dsc inc|cpp/experimental/fs/dsc permissions}}
{{dsc end}}