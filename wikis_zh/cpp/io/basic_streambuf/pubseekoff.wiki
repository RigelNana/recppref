{{cpp/io/basic_streambuf/title|pubseekoff|seekoff}}
{{cpp/io/basic_streambuf/navbar}}
{{dcl begin}}
{{dcl|num=1|1=
pos_type pubseekoff( off_type off, std::ios_base::seekdir dir,
                     std::ios_base::openmode which = ios_base::in {{!}} ios_base::out );
}}
{{dcl|num=2|1=
protected:
virtual pos_type seekoff( off_type off, std::ios_base::seekdir dir,
                          std::ios_base::openmode which = ios_base::in {{!}} ios_base::out );
}}
{{dcl end}}

相对某其他位置，设置输入和/或输出序列的位置指示器。

@1@ 调用最终派生类的 {{c|seekoff(off, dir, which)}}。

@2@ 此函数的基类版本无效果。派生类可覆写此函数以允许位置指示器的相对寻位。

===参数===
{{par begin}}
{{par|off|要设置位置指示器到的相对位置。}}
{{par|dir|定义要应用相对偏移量的基位置。它可以是下列常量之一：
{{cpp/io/ios_base/seekdir consts}}}}
{{par|which|定义会影响到的输入和/或输出序列。它可以是下列常量之一或它们的组合：
{{cpp/io/ios_base/openmode streambuf consts}}}}
{{par end}}

===注解===
并非所有实参组合都可以合法，细节见 {{tt|seekoff}} 的派生类版本。

===返回值===
@1@ {{c|seekoff(off, dir, which)}} 的返回值

@2@ 位置指示器所定义的结果绝对位置。基类版本返回 {{c|pos_type(off_type(-1))}}。

===示例===
{{example|
|code=
|output=
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=55|std=C++98|before={{tt|seekoff}} 的基类版本返回了未定义的无效流位置|after=返回 {{c|pos_type(off_type(-1))}}}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/io/basic_streambuf/dsc pubseekpos}}
{{dsc inc|cpp/io/basic_filebuf/dsc seekoff}}
{{dsc inc|cpp/io/basic_stringbuf/dsc seekoff}}
{{dsc inc|cpp/io/strstreambuf/dsc seekoff}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}