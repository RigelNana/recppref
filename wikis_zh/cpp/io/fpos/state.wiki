{{cpp/io/fpos/title|state}}
{{cpp/io/fpos/navbar}}

{{dcl begin}}
{{dcl|num=1|
State state() const;
}}
{{dcl|num=2|
void state( State st );
}}
{{dcl end}}

管理文件位置状态。

@1@ 返回文件位置状态的值。
@2@ 以 {{c|st}} 的值替换文件位置状态。

对于 {{lc|std::fpos}} 用于标准库的特化，{{tt|State}} 始终是 {{lc|std::mbstate_t}}。

===参数===
{{par begin}}
{{par|st|状态的新值}}
{{par end}}

===返回值===
@1@ {{tt|fpos}} 状态的当前值

@2@ （无）

===示例===
{{example|
|code=
#include &lt;cwchar&gt;
#include &lt;iostream&gt;
#include &lt;sstream&gt;

int main()
{
    std::istringstream s("test");
    std::mbstate_t st = s.tellg().state();
    
    if (std::mbsinit(&amp;st))
        std::cout &lt;&lt; "流处于初始迁移状态\n";
}
|output=
流处于初始迁移状态
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=441|std=C++98|before=重载 {{v|1}} 没有声明为 {{c/core|const}}（它在[[cpp/header/ios|概要]]中是 {{c/core|const}} 的）|after=加上 {{c/core|const}}}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/string/multibyte/dsc mbstate_t}}
{{dsc end}}

{{langlinks|en|ja}}