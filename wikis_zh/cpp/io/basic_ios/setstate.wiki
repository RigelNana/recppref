{{cpp/io/basic_ios/title|setstate}}
{{cpp/io/basic_ios/navbar}}
{{dcl begin}}
{{dcl| 
void setstate( iostate state );
}}
{{dcl end}}

在当前已设置表之外，设置流错误状态标志 {{c|state}}。实质上调用 {{c|clear(rdstate() {{!}} state)}}。可能抛出异常。

===参数===
{{par begin}}
{{par | state |要设置的流错误状态标志。可为下列常量的组合：
{{cpp/io/ios_base/iostate consts}}
}}
{{par end}}

===返回值===
（无）

===示例===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;sstream&gt;

int main()
{
    std::ostringstream stream;

    if (!stream.fail())
        std::cout &lt;&lt; "stream is not fail\n";

    stream.setstate(std::ios_base::failbit);

    if (stream.fail())
        std::cout &lt;&lt; "now stream is fail\n";

    if (!stream.good())
        std::cout &lt;&lt; "and stream is not good\n";
}
|output=
stream is not fail
now stream is fail
and stream is not good
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/io/basic_ios/dsc rdstate}}
{{dsc inc|cpp/io/basic_ios/dsc clear}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}