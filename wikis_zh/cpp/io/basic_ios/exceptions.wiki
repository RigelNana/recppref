{{cpp/io/basic_ios/title|exceptions}}
{{cpp/io/basic_ios/navbar}}
{{dcl begin}}
{{dcl|num=1|
std::ios_base::iostate exceptions() const;
}}
{{dcl|num=2|
void exceptions( std::ios_base::iostate except );
}}
{{dcl end}}

获取和设置流的异常掩码。异常掩码确定在哪些错误状态出现时抛出 {{lc|failure}} 类型异常。

@1@ 返回异常掩码。

@2@ 设置异常掩码为 {{tt|except}}。如果调用时此流具有异常掩码所覆盖的错误状态，则立即触发异常。

===参数===
{{par begin}}
{{par | except |异常掩码}}
{{par end}}

===返回值===
@1@ 当前异常掩码。

@2@ （无）

===注解===
{{todo|讨论 [http://cplusplus.github.io/LWG/lwg-active.html#2349 LWG2349] ，并从 ios_base::clear 及从有/无格式输入/输出函数要求页面的链接（或者在要求页面的上详述行为并从此处链接更好）。参阅 [http://stackoverflow.com/a/35089910 stackoverflow.com/a/35089910]}}

===示例===
{{example
|code=
#include &lt;fstream&gt;
#include &lt;iostream&gt;

int main() 
{
    int ivalue;
    try
    {
        std::ifstream in("in.txt");
        in.exceptions(std::ifstream::failbit); // 可能抛出
        in &gt;&gt; ivalue; // 可能抛出
    }
    catch (const std::ios_base::failure&amp; fail)
    {
        // 此处处理异常
        std::cout &lt;&lt; fail.what() &lt;&lt; '\n';
    }
}
|p=true
|output=basic_ios::clear: iostream error
}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}