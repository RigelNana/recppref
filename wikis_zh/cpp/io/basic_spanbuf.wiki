{{cpp/title|basic_spanbuf}}
{{cpp/io/basic_spanbuf/navbar}}
{{ddcl|header=spanstream|since=c++23|1=
template&lt;
    class CharT,
    class Traits = std::char_traits&lt;CharT&gt;
&gt; class basic_spanbuf
    : public std::basic_streambuf&lt;CharT, Traits&gt;
}}

{{tt|std::basic_spanbuf}} 是一个关联内存中固定位置的任意字符序列的 {{lc|std::basic_streambuf}}，它能从 {{c/core|std::span&lt;CharT&gt;}} 初始化，并能被用作 {{c/core|std::span&lt;CharT&gt;}} 的实例。

{{tt|std::basic_spanbuf}} 进行固定缓冲区上的输入/输出，因此它在耗尽底层缓冲区时不会尝试获得新的缓冲区。

{{cpp/basic char typedefs|spanbuf|spanstream}}

{{cpp/io/member types}}

===数据成员===
{{dsc begin}}
{{dsc hitem|成员名|定义}}
{{dsc|{{tti|mod}} {{mark|private}}|记录打开模式的 {{lc|std::ios_base::openmode}}。&lt;br&gt;{{mark expos mem obj}}}}
{{dsc|{{tti|buf}} {{mark|private}}|引用底层缓冲区的 {{c/core|std::span&lt;CharT&gt;}}。&lt;br&gt;{{mark expos mem obj}}}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc h2 | 公开成员函数}}
{{dsc inc | cpp/io/basic_spanbuf/dsc constructor}}
{{dsc mem vdtor | cpp/io/basic_spanbuf | inlinemem=true | 销毁 {{tt|basic_spanbuf}} 对象}}
{{dsc inc | cpp/io/basic_spanbuf/dsc operator{{=}}}}
{{dsc inc | cpp/io/basic_spanbuf/dsc swap}}
{{dsc inc | cpp/io/basic_spanbuf/dsc span}}

{{dsc h2 | 受保护成员函数}}
{{dsc inc | cpp/io/basic_spanbuf/dsc setbuf}}
{{dsc inc | cpp/io/basic_spanbuf/dsc seekoff}}
{{dsc inc | cpp/io/basic_spanbuf/dsc seekpos}}
{{dsc end}}

===非成员函数===
{{dsc begin}}
{{dsc inc | cpp/io/basic_spanbuf/dsc swap2}}
{{dsc end}}

{{cpp/io/basic_streambuf/inherit}}

===注解===
{{tt|std::basic_spanbuf}} 不占有底层缓冲区。

程序员负责在使用 {{tt|std::basic_spanbuf}} 时确保它的缓冲区处于它的生存期中。多于一个线程在通过不同的 {{tt|std::basic_spanbuf}} 对象操作同一底层缓冲区时可能需要额外的同步。

{{feature test macro|__cpp_lib_spanstream|std=C++23|value=202106L|{{ttt|std::spanbuf}}, {{lc|std::spanstream}}}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/io/dsc basic_stringbuf}}
{{dsc inc | cpp/io/dsc strstreambuf}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}