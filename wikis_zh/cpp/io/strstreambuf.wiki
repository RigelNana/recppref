{{cpp/title|strstreambuf}}
{{cpp/io/strstreambuf/navbar}}
{{ddcl|header=strstream|deprecated=c++98|removed=c++26|1=
class strstreambuf : public std::basic_streambuf&lt;char&gt;
}}

{{tt|std::strstreambuf}} 是关联字符序列为字符数组的 {{lc|std::basic_streambuf}}，该数组可以是常量（例如字符串字面量），可修改但非动态的（例如栈分配的数组），或者动态的，此时 {{tt|std::strstreambuf}} 可以重分配数组以适应输出（例如通过调用 {{c/core|delete[]}} 和 {{c/core|new[]}} 或用户提供的函数）。

{{tt|std::strstreambuf}} 的典型实现保有四个私有数据成员：

@1@ 缓冲区状态，为位掩码类型，能表示四个值“已分配”（析构函数将解分配）、“常量”（不允许输出）、“动态”（输出将解分配）或“冻结”（不允许解分配和重分配）的任何组合；
@2@ 分配的缓冲区大小（缓冲区的起点不必是特别的数据成员，它可存储于继承的指针 {{lc|std::streambuf::eback|eback()}}）；
@3@ 指向用户提供的分配函数的指针；
@4@ 指向用户提供的解分配函数的指针。

===注解===
在任何以动态缓冲区在流上调用 {{lc|str()}} 后，要求调用 {{lc|freeze()|freeze(false)}} 以允许 {{tt|strstreambuf}} 的析构函数在需要时解分配缓冲区。

{{tt|strstreambuf}} 已于 C++98 起弃用并与 C++26 起移除。{{rev inl|since=c++23|推荐的替代品是 {{ltt|cpp/io/basic_spanbuf|std::spanbuf}}。}}

===成员函数===
{{dsc begin}}
{{dsc h1|公开成员函数}}
{{dsc inc|cpp/io/strstreambuf/dsc strstreambuf}}
{{dsc inc|cpp/io/strstreambuf/dsc ~strstreambuf}}
{{dsc inc|cpp/io/strstreambuf/dsc freeze}}
{{dsc inc|cpp/io/strstreambuf/dsc str}}
{{dsc inc|cpp/io/strstreambuf/dsc pcount}}
{{dsc h1|受保护成员函数}}
{{dsc inc|cpp/io/strstreambuf/dsc underflow}}
{{dsc inc|cpp/io/strstreambuf/dsc pbackfail}}
{{dsc inc|cpp/io/strstreambuf/dsc overflow}}
{{dsc inc|cpp/io/strstreambuf/dsc setbuf}}
{{dsc inc|cpp/io/strstreambuf/dsc seekoff}}
{{dsc inc|cpp/io/strstreambuf/dsc seekpos}}
{{dsc end}}

{{cpp/io/basic_streambuf/inherit}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}