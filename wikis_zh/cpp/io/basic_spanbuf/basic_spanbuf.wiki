{{cpp/io/basic_spanbuf/title|basic_spanbuf}}
{{cpp/io/basic_spanbuf/navbar}}
{{dcl begin}}
{{dcl|num=1|since=c++23|
basic_spanbuf() : basic_spanbuf(std::ios_base::in {{!}} std::ios_base::out) {}
}}
{{dcl|num=2|since=c++23|
explicit basic_spanbuf( std::ios_base::openmode which )
    : basic_spanbuf(std::span&lt;CharT&gt;{}, which) {}
}}
{{dcl|num=3|since=c++23|1=
explicit basic_spanbuf( std::span&lt;CharT&gt; buf, std::ios_base::openmode which =
                            std::ios_base::in {{!}} std::ios_base::out );
}}
{{dcl|num=4|since=c++23|1=
basic_spanbuf( const basic_spanbuf&amp; ) = delete;
}}
{{dcl|num=5|since=c++23|1=
basic_spanbuf( basic_spanbuf&amp;&amp; rhs );
}}
{{dcl end}}

@1@ 默认构造函数。创建无底层缓冲区且为同时输入和输出打开的 {{tt|basic_spanbuf}}。指向获取与放置区的指针被设为空指针值。

@2@ 同 {{v|1}}，但 {{tt|basic_spanbuf}} 以 {{c|which}} 所指定的模式打开。

@3@ 创建管理 {{c|buf}} 所引用的底层缓冲区（或若 {{c|buf}} 为空则无底层缓冲区）的 {{tt|basic_spanbuf}}，并以 {{c|which}} 所指定的模式打开。按以下方式设置指向获取与放置区的指针，或若表格中未提及则设置为空指针值：
{| class="wikitable"
|-
! rowspan="2" | 打开模式中设置的位&lt;br&gt;（影响指向获取区的指针）
! colspan="3" | 设置后的返回值
|-
| {{lc|std::basic_streambuf::eback|eback()}}
| {{lc|std::basic_streambuf::gptr|gptr()}}
| {{lc|std::basic_streambuf::egptr|egptr()}}
|-
| {{c|std::ios_base::in}}
| {{c|s.data()}}
| {{c|s.data()}}
| {{c|s.data() + s.size()}}
|-
| colspan="4" | &lt;nowiki/&gt;
|-
! rowspan="2" | 打开模式中设置的位&lt;br&gt;（影响指向放置区的指针）
! colspan="3" | 设置后的返回值
|-
| {{lc|std::basic_streambuf::pbase|pbase()}}
| {{lc|std::basic_streambuf::pptr|pptr()}}
| {{lc|std::basic_streambuf::epptr|epptr()}}
|-
| {{c|std::ios_base::out &amp;&amp; !std::ios_base::ate}}
| {{c|s.data()}}
| {{c|s.data()}}
| {{c|s.data() + s.size()}}
|-
| {{c|std::ios_base::out &amp;&amp; std::ios_base::ate}}
| {{c|s.data()}}
| {{c|s.data() + s.size()}}
| {{c|s.data() + s.size()}}
|}

@4@ 复制构造函数被弃置。{{tt|basic_spanbuf}} 不可复制。

@5@ 移动构造函数。从 {{c|rhs}} 的 {{lc|std::basic_streambuf}} 基类子对象移动构造它的基类子对象。指向获取与放置区的指针、打开模式及底层缓冲区（若存在）等同于 {{c|rhs}} 在构造前的这些值。&lt;br&gt;{{c|rhs}} 在移动构造后是否仍然保有底层缓冲区是实现定义的。

===参数===
{{par begin}}
{{par | buf | 引用底层缓冲区的 {{ltt|cpp/container/span|std::span}} }}
{{par | rhs | 另一 {{tt|basic_spanbuf}} }}
{{par | which |指定流打开模式。它是位掩码类型，定义了下列常量：
{{cpp/io/ios_base/openmode consts}}}}
{{par end}}

===注解===
这些构造函数常由 {{lc|std::basic_ispanstream}}、{{lc|std::basic_ospanstream}} 及 {{lc|std::basic_spanstream}} 的构造函数调用。

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/io/basic_spanstream/dsc constructor | basic_ispanstream}}
{{dsc inc | cpp/io/basic_spanstream/dsc constructor | basic_ospanstream}}
{{dsc inc | cpp/io/basic_spanstream/dsc constructor | basic_spanstream}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}