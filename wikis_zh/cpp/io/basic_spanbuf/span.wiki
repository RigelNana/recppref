{{cpp/io/basic_spanbuf/title| span}}
{{cpp/io/basic_spanbuf/navbar}}
{{dcl begin}}
{{dcl | num=1 | since=c++23 |
std::span&lt;CharT&gt; span() const noexcept;
}}
{{dcl | num=2 | since=c++23 |
void span( std::span&lt;CharT&gt; s ) noexcept;
}}
{{dcl end}}

@1@ 若打开模式中设置了 {{lc|std::ios_base::out}} 则获取引用被写入区域的 {{tt|span}}，否则获取引用底层缓冲区的 {{tt|span}}。

@2@ 使 {{tt|basic_spanbuf}} 进行 {{tt|s}} 所引用的缓冲区上的 I/O。设置指向获取区、放置区或两者的指针。
{| class="wikitable"
|-
! rowspan="2" | 打开模式中设置的位&lt;br&gt;（影响指向获取区的指针）
! colspan="3" | 设置后的返回值
|-
| {{lc|std::basic_streambuf::eback|eback()}}
| {{lc|std::basic_streambuf::gptr|gptr()}}
| {{lc|std::basic_streambuf::egptr|egptr()}}
|-
| {{c|std::ios_base::in}}
| {{c|s.data()}}
| {{c|s.data()}}
| {{c|s.data() + s.size()}}
|-
| colspan="4" | &lt;nowiki/&gt;
|-
! rowspan="2" | 打开模式中设置的位&lt;br&gt;（影响指向放置区的指针）
! colspan="3" | 设置后的返回值
|-
| {{lc|std::basic_streambuf::pbase|pbase()}}
| {{lc|std::basic_streambuf::pptr|pptr()}}
| {{lc|std::basic_streambuf::epptr|epptr()}}
|-
| {{c|std::ios_base::out &amp;&amp; !std::ios_base::ate}}
| {{c|s.data()}}
| {{c|s.data()}}
| {{c|s.data() + s.size()}}
|-
| {{c|std::ios_base::out &amp;&amp; std::ios_base::ate}}
| {{c|s.data()}}
| {{c|s.data() + s.size()}}
| {{c|s.data() + s.size()}}
|}

===参数===
{{par begin}}
{{par | s | 引用用户提供的缓冲区的 {{ltt|cpp/container/span|std::span}} }}
{{par end}}

===返回值===
@1@ 若打开模式中设置了 {{lc|std::ios_base::out}} 则为 {{c|std::span&lt;CharT&gt;(pbase(), pptr())}}，否则为引用整个底层缓冲区的 {{c|std::span&lt;CharT&gt;}}。

@2@ （无）

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/io/basic_stringbuf/dsc str}}
{{dsc inc | cpp/io/basic_stringbuf/dsc view}}
{{dsc inc | cpp/io/strstreambuf/dsc str}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}