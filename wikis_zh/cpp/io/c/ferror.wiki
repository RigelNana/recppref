{{cpp/title|ferror}}
{{cpp/io/c/navbar}}
{{ddcl|header=cstdio|
int ferror( std::FILE* stream );
}}

检查给定流的错误。

===参数===
{{par begin}}
{{par|stream|要检查的文件流}}
{{par end}}

===返回值===
若文件流已出现错误则为非零值，否则为 {{c|0}}。

===示例===
{{example
|code=
#include &lt;clocale&gt;
#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;
#include &lt;cwchar&gt;
 
int main(void)
{
    const char *fname = std::tmpnam(nullptr);
    std::FILE* f = std::fopen(fname, "wb");
    std::fputs("\xff\xff\n", f); // 不是合法的 UTF-8 字符序列
    std::fclose(f);

    std::setlocale(LC_ALL, "en_US.utf8");
    f = std::fopen(fname, "rb");
    std::wint_t ch;
    while ((ch=std::fgetwc(f)) != WEOF) // 试图作为 UTF-8 读取
          std::printf("%#x ", ch);
    
    if (std::feof(f))
        puts("EOF 指示器已设置");
    if (std::ferror(f))
        puts("Error 指示器已设置");
}
|output=
Error 指示器已设置
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/io/c/dsc clearerr}}
{{dsc inc|cpp/io/c/dsc feof}}
{{dsc inc|cpp/io/basic_ios/dsc fail}}
{{dsc see c|c/io/ferror}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}