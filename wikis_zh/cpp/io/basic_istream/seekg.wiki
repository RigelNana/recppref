{{cpp/io/basic_istream/title|seekg}}
{{cpp/io/basic_istream/navbar}}
{{dcl begin}}
{{dcl|num=1|1=
basic_istream&amp; seekg( pos_type pos );
}}
{{dcl|num=2|1=
basic_istream&amp; seekg( off_type off, std::ios_base::seekdir dir );
}}
{{dcl end}}

设置当前关联 {{tt|streambuf}} 对象的输入位置指示器。

{{rev begin}}
{{rev|since=c++11|在进行其他任何操作前，{{tt|seekg}} 都会清除 {{tt|eofbit}}。}}
{{rev end}}

{{tt|seekg}} 表现为{{named req|UnformattedInputFunction}}，但不影响 {{lc|gcount()}}。在构造并检查 sentry 对象后，

@1@ 如果 {{c|1=fail() != true}}，则设置输入位置指示器为绝对（相对于文件起始）值 {{c|pos}}。具体而言，执行 {{c|rdbuf()-&gt;pubseekpos(pos, std::ios_base::in)}}（{{ltt|cpp/io/basic_streambuf/pubseekpos}}，它则会调用特定缓冲区的 {{tt|seekpos}}，如 {{l2tt|cpp/io/basic_filebuf/seekpos}}，{{l2tt|cpp/io/basic_stringbuf/seekpos}}，或 {{l2tt|cpp/io/strstreambuf/seekpos}} 等）。失败的情况下会调用 {{c|setstate(std::ios_base::failbit)}}。
@2@ 如果 {{c|1=fail() != true}}，则设置输入位置指示器为相对于 {{c|dir}} 所定义位置的 {{c|off}}。具体而言，执行 {{c|rdbuf()-&gt;pubseekoff(off, dir, std::ios_base::in)}}。失败的情况下会调用 {{c|setstate(std::ios_base::failbit)}}。

===参数===
{{par begin}}
{{par|pos|设置输入位置指示器到的绝对位置。}}
{{par|off|设置输入位置指示器到的相对位置（正或负）。}}
{{par|dir|定义应用相对偏移量的基位置。它可以是下列常量之一：
{{cpp/io/ios_base/seekdir consts}}}}
{{par end}}

===返回值===
{{c|*this}}

===异常===
{{include|cpp/io/stream_exceptions}}

===注解===
{{lc|seekg(n)}} 不必等价于 {{lc|seekg(n, ios::beg)}}。例如，{{c|std::basic_ifstream}} 要求来自 {{lc|tellg()}} 的绝对位置 {{lc|n}}。

===示例===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;sstream&gt;
#include &lt;string&gt;

int main()
{
    std::string str = "Hello, world";
    std::istringstream in(str);
    std::string word1, word2;
    
    in &gt;&gt; word1;
    in.seekg(0); // 回溯
    in &gt;&gt; word2;
    
    std::cout &lt;&lt; "word1 = " &lt;&lt; word1 &lt;&lt; '\n'
              &lt;&lt; "word2 = " &lt;&lt; word2 &lt;&lt; '\n';
}
|output=
word1 = Hello,
word2 = Hello,
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=129|std=C++98|before=没有途径指示操作失败|after=失败时会设置 {{tt|failbit}}}}
{{dr list item|wg=lwg|dr=136|std=C++98|before={{tt|seekg}} 可以设置输出流|after=只设置输入流}}
{{dr list item|wg=lwg|dr=537|std=C++98|before={{c|off}} 的类型是 {{tt|off_type&amp;}}|after=改成 {{tt|off_type}}}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/io/basic_istream/dsc tellg}}
{{dsc inc|cpp/io/basic_ostream/dsc tellp|mem=std::basic_ostream}}
{{dsc inc|cpp/io/basic_ostream/dsc seekp|mem=std::basic_ostream}}
{{dsc inc|cpp/io/basic_streambuf/dsc pubseekpos}}
{{dsc inc|cpp/io/basic_filebuf/dsc seekpos}}
{{dsc inc|cpp/io/basic_stringbuf/dsc seekpos}}
{{dsc inc|cpp/io/strstreambuf/dsc seekpos}}
{{dsc inc|cpp/io/basic_streambuf/dsc pubseekoff}}
{{dsc inc|cpp/io/basic_filebuf/dsc seekoff}}
{{dsc inc|cpp/io/basic_stringbuf/dsc seekoff}}
{{dsc inc|cpp/io/strstreambuf/dsc seekoff}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}