{{ctitle|va_start}}
{{cpp/utility/variadic/navbar}}
{{ddcl|header=cstdarg|
void va_start( std::va_list ap, parm_n );
}}

{{tt|va_start}} 宏允许访问跟在具名实参 {{c|parm_n}} 之后的可变实参。

{{tt|va_start}} 应当在任何对 {{lc|va_arg}} 的调用前，在合法 {{lc|std::va_list}} 对象实例 {{c|ap}} 上调用。

{{rrev|since=c++11|
如果 {{c|parm_n}} 是{{ls|cpp/language/parameter pack#包展开}}或源自 {{lsd|cpp/language/lambda#lambda 捕获}}的实体，那么程序非良构，不要求诊断。
}}

如果 {{c|parm_n}} 具有引用类型，或具有与[[cpp/language/variadic_arguments#默认转换|默认实参提升]]的结果不兼容的类型，那么行为未定义。

===参数===
{{par begin}}
{{par|ap|{{lc|va_list}} 类型的对象}}
{{par|parm_n|首个可变参数之前的具名形参}}
{{par end}}

===展开值===
（无）

===注解===
{{tt|va_start}} 需要支持重载了 {{tt|operator&amp;}} 的 {{c|parm_n}}。

===示例===
{{example
|code=
#include &lt;cstdarg&gt;
#include &lt;iostream&gt;

int add_nums(int count...)
{
    int result = 0;
    std::va_list args;
    va_start(args, count);
    for (int i = 0; i &lt; count; ++i)
        result += va_arg(args, int);
    va_end(args);
    return result;
}

int main()
{
    std::cout &lt;&lt; add_nums(4, 25, 25, 50, 50) &lt;&lt; '\n';
}
|output=
150
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=cwg|dr=273|std=C++98|before=不明确 {{tt|va_start}} 是否需要支持重载了 {{tt|operator&amp;}} 的 {{c|parm_n}}|after=需要支持}}
{{dr list item|wg=lwg|dr=2099|std=C++98|before=声明 {{c|parm_n}} 为函数，数组或引用类型时的行为未定义|after={{c|parm_n}} 具有引用类型时的行为未定义}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/utility/variadic/dsc va_arg}}
{{dsc inc|cpp/utility/variadic/dsc va_end}}
{{dsc see c|c/variadic/va_start}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}