{{title|æ ‡å‡†æ ¼å¼è¯´æ˜ {{mark since c++20}}}}
{{cpp/utility/format/navbar}}

å¯¹äºåŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²ç±»å‹ï¼Œæ ¼å¼è¯´æ˜åŸºäº [https://docs.python.org/3/library/string.html#formatspec Python ä¸­çš„æ ¼å¼è¯´æ˜]ã€‚

æ ¼å¼è¯´æ˜çš„è¯­æ³•æ˜¯ï¼š
{{sdsc begin}}
{{sdsc|
{{spar optional|å¡«å……ä¸å¯¹é½}} {{spar optional|æ­£è´Ÿå·}} {{ttb|#}}{{mark optional}} {{ttb|0}}{{mark optional}} {{spar optional|å®½åº¦}} {{spar optional|ç²¾åº¦}} {{ttb|L}}{{mark optional}} {{spar optional|ç±»å‹}}
}}
{{sdsc end}}

{{spar|æ­£è´Ÿå·}}ã€{{ttb|#}} åŠ {{ttb|0}} é€‰é¡¹åªæœ‰åœ¨ä½¿ç”¨æ•´æ•°æˆ–æµ®ç‚¹æ•°æ˜¾ç¤ºç±»å‹æ—¶åˆæ³•ã€‚

===å¡«å……ä¸å¯¹é½===
{{spar sep|å¡«å……ä¸å¯¹é½}}æ˜¯ä¸€ä¸ªå¯é€‰çš„''å¡«å……''å­—ç¬¦ï¼ˆå¯ä»¥æ˜¯é™¤ {{ttb|{}} å’Œ {{ttb|}&lt;!----&gt;}} ä»¥å¤–çš„ä»»ä½•å­—ç¬¦ï¼‰ï¼Œåéš''å¯¹é½''{{sep}}é€‰é¡¹ {{ttb|&lt;}}ã€{{ttb|&gt;}}ã€{{ttb|^}} ä¹‹ä¸€ã€‚

å¦‚æœæœªæŒ‡å®šå¡«å……å­—ç¬¦ï¼Œåˆ™ç¼ºçœä¸ºç©ºæ ¼å­—ç¬¦ã€‚å¯¹äº Unicode ç¼–ç çš„æ ¼å¼è¯´æ˜ï¼Œå¡«å……å­—ç¬¦å¿…é¡»å¯¹åº”äºå•ä¸ª Unicode æ ‡é‡å€¼ã€‚

''å¯¹é½''{{sep}}é€‰é¡¹çš„æ„ä¹‰å¦‚ä¸‹ï¼š

* {{ttb|&lt;}}ï¼šå¼ºåˆ¶æ ¼å¼åŒ–çš„å®å‚å¯¹é½åˆ°å¯ç”¨ç©ºé—´å¼€å¤´ï¼Œé€šè¿‡åœ¨æ ¼å¼åŒ–çš„å®å‚çš„åé¢æ’å…¥ {{math|n}} ä¸ªå­—ç¬¦ã€‚è¿™æ˜¯ä½¿ç”¨éæ•´æ•°éæµ®ç‚¹æ•°æ˜¾ç¤ºç±»å‹æ—¶çš„é»˜è®¤é€‰é¡¹ã€‚
* {{ttb|&gt;}}ï¼šå¼ºåˆ¶æ ¼å¼åŒ–çš„å®å‚å¯¹é½åˆ°å¯ç”¨ç©ºé—´æœ«å°¾ï¼Œé€šè¿‡åœ¨æ ¼å¼åŒ–çš„å®å‚çš„å‰é¢æ’å…¥ {{math|n}} ä¸ªå­—ç¬¦ã€‚è¿™æ˜¯ä½¿ç”¨æ•´æ•°æˆ–æµ®ç‚¹æ•°æ˜¾ç¤ºç±»å‹æ—¶çš„é»˜è®¤é€‰é¡¹ã€‚
* {{ttb|^}}ï¼šå¼ºåˆ¶æ ¼å¼åŒ–çš„å®å‚åœ¨å¯ç”¨ç©ºé—´ä¸­å¤®ï¼Œé€šè¿‡åœ¨æ ¼å¼åŒ–çš„å®å‚çš„å‰é¢æ’å…¥ {{math|âŒŠ{{mfrac|n|2}}âŒ‹}} ä¸ªå­—ç¬¦ï¼Œåé¢æ’å…¥ {{math|âŒˆ{{mfrac|n|2}}âŒ‰}} ä¸ªå­—ç¬¦ã€‚

åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œ{{math|n}} æ˜¯æœ€å°åŸŸå®½ï¼ˆä»¥ {{spar|å®½åº¦}} æŒ‡å®šï¼‰å’Œæ ¼å¼åŒ–çš„å®å‚çš„[[#å®½åº¦ä¼°è®¡|é¢„è®¡å®½åº¦]]çš„å·®ï¼Œæˆ–è€…åœ¨å·®å°äº 0 æ—¶æ˜¯ 0ã€‚

{{example
|code=
#include &lt;cassert&gt;
#include &lt;format&gt;

int main()
{
    char c = 120;
    assert(std::format("{:6}", 42)    == "    42");
    assert(std::format("{:6}", 'x')   == "x     ");
    assert(std::format("{:*&lt;6}", 'x') == "x*****");
    assert(std::format("{:*&gt;6}", 'x') == "*****x");
    assert(std::format("{:*^6}", 'x') == "**x***");
    assert(std::format("{:6d}", c)    == "   120");
    assert(std::format("{:6}", true)  == "true  ");
}
}}

{{anchor|æ­£è´Ÿå·}}

===æ­£è´Ÿå·ã€# ä¸ 0===
{{spar sep|æ­£è´Ÿå·}}é€‰é¡¹å¯ä»¥æ˜¯ä¸‹åˆ—ä¹‹ä¸€ï¼š
* {{ttb|+}}ï¼šæŒ‡ç¤ºåº”è¯¥å¯¹äºéè´Ÿæ•°å’Œè´Ÿæ•°éƒ½ä½¿ç”¨æ­£è´Ÿå·ã€‚åœ¨éè´Ÿæ•°çš„è¾“å‡ºå€¼å‰æ’å…¥ {{tt|+}} å·ã€‚
* {{ttb|-}}ï¼šæŒ‡ç¤ºåº”è¯¥ä»…å¯¹äºè´Ÿæ•°ä½¿ç”¨æ­£è´Ÿå·ï¼ˆè¿™æ˜¯é»˜è®¤è¡Œä¸ºï¼‰ã€‚
* ç©ºæ ¼ï¼šæŒ‡ç¤ºåº”å¯¹éè´Ÿæ•°ä½¿ç”¨ä¸€ä¸ªå‰å¯¼ç©ºæ ¼ï¼Œè€Œå¯¹è´Ÿæ•°ä½¿ç”¨è´Ÿå·ã€‚

è´Ÿé›¶è¢«å½“ä½œè´Ÿæ•°ã€‚

{{spar sep|æ­£è´Ÿå·}}é€‰é¡¹é€‚ç”¨äºæµ®ç‚¹æ•°æ— ç©·å¤§å’Œ NaNã€‚

{{example
|code=
#include &lt;cassert&gt;
#include &lt;format&gt;
#include &lt;limits&gt;

int main()
{
    double inf = std::numeric_limits&lt;double&gt;::infinity();
    double nan = std::numeric_limits&lt;double&gt;::quiet_NaN();
    assert(std::format("{0:},{0:+},{0:-},{0: }", 1)   == "1,+1,1, 1");
    assert(std::format("{0:},{0:+},{0:-},{0: }", -1)  == "-1,-1,-1,-1");
    assert(std::format("{0:},{0:+},{0:-},{0: }", inf) == "inf,+inf,inf, inf");
    assert(std::format("{0:},{0:+},{0:-},{0: }", nan) == "nan,+nan,nan, nan");
}
}}

{{ttb|#}} é€‰é¡¹å¯¼è‡´å°†''ä»£ç”¨å½¢å¼''{{sep}}ç”¨äºè½¬æ¢ã€‚
* å¯¹äºæ•´æ•°ç±»å‹ï¼Œä½¿ç”¨äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–åå…­è¿›åˆ¶æ˜¾ç¤ºç±»å‹æ—¶ï¼Œä»£ç”¨å½¢å¼ä¼šåœ¨æœ‰æ­£è´Ÿå·å­—ç¬¦ï¼ˆå¯ä»¥æ˜¯ç©ºæ ¼ï¼‰æ—¶å°†å‰ç¼€ï¼ˆ{{tt|0b}}ã€{{tt|0}} æˆ– {{tt|0x}}ï¼‰æ’å…¥åˆ°è¾“å‡ºå€¼ä¸­æ­£è´Ÿå·å­—ç¬¦ä¹‹åï¼Œå¦åˆ™å°†å‰ç¼€æ’å…¥åˆ°è¾“å‡ºå€¼ä¹‹å‰ã€‚
* å¯¹äºæµ®ç‚¹æ•°ç±»å‹ï¼Œä»£ç”¨å½¢å¼å¯¼è‡´è½¬æ¢æœ‰é™å€¼çš„ç»“æœå§‹ç»ˆå«æœ‰å°æ•°ç‚¹å­—ç¬¦ï¼Œå³ä½¿å®ƒåé¢æ²¡æœ‰æ•°ä½ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå°æ•°ç‚¹å­—ç¬¦åªæœ‰åœ¨å®ƒåé¢æœ‰æ•°ä½æ—¶æ‰ä¼šåœ¨è½¬æ¢ç»“æœå‡ºç°ã€‚å¦å¤–ï¼Œå¯¹äº {{ttb|g}} ä¸ {{ttb|G}} è½¬æ¢ï¼Œä¸ä¼šä»ç»“æœç§»é™¤å°¾éšçš„é›¶ã€‚

{{ttb|0}} é€‰é¡¹ï¼ˆåœ¨ä»»ä½•æ­£è´Ÿå·æˆ–åº•ä¹‹åï¼‰ä»¥å‰å¯¼é›¶å¡«å……åŸŸåˆ°åŸŸå®½ï¼Œé™¤äº†åº”ç”¨åˆ°æ— ç©·å¤§æˆ– NaN æ—¶ã€‚å¦‚æœ {{tt|0}} å­—ç¬¦ä¸''å¯¹é½''{{sep}}é€‰é¡¹ä¸€åŒå‡ºç°ï¼Œé‚£ä¹ˆå¿½ç•¥ {{tt|0}} å­—ç¬¦ã€‚

{{example
|code=
#include &lt;cassert&gt;
#include &lt;format&gt;

int main()
{
    char c = 120;
    assert(std::format("{:+06d}", c)   == "+00120");
    assert(std::format("{:#06x}", 0xa) == "0x000a");
    assert(std::format("{:&lt;06}", -42)  == "-42   "); // å›  '&lt;' å¯¹é½å¿½ç•¥ 0
}
}}

===å®½åº¦ä¸ç²¾åº¦===
{{spar sep|å®½åº¦}}æ˜¯ä¸€ä¸ªæ­£åè¿›åˆ¶æ•°æˆ–åµŒå¥—çš„æ›¿æ¢åŸŸï¼ˆ{{ttb|{}&lt;!----&gt;}} æˆ– {{ttb|{}}''n''{{sep}}{{ttb|}&lt;!----&gt;}}ï¼‰ã€‚å®ƒå­˜åœ¨çš„æƒ…å†µä¸‹ä¼šæŒ‡å®šæœ€å°åŸŸå®½ã€‚

{{spar sep|ç²¾åº¦}}æ˜¯ç‚¹ï¼ˆ{{ttb|.}}ï¼‰åéšéè´Ÿåè¿›åˆ¶æ•°æˆ–åµŒå¥—çš„æ›¿æ¢åŸŸã€‚æ­¤åŸŸæŒ‡ç¤ºç²¾åº¦æˆ–æœ€å¤§åŸŸå¤§å°ã€‚å®ƒåªèƒ½ç”¨äºæµ®ç‚¹æ•°ä¸å­—ç¬¦ä¸²ç±»å‹ã€‚
* å¯¹äºæµ®ç‚¹æ•°ç±»å‹ï¼Œæ­¤åŸŸæŒ‡å®šæ ¼å¼åŒ–ç²¾åº¦ã€‚
* å¯¹äºå­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒæä¾›è¦å¤åˆ¶åˆ°è¾“å‡ºçš„å­—ç¬¦ä¸²å‰ç¼€çš„ä¼°è®¡å®½åº¦ï¼ˆè§[[#å®½åº¦ä¼°è®¡|ä¸‹æ–‡]]ï¼‰çš„ä¸Šç•Œã€‚å¯¹äºä»¥ Unicode ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¤åˆ¶åˆ°è¾“å‡ºçš„æ–‡æœ¬æ˜¯æ•´ä¸ªæ‰©å±•å­—ç´ é›†ç¾¤çš„ï¼Œä½¿å¾—ä¼°è®¡å®½åº¦ä¸å¤§äºç²¾åº¦çš„æœ€é•¿å‰ç¼€ã€‚

å¦‚æœ{{spar sep|å®½åº¦}}æˆ–{{spar sep|ç²¾åº¦}}ä¸­ä½¿ç”¨åµŒå¥—çš„æ›¿æ¢åŸŸï¼Œè€Œå¯¹åº”çš„å®å‚ä¸æ˜¯{{rev inl|until=c++23|[[cpp/language/type|æ•´æ•°ç±»å‹]]}}{{rev inl|since=c++23|[[cpp/language/type|æ ‡å‡†æœ‰ç¬¦å·æˆ–æ— ç¬¦å·æ•´æ•°ç±»å‹]]}}ï¼Œä¸ºè´Ÿï¼Œæˆ–å¯¹äº{{spar sep|å®½åº¦}}ä¸ºé›¶ï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡º {{lc|std::format_error}} ç±»å‹çš„å¼‚å¸¸ã€‚

{{source|1=
float pi = 3.14f;
assert(std::format("{:10f}", pi)           == "  3.140000"); // å®½åº¦ = 10
assert(std::format("{:{}f}", pi, 10)       == "  3.140000"); // å®½åº¦ = 10
assert(std::format("{:.5f}", pi)           == "3.14000");    // ç²¾åº¦ = 5
assert(std::format("{:.{}f}", pi, 5)       == "3.14000");    // ç²¾åº¦ = 5
assert(std::format("{:10.5f}", pi)         == "   3.14000"); // å®½åº¦ = 10, ç²¾åº¦ = 5
assert(std::format("{:{}.{}f}", pi, 10, 5) == "   3.14000"); // å®½åº¦ = 10, ç²¾åº¦ = 5

auto b1 = std::format("{:{}f}", pi, 10.0); // æŠ›å‡ºï¼šå®½åº¦ä¸æ˜¯æ•´æ•°ç±»å‹
auto b2 = std::format("{:{}f}", pi, -10);  // æŠ›å‡ºï¼šå®½åº¦ä¸ºè´Ÿ
auto b3 = std::format("{:.{}f}", pi, 5.0); // æŠ›å‡ºï¼šç²¾åº¦ä¸æ˜¯æ•´æ•°ç±»å‹
}}

{{anchor|å®½åº¦ä¼°è®¡}}
å¯¹äºå­—ç¬¦ä¸²ç±»å‹ï¼Œå®½åº¦å®šä¹‰ä¸ºé€‚åˆå°†å®ƒæ˜¾ç¤ºåˆ°ç»ˆç«¯çš„ä¼°è®¡åˆ—ä½ç½®ä¸ªæ•°ã€‚

å°±å®½åº¦è®¡ç®—ç›®çš„ï¼Œå‡è®¾å­—ç¬¦ä¸²ç”¨å®ç°å®šä¹‰çš„ç¼–ç ã€‚æœªæŒ‡å®šå®½åº¦è®¡ç®—çš„æ–¹æ³•ï¼Œä½†å¯¹äºä»¥ Unicode çš„å­—ç¬¦ä¸²ï¼Œå®ç°åº”è¯¥ä¼°è®¡å­—ç¬¦ä¸²çš„å®½åº¦ä¸ºå®ƒçš„æ‰©å±•å­—ç´ é›†ç¾¤ä¸­é¦–ä¸ªç ä½çš„ä¼°è®¡å®½åº¦ä¹‹å’Œã€‚å¦‚æœ Unicode ç ä½åœ¨ä¸‹åˆ—èŒƒå›´å†…ï¼Œé‚£ä¹ˆä¼°è®¡å®½åº¦æ˜¯ 2ï¼Œå¦åˆ™æ˜¯ 1ï¼š

* ä»»æ„ Unicode å±æ€§ [https://www.unicode.org/reports/tr44/#East_Asian_Width {{tt|East_Asian_Width}}] å…·æœ‰å€¼ Fullwidth ({{tt|F}}) æˆ– Wide ({{tt|W}}) çš„ä»£ç ç‚¹
* U+4DC0 â€“ U+4DFFï¼ˆæ˜“ç»å…­åå››å¦åƒï¼‰
* U+1F300 â€“ U+1F5FFï¼ˆæ‚é¡¹ç¬¦å·å’Œè±¡å½¢æ–‡å­—ï¼‰
* U+1F900 â€“ U+1F9FFï¼ˆè¡¥å……ç¬¦å·å’Œè±¡å½¢æ–‡å­—ï¼‰

{{example
|code=
#include &lt;cassert&gt;
#include &lt;format&gt;

int main()
{
    assert(std::format("{:.^5s}",   "ğŸ±")    == ".ğŸ±..");
    assert(std::format("{:.5s}",    "ğŸ±ğŸ±ğŸ±") == "ğŸ±ğŸ±");
    assert(std::format("{:.&lt;5.5s}", "ğŸ±ğŸ±ğŸ±") == "ğŸ±ğŸ±.");
}
}}

{{anchor|L}}
===Lï¼ˆæœ¬åœ°ç¯å¢ƒç‰¹å®šçš„æ ¼å¼åŒ–ï¼‰===
{{ttb|L}} é€‰é¡¹å¯¼è‡´ä½¿ç”¨æœ¬åœ°ç¯å¢ƒç‰¹å®šçš„å½¢å¼ã€‚æ­¤é€‰é¡¹ä»…å¯¹ç®—æœ¯ç±»å‹åˆæ³•ã€‚

* å¯¹äºæ•´æ•°ç±»å‹ï¼Œæœ¬åœ°ç¯å¢ƒç‰¹å®šå½¢å¼ä¼šæŒ‰ç…§ä¸Šä¸‹æ–‡çš„æœ¬åœ°ç¯å¢ƒæ’å…¥é€‚åˆçš„æ•°ä½ç»„åˆ†éš”å­—ç¬¦ã€‚
* å¯¹äºæµ®ç‚¹æ•°ç±»å‹ï¼Œæœ¬åœ°ç¯å¢ƒç‰¹å®šå½¢å¼ä¼šæŒ‰ç…§ä¸Šä¸‹æ–‡çš„æœ¬åœ°ç¯å¢ƒæ’å…¥é€‚åˆçš„æ•°ä½ç»„å’ŒåŸºæ•°åˆ†éš”å­—ç¬¦ã€‚
* å¯¹äº {{c/core|bool}} çš„æ–‡æœ¬è¡¨ç¤ºï¼Œæœ¬åœ°ç¯å¢ƒç‰¹å®šå½¢å¼ä½¿ç”¨å¦‚åŒé€šè¿‡ {{lc|std::numpunct::truename}} æˆ– {{lc|std::numpunct::falsename}} è·å¾—çš„å­—ç¬¦ä¸²ã€‚

===ç±»å‹===
{{spar sep|ç±»å‹}}é€‰é¡¹ç¡®å®šåº”è¯¥å¦‚ä½•æ˜¾ç¤ºæ•°æ®ã€‚

å¯ç”¨çš„å­—ç¬¦ä¸²æ˜¾ç¤ºç±»å‹æœ‰ï¼š
* æ— ã€{{ttb|s}}ï¼šå¤åˆ¶å­—ç¬¦ä¸²åˆ°è¾“å‡ºã€‚
{{rrev|since=c++23|
* {{ttb|?}}ï¼šå¤åˆ¶è½¬ä¹‰åçš„å­—ç¬¦ä¸²ï¼ˆè§[[#æ ¼å¼åŒ–ç»è½¬ä¹‰å­—ç¬¦å’Œå­—ç¬¦ä¸²|ä¸‹æ–‡]]ï¼‰åˆ°è¾“å‡ºã€‚
}}

å¯ç”¨çš„ {{c/core|char}}ã€{{c/core|wchar_t}} ä¸ {{c/core|bool}} ä»¥å¤–çš„æ•´æ•°ç±»å‹çš„æ•´æ•°æ˜¾ç¤ºç±»å‹æœ‰ï¼š
* {{ttb|b}}ï¼šäºŒè¿›åˆ¶æ ¼å¼ã€‚å¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, 2)}} äº§ç”Ÿè¾“å‡ºã€‚åº•å‰ç¼€æ˜¯ {{tt|0b}}ã€‚
* {{ttb|B}}ï¼šåŒ {{ttb|b}}ï¼Œä½†åº•å‰ç¼€æ˜¯ {{tt|0B}}ã€‚
* {{ttb|c}}ï¼šå¤åˆ¶å­—ç¬¦ {{c|static_cast&lt;CharT&gt;(value)}} åˆ°è¾“å‡ºï¼Œå…¶ä¸­ {{c|CharT}} æ˜¯æ ¼å¼å­—ç¬¦ä¸²çš„å­—ç¬¦ç±»å‹ã€‚å¦‚æœå€¼ä¸åœ¨ {{tt|CharT}} çš„å¯è¡¨ç¤ºå€¼çš„èŒƒå›´ä¸­ï¼Œé‚£ä¹ˆå°±ä¼šæŠ›å‡º {{lc|std::format_error}}ã€‚
* {{ttb|d}}ï¼šåè¿›åˆ¶æ ¼å¼ã€‚å¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value)}} äº§ç”Ÿè¾“å‡ºã€‚
* {{ttb|o}}ï¼šå…«è¿›åˆ¶æ ¼å¼ã€‚å¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, 8)}} äº§ç”Ÿè¾“å‡ºã€‚å¦‚æœå¯¹åº”å®å‚å€¼éé›¶ï¼Œé‚£ä¹ˆåº•å‰ç¼€æ˜¯ {{tt|0}}ï¼Œå¦åˆ™ä¸ºç©ºã€‚
* {{ttb|x}}ï¼šåå…­è¿›åˆ¶æ ¼å¼ã€‚å¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, 16)}} äº§ç”Ÿè¾“å‡ºã€‚åº•å‰ç¼€æ˜¯ {{tt|0x}}ã€‚
* {{ttb|X}}ï¼šåŒ {{ttb|x}}ï¼Œä½†å¯¹ 9 ä»¥ä¸Šçš„æ•°å­—ä½¿ç”¨å¤§å†™å­—æ¯ä¸”åº•å‰ç¼€æ˜¯ {{tt|0X}}ã€‚
* æ— ï¼šåŒ {{ttb|d}}ã€‚

å¯ç”¨çš„ {{c/core|char}} å’Œ {{c/core|wchar_t}} è¡¨ç¤ºç±»å‹æœ‰ï¼š
* æ— ã€{{ttb|c}}ï¼šå¤åˆ¶å­—ç¬¦åˆ°è¾“å‡ºã€‚
* {{ttb|b}}ã€{{ttb|B}}ã€{{ttb|d}}ã€{{ttb|o}}ã€{{ttb|x}}ã€{{ttb|X}}ï¼šä½¿ç”¨å€¼åˆ†åˆ«ä¸º {{c|static_cast&lt;unsigned char&gt;(value)}} æˆ– {{c|static_cast&lt;std::make_unsigned_t&lt;wchar_t&gt;&gt;(value)}} çš„æ•´æ•°è¡¨ç¤ºç±»å‹ã€‚
{{rrev|since=c++23|
* {{ttb|?}}ï¼šå¤åˆ¶ç»è½¬ä¹‰å­—ç¬¦ï¼ˆè§[[#æ ¼å¼åŒ–ç»è½¬ä¹‰å­—ç¬¦å’Œå­—ç¬¦ä¸²|ä¸‹æ–‡]]ï¼‰åˆ°è¾“å‡ºã€‚
}}

å¯ç”¨çš„ {{c/core|bool}} è¡¨ç¤ºç±»å‹æœ‰ï¼š
* æ— ã€{{ttb|s}}ï¼šå¤åˆ¶æ–‡æœ¬è¡¨ç¤ºï¼ˆ{{ttb|true}} æˆ– {{ttb|false}} æˆ–æœ¬åœ°ç¯å¢ƒç‰¹å®šå½¢å¼ï¼‰åˆ°è¾“å‡ºã€‚
* {{ttb|b}}ã€{{ttb|B}}ã€{{ttb|c}}ã€{{ttb|d}}ã€{{ttb|o}}ã€{{ttb|x}}ã€{{ttb|X}}ï¼šä»¥å€¼ {{c|static_cast&lt;unsigned char&gt;(value)}} ä½¿ç”¨æ•´æ•°è¡¨ç¤ºç±»å‹ã€‚

å¯ç”¨çš„æµ®ç‚¹æ•°è¡¨ç¤ºç±»å‹æœ‰ï¼š
* {{ttb|a}}ï¼šå¦‚æœæœ‰æŒ‡å®š''ç²¾åº¦''ï¼Œé‚£ä¹ˆå¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, std::chars_format::hex, precision)}} äº§ç”Ÿè¾“å‡ºï¼Œå…¶ä¸­ {{c|precision}} æ˜¯æŒ‡å®šçš„ç²¾åº¦ï¼Œå¦åˆ™å¦‚åŒé€šè¿‡ {{c|std::to_chars(first, last, value, std::chars_format::hex)}} äº§ç”Ÿè¾“å‡ºã€‚
* {{ttb|A}}ï¼šåŒ {{ttb|a}}ï¼Œä½†å¯¹ 9 ä»¥ä¸Šçš„æ•°å­—ä½¿ç”¨å¤§å†™å­—æ¯å¹¶ç”¨ {{tt|P}} æŒ‡ç¤ºæŒ‡æ•°ã€‚
* {{ttb|e}}ï¼šå¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, std::chars_format::scientific, precision)}} äº§ç”Ÿè¾“å‡ºï¼Œå…¶ä¸­ {{c|precision}} æ˜¯æŒ‡å®šçš„ç²¾åº¦ï¼Œæˆ–è€…åœ¨æœªæŒ‡å®šç²¾åº¦æ—¶æ˜¯ 6ã€‚
* {{ttb|E}}ï¼šåŒ {{ttb|e}}ï¼Œä½†ç”¨ {{tt|E}} æŒ‡ç¤ºæŒ‡æ•°ã€‚
* {{ttb|f}}ã€{{ttb|F}}ï¼šå¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, std::chars_format::fixed, precision)}} äº§ç”Ÿè¾“å‡ºï¼Œå…¶ä¸­ {{c|precision}} æ˜¯æŒ‡å®šçš„ç²¾åº¦ï¼Œæˆ–è€…åœ¨æœªæŒ‡å®šç²¾åº¦æ—¶æ˜¯ 6ã€‚
* {{ttb|g}}ï¼šå¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, std::chars_format::general, precision)}} äº§ç”Ÿè¾“å‡ºï¼Œå…¶ä¸­ {{c|precision}} æ˜¯æŒ‡å®šçš„ç²¾åº¦ï¼Œæˆ–è€…åœ¨æœªæŒ‡å®šç²¾åº¦æ—¶æ˜¯ 6ã€‚
* {{ttb|G}}ï¼šåŒ {{ttb|g}}ï¼Œä½†ç”¨ {{tt|E}} æŒ‡ç¤ºæŒ‡æ•°ã€‚
* æ— ï¼šå¦‚æœæœ‰æŒ‡å®š''ç²¾åº¦''ï¼Œé‚£ä¹ˆå¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value, std::chars_format::general, precision)}} äº§ç”Ÿè¾“å‡ºï¼Œå…¶ä¸­ {{c|precision}} ä¸ºæŒ‡å®šçš„ç²¾åº¦ï¼›å¦åˆ™å¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, value)}} äº§ç”Ÿè¾“å‡ºã€‚

å¯¹äºå°å†™è¡¨ç¤ºç±»å‹ï¼Œåˆ†åˆ«æ ¼å¼åŒ–æ— ç©·å¤§å’Œ NaN ä¸º {{tt|inf}} ä¸ {{tt|nan}}ã€‚
å¯¹äºå¤§å†™è¡¨ç¤ºç±»å‹ï¼Œåˆ†åˆ«æ ¼å¼åŒ–æ— ç©·å¤§å’Œ NaN ä¸º {{tt|INF}} ä¸ {{tt|NAN}}ã€‚

å¯ç”¨çš„æŒ‡é’ˆè¡¨ç¤ºç±»å‹ï¼ˆä¹Ÿç”¨äº {{lc|std::nullptr_t}}ï¼‰æœ‰ï¼š
* æ— ã€{{ttb|p}}ï¼šå¦‚æœå®šä¹‰äº† {{lc|std::uintptr_t}}ï¼Œé‚£ä¹ˆå¦‚åŒé€šè¿‡è°ƒç”¨ {{c|std::to_chars(first, last, reinterpret_cast&lt;std::uintptr_t&gt;(value), 16)}} äº§ç”Ÿè¾“å‡ºï¼Œå¹¶æ·»åŠ å‰ç¼€ {{tt|0x}} åˆ°è¾“å‡ºï¼›å¦åˆ™è¾“å‡ºç”±å®ç°å®šä¹‰ã€‚
{{rrev|since=c++26|
* {{ttb|P}}ï¼šä¸ {{ttb|p}} ç›¸åŒï¼Œä½† 9 ä»¥ä¸Šçš„æ•°ä½ä¼šä»¥å¤§å†™å­—æ¯è¡¨ç¤ºï¼Œå¹¶ä¸”åº•å‰ç¼€å˜ä¸º {{tt|0X}}ã€‚
}}


{{rrev|since=c++23|
===æ ¼å¼åŒ–ç»è½¬ä¹‰å­—ç¬¦å’Œå­—ç¬¦ä¸²===
å­—ç¬¦æˆ–å­—ç¬¦ä¸²å¯ä»¥åœ¨æ ¼å¼åŒ–æ—¶è¿›è¡Œ''è½¬ä¹‰''{{sep}}ï¼Œé€‚åˆç”¨äºè°ƒè¯•æˆ–è®°å½•æ—¥å¿—ã€‚

è½¬ä¹‰é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œï¼š

* å¯¹äºæ¯ä¸ªè‰¯æ„çš„ç¼–ç äº†å­—ç¬¦ ''C'' çš„ä»£ç å•å…ƒåºåˆ—ï¼š
:* å¦‚æœ ''C'' æ˜¯ä¸‹è¡¨ä¸­çš„å­—ç¬¦ä¹‹ä¸€ï¼Œé‚£ä¹ˆä½¿ç”¨å¯¹åº”çš„è½¬ä¹‰åºåˆ—ï¼š

{{cpp/utility/format/spec/escape}}

:* å¦åˆ™ï¼Œå¦‚æœ ''C'' ä¸æ˜¯ç©ºæ ¼å­—ç¬¦ï¼ˆASCII ç¼–ç ä¸­æ˜¯å­—èŠ‚ 0x20ï¼‰ï¼Œå¹¶ä¸”è¦ä¹ˆ
::* å…³è”çš„å­—ç¬¦ç¼–ç æ˜¯ Unicode ç¼–ç ï¼Œå¹¶ä¸”
:::* ''C'' å¯¹åº”çš„ Unicode æ ‡é‡å…·æœ‰çš„ Unicode å±æ€§ [https://www.unicode.org/reports/tr44/#General_Category_Values {{tt|General_Category}}] æ˜¯ {{tt|Separator}} ({{tt|Z}}) æˆ– {{tt|Other}} ({{tt|C}}) ä¸¤ä¸ªç»„ä¸­çš„æŸä¸ªå€¼ï¼Œæˆ–è€…
:::* ''C'' æ²¡æœ‰ç´§æ¥åœ¨éè½¬ä¹‰å­—ç¬¦ä¹‹åï¼Œå¹¶ä¸” ''C'' å¯¹åº”çš„ Unicode æ ‡é‡å…·æœ‰çš„ Unicode å±æ€§ {{tt|1=Grapheme_Extend=Yes}}ï¼Œè¦ä¹ˆ
::* å…³è”çš„å­—ç¬¦ç¼–ç ä¸æ˜¯ Unicode ç¼–ç ï¼Œå¹¶ä¸” ''C'' æ˜¯ç”±å®ç°å®šä¹‰çš„ä¸å¯æ‰“å°å­—ç¬¦é›†åˆä¸­çš„å­—ç¬¦ï¼Œ
:: é‚£ä¹ˆè½¬ä¹‰åºåˆ—æ˜¯ {{ttb|\u{}}''åå…­è¿›åˆ¶æ•°ä½è½¬ä¹‰åºåˆ—''{{sep}}{{ttb|}&lt;!----&gt;}}ï¼Œå…¶ä¸­''åå…­è¿›åˆ¶æ•°ä½è½¬ä¹‰åºåˆ—''{{sep}}æ˜¯ ''C'' ä½¿ç”¨å°å†™åå…­è¿›åˆ¶æ•°ä½çš„æœ€çŸ­åå…­è¿›åˆ¶è¡¨ç¤ºã€‚
:* å¦åˆ™ï¼Œ''C'' æŒ‰åŸæ ·å¤åˆ¶ã€‚
* æœªæŒ‡å®šä»£ç å•å…ƒåºåˆ—æ˜¯ç§»ä½åºåˆ—æ—¶å¯¹è¾“å‡ºå’Œåç»­å¯¹å­—ç¬¦ä¸²çš„è§£ç é€ æˆçš„å½±å“ã€‚
* æ¯ä¸ªå…¶ä»–ä»£ç å•å…ƒï¼ˆå³åœ¨éè‰¯æ„ä»£ç å•å…ƒåºåˆ—ä¸­çš„ä»£ç å•å…ƒï¼‰éƒ½ä¼šæ›¿æ¢æˆ {{ttb|\x{}}''åå…­è¿›åˆ¶æ•°ä½è½¬ä¹‰åºåˆ—''{{sep}}{{ttb|}&lt;!----&gt;}}ï¼Œå…¶ä¸­''åå…­è¿›åˆ¶æ•°ä½è½¬ä¹‰åºåˆ—''{{sep}}æ˜¯ä»£ç å•å…ƒä½¿ç”¨å°å†™åå…­è¿›åˆ¶æ•°ä½çš„æœ€çŸ­åå…­è¿›åˆ¶è¡¨ç¤ºã€‚

å­—ç¬¦ä¸²çš„è½¬ä¹‰å­—ç¬¦ä¸²è¡¨ç¤ºä¼šé€šè¿‡ä»¥ä¸Šè¿°æ–¹å¼å¯¹å­—ç¬¦ä¸²ä¸­çš„ä»£ç å•å…ƒåºåˆ—è¿›è¡Œè½¬ä¹‰æ¥æ„é€ ï¼Œå¹¶ä¸”ç”¨åŒå¼•å·åŒ…å›´ç»“æœã€‚

å­—ç¬¦çš„è½¬ä¹‰è¡¨ç¤ºä¼šé€šè¿‡ä»¥ä¸Šè¿°æ–¹å¼å¯¹å®ƒè¿›è¡Œè½¬ä¹‰æ¥æ„é€ ï¼Œå¹¶ä¸”ç”¨å•å¼•å·åŒ…å›´ç»“æœã€‚

{{example
|[https://godbolt.org/z/WxhTs6b69 Compiler Explorer demo]:
|code=
#include &lt;print&gt;

int main()
{
    std::println("[{:?}]", "h\tllo");             // æ‰“å°: ["h\tllo"]
    std::println("[{:?}]", "Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾, Ğ’Ğ¸ĞºÑ‚Ğ¾Ñ€ â™¥!"); // æ‰“å°: ["Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾, Ğ’Ğ¸ĞºÑ‚Ğ¾Ñ€ â™¥!"]
    std::println("[{:?}] [{:?}]", '\'', '"');     // æ‰“å°: ['\'', '"']

    // ä»¥ä¸‹ç¤ºä¾‹å‡å®šä½¿ç”¨ UTF-8 ç¼–ç 
    std::println("[{:?}]", std::string("\0 \n \t \x02 \x1b", 9));
                                             // æ‰“å°: ["\u{0} \n \t \u{2} \u{1b}"]
    std::println("[{:?}]", "\xc3\x28");      // æ— æ•ˆ UTF-8
                                             // æ‰“å°: ["\x{c3}("]
    std::println("[{:?}]", "\u0301");        // æ‰“å°: ["\u{301}"]
    std::println("[{:?}]", "\\\u0301");      // æ‰“å°: ["\\\u{301}"]
    std::println("[{:?}]", "e\u0301\u0323"); // æ‰“å°: ["áº¹Ì"]
}
}}
}}

===æ³¨è§£===
å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¯­æ³•ä¸è€å¼çš„ {{ttb|%}} æ ¼å¼åŒ–ç±»ä¼¼ï¼Œæ·»åŠ äº† {{ttb|{}&lt;!----&gt;}} å¹¶ç”¨ {{ttb|:}} å–ä»£ {{ttb|%}}ã€‚ä¾‹å¦‚ï¼Œ{{c/core|'%03.2f'}} å¯è¢«ç¿»è¯‘æˆ {{c/core|'{:03.2f}'}}ã€‚

{{ftm begin}}
{{ftm|__cpp_lib_format_uchar|æ ¼å¼åŒ–ç¼–ç å•å…ƒä¸ºæ— ç¬¦å·æ•´æ•°|std=C++20|dr=yes|value=202311L}}
{{ftm end}}

===ç¼ºé™·æŠ¥å‘Š===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3721|std=C++20|before=æ ‡å‡†æ ¼å¼è¯´æ˜ä¸­ä¸å…è®¸æŒ‡å®šåŸŸå®½ä¸ºé›¶|after=å¯ä»¥é€šè¿‡æ›¿æ¢åŸŸæŒ‡å®š}}
{{dr list item|paper=P2909R4|std=C++20|before={{c/core|char}} æˆ– {{c/core|wchar_t}} å¯èƒ½è¢«æ ¼å¼åŒ–ä¸ºèŒƒå›´å¤–çš„æ— ç¬¦å·æ•´æ•°å€¼|after=åœ¨è¿™ç§æ ¼å¼åŒ–å‰å°†ç¼–ç å•å…ƒè½¬æ¢ä¸ºå¯¹åº”çš„æ— ç¬¦å·ç±»å‹}}
{{dr list end}}

{{langlinks|en|es|ja|ru}}