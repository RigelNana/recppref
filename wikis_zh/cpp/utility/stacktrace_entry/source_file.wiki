{{cpp/utility/stacktrace_entry/title|source_file}}
{{cpp/utility/stacktrace_entry/navbar}}
{{ddcl | since=c++23 |
std::string source_file() const;
}}

返回词法上含有由 {{c|*this}} 表示其求值的表达式或语句的源文件的预设或实际名字，或在发生分配失败以外的失败，例如 {{c|*this}} 为空时返回空字符串。

要么 {{tt|source_file}} 返回预设源文件名且 {{rlpt|source_line}} 返回预设行号，要么 {{tt|source_file}} 返回实际源文件名且 {{rlpt|source_line}} 返回实际行号。

===参数===
（无）

===返回值===
成功时为如上指定的源文件名，发生分配失败以外的失败时为空字符串。

===异常===
若不能分配内部数据结构或结果字符串的内存则抛出 {{lc|std::bad_alloc}}。

===注解===
源文件的预设名是预定义宏 {{ltt|cpp/preprocessor/replace|__FILE__}} 所展开的结果，而且能由 {{ltt|cpp/preprocessor/line|#line}} 指令更改。

{{todo|“实际名”的定义缺失（ {{lwg|3507}} ）}}

不提供对此函数的自定义分配器支持，因为实现通常要求进行平台特定的分配、系统调用和大量 CPU 密集的工作，而自定义分配器不会对此函数提供便利，因为平台特定的操作耗费的时间要比分配大超过一个数量级。

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/utility/source_location/dsc file_name}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}