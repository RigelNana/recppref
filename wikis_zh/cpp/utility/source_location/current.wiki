{{cpp/utility/source_location/title|current}}
{{cpp/utility/source_location/navbar}}
{{dcl begin}}
{{dcl | since=c++20 |
static consteval source_location current() noexcept;
}}
{{dcl end}}

构造对应于调用点的位置的新的 {{tt|source_location}} 对象。

===参数===
（无）

===返回值===
若直接调用 {{tt|current()}}（通过指名 {{tt|current()}} 的函数调用），则它返回对应调用位置的拥有实现定义值的 {{tt|source_location}} 对象。该值应当以与预定义宏 {{c|__LINE__}} 和 {{c|__FILE__}} 相同的方式受 [[cpp/preprocessor/line|{{tt|#line}} 预处理指令]]影响。

若在[[cpp/language/data_members#成员初始化|默认成员初始化式]]中使用 {{tt|current()}}，则返回值对应初始化该数据成员的构造函数定义或[[cpp/language/aggregate_initialization|聚合初始化]]的位置。

若 {{tt|current()}} 用于默认实参，则返回值对应于对 {{tt|current()}} 的调用的调用点位置。

若以任何其他方式调用 {{tt|current()}}，则返回值未指定。

===注解===
{{tt|std::source_location::current}} 通常要求编译器的内建实现。

===示例===
{{example|code=
#include &lt;source_location&gt;
#include &lt;iostream&gt;

struct src_rec {
    std::source_location srcl = std::source_location::current();
    int dummy = 0;

    src_rec(std::source_location loc = std::source_location::current()) :
        srcl(loc)    // 成员的值指代调用函数的位置
    {}
    src_rec(int i) : // 成员的值指代此位置
        dummy(i)
    {}
    src_rec(double)  // 成员的值指代此位置
    {}
};

std::source_location src_clone(std::source_location a = std::source_location::current())
{
    return a;
}

std::source_location src_make()
{
    std::source_location b = std::source_location::current();
    return b;
}

int main()
{
    src_rec srec0;
    src_rec srec1(0);
    src_rec srec2(0.0);
    auto s0 = std::source_location::current();
    auto s1 = src_clone(s0);
    auto s2 = src_clone();
    auto s3 = src_make();

    std::cout
        &lt;&lt; srec0.srcl.line() &lt;&lt; ' ' &lt;&lt; srec0.srcl.function_name() &lt;&lt; '\n'
        &lt;&lt; srec1.srcl.line() &lt;&lt; ' ' &lt;&lt; srec1.srcl.function_name() &lt;&lt; '\n'
        &lt;&lt; srec2.srcl.line() &lt;&lt; ' ' &lt;&lt; srec2.srcl.function_name() &lt;&lt; '\n'
        &lt;&lt; s0.line() &lt;&lt; ' ' &lt;&lt; s0.function_name() &lt;&lt; '\n'
        &lt;&lt; s1.line() &lt;&lt; ' ' &lt;&lt; s1.function_name() &lt;&lt; '\n'
        &lt;&lt; s2.line() &lt;&lt; ' ' &lt;&lt; s2.function_name() &lt;&lt; '\n'
        &lt;&lt; s3.line() &lt;&lt; ' ' &lt;&lt; s3.function_name() &lt;&lt; '\n';
}
| p=true
| output= &lt;!-- https://godbolt.org/z/9no8nb --&gt;
31 int main()
12 src_rec::src_rec(int)
15 src_rec::src_rec(double)
34 int main()
34 int main()
36 int main()
25 std::source_location src_make()
}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/utility/source_location/dsc constructor}}
{{dsc inc | cpp/utility/basic_stacktrace/dsc current}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}