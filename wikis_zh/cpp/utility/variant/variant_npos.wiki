{{cpp/title|variant_npos}}
{{cpp/utility/variant/navbar}}
{{ddcl|since=c++17|header=variant|1=
inline constexpr std::size_t variant_npos = -1;
}}

这是一个等于类型 {{c/core|std::size_t}} 最大可表示值的特殊值，用作 {{ltf|cpp/utility/variant/index}} 在 {{ltf|cpp/utility/variant/valueless_by_exception}} 为 {{c|true}} 时的返回值。

{{example
|code=
#include &lt;iostream&gt;
#include &lt;stdexcept&gt;
#include &lt;string&gt;
#include &lt;variant&gt;

struct Demon
{
    Demon(int) {}
    Demon(const Demon&amp;) { throw std::domain_error("复制构造函数"); }
    Demon&amp; operator= (const Demon&amp;) = default;
};

int main()
{
    std::variant&lt;int, Demon&gt; var{42};
    std::cout
        &lt;&lt; std::boolalpha
        &lt;&lt; "index == npos: " &lt;&lt; (var.index() == std::variant_npos) &lt;&lt; '\n';

    try { var = Demon{666}; } catch (const std::domain_error&amp; ex)
    {
        std::cout
            &lt;&lt; "异常: " &lt;&lt; ex.what() &lt;&lt; '\n'
            &lt;&lt; "index == npos: " &lt;&lt; (var.index() == std::variant_npos) &lt;&lt; '\n'
            &lt;&lt; "valueless: " &lt;&lt; var.valueless_by_exception() &lt;&lt; '\n';
    }
}
|p=true
|output=
index == npos: false
异常: 复制构造函数
index == npos: true
valueless: true
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/utility/variant/dsc index}}
{{dsc inc|cpp/utility/variant/dsc valueless_by_exception}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}