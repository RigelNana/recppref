{{cpp/title|common_comparison_category}}
{{cpp/utility/navbar}}
{{ddcl|since=c++20|header=compare|1=
template&lt; class... Ts &gt;
struct common_comparison_category
{
    using type = /* 见下文 */ ;
};
}}

类模板 {{tt|std::common_comparison_category}} 为所有模板实参 {{tt|Ts...}} 所能转换到的最强比较类别提供别名（作为成员 typedef {{tt|type}}）。

详细而言，n 个类型 {{tt|T}}{{sub|0}}...{{tt|T}}{{sub|n-1}} 的公共比较类型 U 定义如下：
* 若任何 {{tt|T}}{{sub|i}} 不是比较类别类型（{{ltt|cpp/utility/compare/partial_ordering|std::partial_ordering}}、{{ltt|cpp/utility/compare/weak_ordering|std::weak_ordering}}、{{ltt|cpp/utility/compare/strong_ordering|std::strong_ordering}}），则 {{tt|U}} 为 {{c|void}}。
* 否则，若至少一个 {{tt|T}}{{sub|i}} 为 {{ltt|cpp/utility/compare/partial_ordering|std::partial_ordering}}，则 {{tt|U}} 为 {{ltt|cpp/utility/compare/partial_ordering|std::partial_ordering}}。
* 否则，若至少一个 {{tt|T}}{{sub|i}} 为 {{ltt|cpp/utility/compare/weak_ordering|std::weak_ordering}}，则 {{tt|U}} 为 {{ltt|cpp/utility/compare/weak_ordering|std::weak_ordering}}。
* 否则（若每个 {{tt|T}}{{sub|i}} 均为 {{ltt|cpp/utility/compare/strong_ordering|std::strong_ordering}} 或列表为空），则 {{tt|U}} 为 {{ltt|cpp/utility/compare/strong_ordering|std::strong_ordering}}。

===模板形参===
{{par begin}}
{{par|...Ts|可为空的类型列表}}
{{par end}}

=== 辅助模板 ===
{{ddcl|since=c++20|1=
template&lt; class... Ts &gt;
using common_comparison_category_t = common_comparison_category&lt;Ts...&gt;::type;
}}

===成员类型===
{{dsc begin}}
{{dsc hitem|成员类型|定义}}
{{dsc|{{tt|type}}|最强的公共比较类别（定义如上）}}
{{dsc end}}

===可能的实现===
{{eq fun|1=
namespace detail
{
    template&lt;unsigned int&gt;
    struct common_cmpcat_base     { using type = void; };
    template&lt;&gt;
    struct common_cmpcat_base&lt;0u&gt; { using type = std::strong_ordering; };
    template&lt;&gt;
    struct common_cmpcat_base&lt;2u&gt; { using type = std::partial_ordering; };
    template&lt;&gt;
    struct common_cmpcat_base&lt;4u&gt; { using type = std::weak_ordering; };
    template&lt;&gt;
    struct common_cmpcat_base&lt;6u&gt; { using type = std::partial_ordering; };
} // namespace detail

template&lt;class...Ts&gt;
struct common_comparison_category :
    detail::common_cmpcat_base&lt;(0u {{!}} ... {{!}} 
        (std::is_same_v&lt;Ts, std::strong_ordering&gt;  ? 0u :
         std::is_same_v&lt;Ts, std::weak_ordering&gt;    ? 4u :
         std::is_same_v&lt;Ts, std::partial_ordering&gt; ? 2u : 1u)
    )&gt; {};
}}

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/utility/compare/dsc strong_ordering}}
{{dsc inc|cpp/utility/compare/dsc weak_ordering}}
{{dsc inc|cpp/utility/compare/dsc partial_ordering}}
{{dsc end}}

{{langlinks|de|en|es|ja|ru}}