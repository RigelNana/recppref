{{title|字符集与编码}}
{{cpp/language/basics/navbar}}

本页面描述 C++ 标准所指定的几个字符集。

{{rrev|since=c++23|
===翻译字符集===
''翻译字符集''{{sep}}含有以下元素:
* 每个在 [https://www.unicode.org/versions/latest/ Unicode] 代码空间赋予了代码单元的抽象字符，和
* 没有赋予到抽象字符的 Unicode 标量对应的每个不同的字符。

翻译字符集是基本字符集与基本字面量字符集（见后述）的超集。
}}

===基本字符集===
{{anchor|基本源字符集}}
''基本字符集''{{sep}}含有以下 {{rev inl|until=c++26|96}}{{rev inl|since=c++26|99}} 个字符：
{{cpp/language/basic charset}}
{{rrev|since=c++26|
C++26 起下列字符被添加到基本字符集：
{{cpp/language/ext_charset_single}}
}}

===基本字面量字符集===
{{anchor|基本执行字符集}}
''基本字面量字符集''{{sep}}含有基本字符集的所有字符，外加以下控制字符：
{| class="wikitable" style="text-align: left;"
|- 
! 代码单元 || 字符
|-
|U+0000||空
|-
|U+0007||响铃
|-
|U+0008||退格
|-
|U+000D||回车（CR）
|}

===执行字符集===
''执行字符集''{{sep}}和''执行宽字符集''{{sep}}是基本字面量字符集的超集。执行字符集的编码和额外元素（如果存在）的集合受本地环境影响。执行宽字符集中的每个字符都必须能够以一个不同的 {{c/core|wchar_t}} 代码单元表示。

===代码单元与字面量编码===
''代码单元''{{sep}}是字符类型的一个整数。在除了多字符和不可编码字符字面量以外的{{rlp|character literal|字符字面量}}中的字符，和在{{rlp|string literal|字符串字面量}}中的字符，会根据编码前缀被编码为含有一个或多个编码单元的序列，这被称为对应的''字面量编码''。

字面量编码或执行字符集的受本地环境影响的编码会将基本字面量字符集的每个元素编码为一个具有非负值的代码单元，而且它与其他任何元素编码的代码单元都不相同。基本字面量字符集以外的字符可以被编码为多个代码单元；这样编码出来的某个代码单元可以和基本字面量字符集中的某个字符的代码单元相同。执行字符集的编码可以和任何字面量编码都不相关。

普通字面量编码是应用到普通字符字面量和普通字符串字面量的编码。宽字面量编码是应用到宽字符字面量和宽字符串字面量的编码。

字符 U+0000 NULL 被编码为零值。翻译字符集的其他任何元素都不能被编码为具有零值的代码单元。数字“0”（U+0030）之后的每个十进制数字字符的代码单元值都应该比上一个字符的值大一。普通字面量编码和宽字面量编码的其他部分都由实现定义。

对于 UTF-8，UTF-16 和 UTF-32 字面量，翻译字符集中每个字符对应的 UCS 标量值都会以 ISO/IEC 10646 中分别对应的 UCS 编码形式的说明进行编码。

===注解===
一些字符集的标准名在 C++23 中经由 {{wg21|P2314R4}} 进行了改动。

{| class="wikitable" style="text-align: left;"
|- 
! 新名 || 旧名
|-
|基本字符集||基本源字符集
|-
|基本字面量字符集||基本执行字符集&lt;br&gt;基本执行宽字符集
|}

从{{rev inl|since=c++23|（UTF-8 源文件以外的）}}源文件的字符到{{rev inl|until=c++23|基本字符集}}{{rev inl|since=c++23|翻译字符集}}的映射（在{{rlp|translation phases#阶段 1|翻译阶段1}}中进行）由实现定义，因此实现需要在其文档记载基本源字符如何在源文件里表示。

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=cwg|dr=788|std=C++98|before=执行字符集的成员的值由实现定义，但不受本地环境影响|after=改为受本地环境影响}}
{{dr list item|wg=cwg|dr=1796|std=C++98|before=基本执行（宽）字符集中空（宽）字符的表示的所有位均需为 0|after=只需要值为 0}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc|{{rlp|ascii|ASCII 码表}}}}
{{dsc inc|cpp/locale/dsc text_encoding}}
{{dsc see c|c/language/charset|字符集与编码|nomono=true}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}