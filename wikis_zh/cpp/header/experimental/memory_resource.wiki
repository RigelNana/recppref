{{cpp/header/experimental/title|experimental/memory_resource}}
{{cpp/header/experimental/navbar}}

此头文件是库基础 TS ([[cpp/experimental/lib extensions|v1]], [[cpp/experimental/lib extensions 2|v2]], [[cpp/experimental/lib extensions 3|v3]]) 的一部分。

===类===
{{dsc begin}}
{{dsc namespace | std::experimental::pmr}}
{{dsc class | cpp/experimental/memory_resource |  一个抽象接口，用于各种封装内存资源的类 }} 
{{dsc class | cpp/experimental/synchronized_pool_resource | 线程安全的 {{lc|memory_resource}}，用于管理具有不同块大小的池中的分配 }}
{{dsc class | cpp/experimental/unsynchronized_pool_resource | 线程不安全的 {{lc|memory_resource}}，用于管理具有不同块大小的池中的分配 }}
{{dsc class | cpp/experimental/monotonic_buffer_resource | 一种特殊用途的 {{lc|memory_resource}}，仅在资源被销毁时才释放所分配内存 }}
{{dsc tclass | cpp/experimental/polymorphic_allocator | 以 {{lc|memory_resource}} 构造，支持基于它的运行时多态的分配器 }}
{{dsc talias | cpp/experimental/resource_adaptor | 适配一个分配器为一个 {{lc|memory_resource}}}}
{{dsc end}}

===函数===

{{dsc begin}}
{{dsc namespace | std::experimental::pmr}}
{{dsc h2 | 比较}}
{{dsc inc | cpp/experimental/pmr/memory_resource/dsc operator_cmp}}
{{dsc inc | cpp/experimental/pmr/polymorphic_allocator/dsc operator_cmp}}

{{dsc h2 | 全局内存资源}}
{{dsc inc | cpp/experimental/pmr/dsc new_delete_resource}}
{{dsc inc | cpp/experimental/pmr/dsc null_memory_resource}}


{{dsc h2 | 缺省内存资源}}
{{dsc inc | cpp/experimental/pmr/dsc get_default_resource}}
{{dsc inc | cpp/experimental/pmr/dsc set_default_resource}}
{{dsc end}}

===概要===
{{source|1=

namespace std {
namespace experimental {
inline namespace fundamentals_v1 {
namespace pmr {

  class memory_resource;

  bool operator==(const memory_resource&amp; a,
                  const memory_resource&amp; b) noexcept;
  bool operator!=(const memory_resource&amp; a,
                  const memory_resource&amp; b) noexcept;

  template &lt;class Tp&gt; class polymorphic_allocator;

  template &lt;class T1, class T2&gt;
  bool operator==(const polymorphic_allocator&lt;T1&gt;&amp; a,
                  const polymorphic_allocator&lt;T2&gt;&amp; b) noexcept;
  template &lt;class T1, class T2&gt;
  bool operator!=(const polymorphic_allocator&lt;T1&gt;&amp; a,
                  const polymorphic_allocator&lt;T2&gt;&amp; b) noexcept;

  // 名字 resource_adaptor_imp 仅用于阐释。
  template &lt;class Allocator&gt; class resource_adaptor_imp;

  template &lt;class Allocator&gt;
    using resource_adaptor = resource_adaptor_imp&lt;
      typename allocator_traits&lt;Allocator&gt;::template rebind_alloc&lt;char&gt;&gt;;

  // 全局内存资源
  memory_resource* new_delete_resource() noexcept;
  memory_resource* null_memory_resource() noexcept;

  // 缺省内存资源
  memory_resource* set_default_resource(memory_resource* r) noexcept;
  memory_resource* get_default_resource() noexcept;

  // 标准内存资源
  struct pool_options;
  class synchronized_pool_resource;
  class unsynchronized_pool_resource;
  class monotonic_buffer_resource;

} // namespace pmr
} // namespace fundamentals_v1
} // namespace experimental
} // namespace std
}}

{{langlinks|en|ja}}