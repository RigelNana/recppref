{{cpp/filesystem/title|permissions}}
{{cpp/filesystem/navbar}}
{{dcl begin}}
{{dcl header|filesystem}}
{{dcl|num=1|since=c++17|1=
void permissions( const std::filesystem::path&amp; p,
                  std::filesystem::perms prms,
                  std::filesystem::perm_options opts = perm_options::replace );
}}
{{dcl|num=2|since=c++17|1=
void permissions( const std::filesystem::path&amp; p,
                  std::filesystem::perms prms,
                  std::error_code&amp; ec ) noexcept;
}}
{{dcl|num=3|since=c++17|1=
void permissions( const std::filesystem::path&amp; p,
                  std::filesystem::perms prms,
                  std::filesystem::perm_options opts,
                  std::error_code&amp; ec );
}}
{{dcl end}}

更改 {{c|p}} 所解析的文件的访问权限，如同用 POSIX [http://pubs.opengroup.org/onlinepubs/9699919799/functions/fchmodat.html {{tt|fchmodat}}]。跟随符号链接，除非在 {{c|opts}} 中设置了 {{tt|perm_options::nofollow}}。

第二个签名表现如同以设为 {{c|perm_options::replace}} 的 {{c|opts}} 调用。

效果按如下方式依赖于 {{c|prms}} 与 {{c|opts}}：

* 若 {{c|opts}} 是 {{c|perm_options::replace}}，则严格设置文件权限为 {{c|prms &amp; std::filesystem::perms::mask}} 表示应用 {{c|prms}} 的每个有效位）。
* 若 {{c|opts}} 是 {{c|perm_options::add}}，则严格设置文件权限为 {{c|status(p).permissions() {{!}} (prms &amp; perms::mask)}}（表示每个设于 {{c|prms}} 却不在当前文件权限中的有效位被添加到文件权限）。
* 若 {{c|opts}} 是 {{c|perm_options::remove}}，则严格设置文件权限为 {{c|status(p).permissions() &amp; ~(prms &amp; perms::mask)}}（表示每个 {{c|prms}} 中清除却设于当前文件权限中的有效位从文件权限被清除）。

{{c|opts}} 要求 {{tt|replace}}、{{tt|add}} 或 {{tt|remove}} 中有且仅有一者被设置。

不抛出重载在错误时无特殊行动。

===参数===
{{par begin}}
{{par | p | 要检验的路径}}
{{par | prms | 要设置、添加或移除的权限}}
{{par | opts | 控制此函数所采用行动的选项 }}
{{par | ec | 不抛出重载中报告错误的输出形参 }}
{{par end}}

===返回值===
（无）

===异常===
{{cpp/filesystem/error_handling|p|throw=1/2,3}}

===注解===
权限不必用位实现，但概念上用这种方式处理它们。

某些系统上某些权限位可能被忽略，而更改某些位可能自动影响其他位（例如在无所有者/组/全体区分的平台上，设置三者任一部分都会写入三者全体）。

===示例===
{{cpp/filesystem/permissions_example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/filesystem/dsc perms}}
{{dsc inc|cpp/filesystem/dsc status}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}