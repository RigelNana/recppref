{{cpp/filesystem/path/title|make_preferred}}
{{cpp/filesystem/path/navbar}}
{{ddcl | since=c++17 |
path&amp; make_preferred();
}}

将路径的通用格式视图中的所有目录分隔符转换成首选目录分隔符。

例如，在 Windows 上 {{tt|\}} 是首选分隔符，{{tt|foo/bar}} 将被转换为 {{tt|foo\bar}}。

===参数===
（无）

===返回值===
{{c|*this}}

{{cpp/impldef exception}}

===示例===
{{example
| Windows 可以用 {{c|/}} 为分隔符，但首选 {{c|\}}，因此 {{c|make_preferred}} 会将前向斜杠转换为反斜杠。另一方面，POSIX 不使用 {{c|\}} 作为分隔符，因为反斜杠是合法的文件名字符——Windows 路径在 POSIX 上实际上会指代名字为 {{c|"a\\b\\c"}} 的文件。由于这个原因，不转换其“分隔符”。
| code=
#include &lt;filesystem&gt;
#include &lt;iostream&gt;

int main()
{
    std::filesystem::path
        windows_path("a\\b\\c"),
        posix_path("a/b/c");

    std::cout
        &lt;&lt; "Windows 路径: "
        &lt;&lt; windows_path &lt;&lt; " -&gt; "
        &lt;&lt; windows_path.make_preferred() &lt;&lt; '\n'
        &lt;&lt; "POSIX 路径: "
        &lt;&lt; posix_path &lt;&lt; " -&gt; "
        &lt;&lt; posix_path.make_preferred() &lt;&lt; '\n';
}
| output=
// Windows 上
Windows 路径: "a\\b\\c" -&gt; "a\\b\\c"
POSIX 路径: "a/b/c" -&gt; "a\\b\\c"

// POSIX 上
Windows 路径: "a\\b\\c" -&gt; "a\\b\\c"
POSIX 路径: "a/b/c" -&gt; "a/b/c"
}}

===参阅===
{{dsc begin}}
{{dsc inc | cpp/filesystem/path/dsc preferred_separator}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}