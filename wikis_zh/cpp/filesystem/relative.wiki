{{cpp/filesystem/title|relative|proximate}}
{{cpp/filesystem/navbar}}
{{dcl begin}}
{{dcl header|filesystem}}
{{dcl|num=1|since=c++17|1=
path relative( const std::filesystem::path&amp; p,
               std::error_code&amp; ec );
}}
{{dcl|num=2|since=c++17|1=
path relative( const std::filesystem::path&amp; p,
               const std::filesystem::path&amp; base = std::filesystem::current_path() );
}}
{{dcl|num=3|since=c++17|1=
path relative( const std::filesystem::path&amp; p,
               const std::filesystem::path&amp; base,
               std::error_code&amp; ec );
}}
{{dcl|num=4|since=c++17|1=
path proximate( const std::filesystem::path&amp; p,
                std::error_code&amp; ec );
}}
{{dcl|num=5|since=c++17|1=
path proximate( const std::filesystem::path&amp; p,
                const std::filesystem::path&amp; base = std::filesystem::current_path() );
}}
{{dcl|num=6|since=c++17|1=
path proximate( const std::filesystem::path&amp; p,
                const std::filesystem::path&amp; base,
                std::error_code&amp; ec );
}}
{{dcl end}}

@1@ 返回 {{c|relative(p, current_path(), ec)}}
@2,3@ 返回设为相对于 {{c|base}} 的 {{c|p}}。在其他处理前解析符号链接并正常化 {{c|p}} 与 {{c|base}}。相当于返回 {{c|std::filesystem::weakly_canonical(p).lexically_relative(std::filesystem::weakly_canonical(base))}} 或 {{c|std::filesystem::weakly_canonical(p, ec).lexically_relative(std::filesystem::weakly_canonical(base, ec))}}，但错误码形式在首次错误出现时返回 {{c|path()}}，若有错误。
@4@ 返回 {{c|proximate(p, current_path(), ec)}}。
@5,6@ 相当于返回 {{c|std::filesystem::weakly_canonical(p).lexically_proximate(std::filesystem::weakly_canonical(base))}} 或 {{c|std::filesystem::weakly_canonical(p, ec).lexically_proximate(std::filesystem::weakly_canonical(base, ec))}}，但错误码形式在首次错误出现时返回 {{c|path()}}，若有错误。

===参数===
{{par begin}}
{{par | p | 既存路径}}
{{par | base | 基路径，{{c|p}} 将相对于它被设为相对/接近}}
{{par | ec | 存储错误状态的错误码}}
{{par end}}

===返回值===
@1@ 设为相对于 {{c|current_path()}} 的 {{c|p}}。
@2,3@ 设为相对于 {{c|base}} 的 {{c|p}}。
@4@ 设为接近 {{c|current_path()}} 的 {{c|p}}。
@5,6@ 设为接近 {{c|base}} 的 {{c|p}}。

===异常===
{{cpp/filesystem/error_handling|p|base|throw=2,5/1,3,4,6}}

===示例===
{{example
|code=
#include &lt;filesystem&gt;
#include &lt;iostream&gt;

void show(std::filesystem::path x, std::filesystem::path y)
{
    std::cout &lt;&lt; "x:\t\t " &lt;&lt; x &lt;&lt; "\ny:\t\t " &lt;&lt; y &lt;&lt; '\n'
              &lt;&lt; "relative(x, y):  "
              &lt;&lt; std::filesystem::relative(x, y) &lt;&lt; '\n'
              &lt;&lt; "proximate(x, y): "
              &lt;&lt; std::filesystem::proximate(x, y) &lt;&lt; "\n\n";
}

int main()
{
    show("/a/b/c", "/a/b");
    show("/a/c", "/a/b");
    show("c", "/a/b");
    show("/a/b", "c");
}
|p=true
|output=
x:               "/a/b/c"
y:               "/a/b"
relative(x, y):  "c"
proximate(x, y): "c"

x:               "/a/c"
y:               "/a/b"
relative(x, y):  "../c"
proximate(x, y): "../c"

x:               "c"
y:               "/a/b"
relative(x, y):  ""
proximate(x, y): "c"

x:               "/a/b"
y:               "c"
relative(x, y):  ""
proximate(x, y): "/a/b"
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/filesystem/dsc path}}
{{dsc inc|cpp/filesystem/dsc absolute}}
{{dsc inc|cpp/filesystem/dsc canonical}}
{{dsc inc|cpp/filesystem/path/dsc lexically_normal}}
{{dsc end}}

{{langlinks|en|es|ja}}