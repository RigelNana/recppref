{{cpp/title|mask_array}}
{{cpp/numeric/valarray/mask_array/navbar}}
{{ddcl|header=valarray|
template&lt; class T &gt; class mask_array;
}}

{{tt|std::mask_array}} 是以 {{c/core|std::valarray&lt;bool&gt;}} 为实参的 {{rlp|operator_at|{{tt|valarray}} 下标运算符}}所用的辅助模板。它拥有引用语义，并提供到由索引对应 {{c/core|std::valarray&lt;bool&gt;}} 掩码的 {{c|true}} 值的元素所组成的 {{tt|valarray}} 子集的访问。

===成员类型===
{{dsc begin}}
{{dsc hitem|类型|定义}}
{{dsc|{{tt|value_type}}|{{tt|T}}}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/numeric/valarray/array/dsc constructor|mask_array}}
{{dsc inc|cpp/numeric/valarray/array/dsc destructor|mask_array}}
{{dsc inc|cpp/numeric/valarray/array/dsc operator{{=}}|mask_array}}
{{dsc inc|cpp/numeric/valarray/array/dsc operator_arith|mask_array}}
{{dsc end}}

===参阅===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;valarray&gt;

void println(auto rem, const auto&amp; data)
{
    for (std::cout &lt;&lt; rem; int n : data)
        std::cout &lt;&lt; n &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}

int main() 
{
    std::valarray&lt;int&gt; data{0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

    println("初始 valarray : ", data);

    data[data &gt; 5] = -1;
    // data&gt;5 的类型是 std::valarray&lt;bool&gt;
    // data[data&gt;5] 的类型是 std::mask_array&lt;int&gt;

    println("v[v&gt;5]=-1 之后: ", data);
}
|output=
初始 valarray : 0 1 2 3 4 5 6 7 8 9 
v[v&gt;5]=-1 之后: 0 1 2 3 4 5 -1 -1 -1 -1 
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/numeric/simd/dsc simd_mask}}
{{dsc inc|cpp/experimental/simd/dsc simd_mask}}
{{dsc end}}

{{langlinks|en|ja}}