{{cpp/title|end&lt;small&gt;(std::valarray)&lt;/small&gt;}}
{{cpp/numeric/valarray/navbar}}
{{dcl begin}}
{{dcl|num=1|since=c++11|
template&lt; class T &gt; 
/* 见下文 */ end( valarray&lt;T&gt;&amp; v );
}}
{{dcl|num=2|since=c++11|
template&lt; class T &gt; 
/* 见下文 */ end( const valarray&lt;T&gt;&amp; v );
}}
{{dcl end}}

{{lc|std::end}} 对 {{tt|valarray}} 的重载返回指代数值数组中末元素后一位置的未指定类型的迭代器。

@1@ 返回类型需要满足以下条件：
* 满足[[cpp/iterator|可变]]{{named req|RandomAccessIterator}}的要求。
{{rrev|since=c++20|* 实现 {{lconcept|contiguous_iterator}}。}}
* 具有成员类型 {{tt|value_type}}，并且它是 {{tt|T}}。
* 具有成员类型 {{tt|reference}}，并且它是 {{tt|T&amp;}}。
@2@ 返回类型需要满足以下条件：
* 满足[[cpp/iterator|常]]{{named req|RandomAccessIterator}}的要求。
{{rrev|since=c++20|* 实现 {{lconcept|contiguous_iterator}}。}}
* 具有成员类型 {{tt|value_type}}，并且它是 {{tt|T}}。
* 具有成员类型 {{tt|reference}}，并且它是 {{tt|const T&amp;}}。

在 {{c|v}} 上调用成员函数 {{rlpf|resize}}，或在 {{c|v}} 的生存期结束，两者之一到来时，从此函数返回的迭代器会失效。

===参数===
{{par begin}}
{{par|v|数值数组}}
{{par end}} 

===返回值===
指向数值数组中最后的值后一位置的迭代器。

{{cpp/impldef exception}}

===注解===
与其他接收 {{tt|std::valarray}} 实参的函数不同，{{tt|end()}} 不接受可从涉及 {{tt|valarray}} 的表达式返回的替换类型（例如表达式模板所产生的类型）：{{c|std::end(v1 + v2)}} 不可移植，必须用 {{c|std::end(std::valarray&lt;T&gt;(v1 + v2))}} 代替。

此函数的意图是允许[[cpp/language/range-for|范围 for 循环]]能用于 {{tt|valarray}}，而不是提供容器语义。

===示例===
{{example
|code=
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;valarray&gt;

int main()
{
    const std::valarray&lt;char&gt; va
    {
        'H', 'e', 'l', 'l', 'o', 
        ',', ' ', 
        'C', '+', '+', '!', '\n'
    };

    std::for_each(std::begin(va), std::end(va),
                  [](char c){ std::cout &lt;&lt; c; });
}
|output=
Hello, C++!
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2058|std=C++11|before=1. {{tt|end()}} 需要支持替换类型&lt;br&gt;2. 未指定返回的迭代器会在什么时候失效|after=1. 不需要&lt;br&gt;2. 已指定}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/numeric/valarray/dsc begin2}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}