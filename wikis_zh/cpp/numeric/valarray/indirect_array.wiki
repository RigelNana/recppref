{{cpp/title|indirect_array}}
{{cpp/numeric/valarray/indirect_array/navbar}}
{{dcl begin}}
{{dcl header|valarray}}
{{dcl|
template&lt; class T &gt; class indirect_array;
}}
{{dcl end}}

{{tt|std::indirect_array}} 是接受 {{c|std::valarray&lt;std::size_t&gt;}} 实参的 [[cpp/numeric/valarray/operator_at|{{tt|valarray}} 下标运算符]]所用的辅助模板。它拥有到 {{c|std::valarray&lt;std::size_t&gt;}} 对象所指定的索引的数组子集的引用语义。

===成员类型===
{{dsc begin}}
{{dsc hitem|类型|定义}}
{{dsc|{{tt|value_type}}|{{tt|T}}}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/numeric/valarray/array/dsc constructor|indirect_array}}
{{dsc inc|cpp/numeric/valarray/array/dsc destructor|indirect_array}}
{{dsc inc|cpp/numeric/valarray/array/dsc operator{{=}}|indirect_array}}
{{dsc inc|cpp/numeric/valarray/array/dsc operator_arith|indirect_array}}
{{dsc end}}

===示例===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;valarray&gt;

int main()
{
    std::valarray&lt;int&gt; data{0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

    std::valarray&lt;std::size_t&gt; idx{0, 2, 4, 6, 8};

    std::cout &lt;&lt; "原 valarray: ";
    for (int n : data)
        std::cout &lt;&lt; n &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';

    data[idx] += data[idx]; // 令索引 'idx' 处的值变为双倍

    // data[idx] 的类型是 std::indirect_array&lt;int&gt;

    std::cout &lt;&lt; "间接修改后: ";
    for (int n : data)
        std::cout &lt;&lt; n &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
|output=
原 valarray: 0 1 2 3 4 5 6 7 8 9 
间接修改后: 0 1 4 3 8 5 12 7 16 9 
}}

{{langlinks|en|ja}}