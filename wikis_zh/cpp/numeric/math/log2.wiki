{{cpp/title|log2|log2f|log2l}}
{{cpp/numeric/math/navbar}}
{{cpp/numeric/math/declarations
|family=log2
|param1=num
|constexpr_since=26
|desc=计算 {{c|num}} 的{{enwiki|Binary logarithm|底数为 {{math|2}} 对数}}。
}}

===参数===
{{par begin}}
{{par|num|浮点数或整数}}
{{par end}}

===返回值===
如果没有发生错误，那么返回 {{c|num}} 的底数为 {{math|2}} 对数（{{math|log{{su|b=2}}(num)}} 或 {{math|lb(num)}}）。

如果发生定义域错误，那么返回值由实现定义（在支持的平台上是 NaN）。

如果发生极点错误，那么返回 {{lc|HUGE_VAL|-HUGE_VAL}}、{{tt|-HUGE_VALF}} 或 {{tt|-HUGE_VALL}}。

===错误处理===
报告 {{lc|math_errhandling}} 中指定的错误。

如果 {{c|num}} 小于零，那么发生定义域错误。

如果 {{c|num}} 为零，那么可能发生极点错误。

如果实现支持 IEEE 浮点数算术（IEC 60559），那么
* 如果实参是 ±0，那么返回 -∞ 并引发 {{lc|FE_DIVBYZERO}}。
* 如果实参是 1，那么返回 +0。
* 如果实参是负数，那么返回 NaN 并引发 {{lc|FE_INVALID}}。
* 如果实参是 +∞，那么返回 +∞。
* 如果实参是 NaN，那么返回 NaN。

===注解===
对于整数 {{c|num}}，二进制对数能转译成输入中最高位 1 的零底下标。

{{cpp/numeric/math/additional integer overload note|log2}}

===示例===
{{example
|code=
#include &lt;cerrno&gt;
#include &lt;cfenv&gt;
#include &lt;cmath&gt;
#include &lt;cstring&gt;
#include &lt;iostream&gt;
// #pragma STDC FENV_ACCESS ON

int main()
{
    std::cout &lt;&lt; "log2(65536) = " &lt;&lt; std::log2(65536) &lt;&lt; '\n'
              &lt;&lt; "log2(0.125) = " &lt;&lt; std::log2(0.125) &lt;&lt; '\n'
              &lt;&lt; "log2(0x020f) = " &lt;&lt; std::log2(0x020f)
              &lt;&lt; "（已置的最高位在位置 9）\n"
              &lt;&lt; "125 以 5 为底的对数 = "
              &lt;&lt; std::log2(125)/std::log2(5) &lt;&lt; '\n';
    
    // 特殊值
    std::cout &lt;&lt; "log2(1) = " &lt;&lt; std::log2(1) &lt;&lt; '\n'
              &lt;&lt; "log2(+Inf) = " &lt;&lt; std::log2(INFINITY) &lt;&lt; '\n';
    
    // 错误处理
    errno = 0;
    std::feclearexcept(FE_ALL_EXCEPT);
    
    std::cout &lt;&lt; "log2(0) = " &lt;&lt; std::log2(0) &lt;&lt; '\n';
    
    if (errno == ERANGE)
        std::cout &lt;&lt; "    errno == ERANGE: " &lt;&lt; std::strerror(errno) &lt;&lt; '\n';
    if (std::fetestexcept(FE_DIVBYZERO))
        std::cout &lt;&lt; "    发生 FE_DIVBYZERO\n";
}
|p=true
|output=
log2(65536) = 16
log2(0.125) = -3
log2(0x020f) = 9.04166（已置的最高位在位置 9）
125 以 5 为底的对数 = 3
log2(1) = 0
log2(+Inf) = inf
log2(0) = -inf
    errno == ERANGE: Numerical result out of range
    发生 FE_DIVBYZERO
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/numeric/math/dsc log}}
{{dsc inc|cpp/numeric/math/dsc log10}}
{{dsc inc|cpp/numeric/math/dsc log1p}}
{{dsc inc|cpp/numeric/math/dsc exp2}}
{{dsc see c|c/numeric/math/log2}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}