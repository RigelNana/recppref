{{cpp/named req/title|Iterator}}
{{cpp/named req/navbar}}

{{named req|Iterator}}要求描述可以用来标识和遍历容器中的元素的类型。

{{named req/core|Iterator}}是用于其他迭代器类型的基础集合：{{named req|InputIterator}}、{{named req|OutputIterator}}、{{named req|ForwardIterator}}、{{named req|BidirectionalIterator}}及{{named req|RandomAccessIterator}}。可以把迭代器想象成指针的抽象。

所有类别的迭代器都仅规定了对给定类别可以在（均摊）常量时间内完成的函数。因此，各迭代器的要求表格{{rev inl|since=c++20|和概念定义}}都没有指定复杂度。

===要求===
若下列条件成立，则类型 {{tt|It}} 满足{{named req/core|Iterator}}
* 类型 {{tt|It}} {{named req|CopyConstructible}}，且
* 类型 {{tt|It}} {{named req|CopyAssignable}}，且
* 类型 {{tt|It}} {{named req|Destructible}}，且
* 类型 {{tt|It}} {{named req|Swappable}}，且
* {{c/core|std::iterator_traits&lt;It&gt;}} 拥有成员 typedef {{rev inl|until=c++20|{{tt|value_type}}、}}{{tt|difference_type}}、{{tt|reference}}、{{tt|pointer}} 和 {{tt|iterator_category}}{{mark unreviewed dr|LWG|2578}}，且
* 给定类型 {{tt|It}} 的左值 {{c|r}}，下列表达式必须合法，且拥有其指定的效果：

{|table class=wikitable
|-
!表达式||返回类型||前条件
|-
|{{c|*r}}
|未指明
|{{ttb|r}} [[cpp/iterator#可解引用性与有效性|可解引用]]
|-
|{{c|++r}}
|{{c|It&amp;}}
|{{c|r}} ''可增''（表达式 {{c|++r}} 的行为有定义）
|}

{{rrev|since=c++20|
===概念===
为了定义 {{lc|std::iterator_traits}}，定义了以下仅用于阐释的概念。

{{dcl begin}}
{{dcl|1=
template&lt;class I&gt;
concept __LegacyIterator&lt;!-- 标准中称为 cpp17-iterator --&gt; =
    requires(I i)
    {
        {   *i } -&gt; __Referenceable;&lt;!-- 标准中称为 can-reference  --&gt;
        {  ++i } -&gt; std::same_as&lt;I&amp;&gt;;
        { *i++ } -&gt; __Referenceable;
    } &amp;&amp; std::copyable&lt;I&gt;;
}}
{{dcl end}}

其中仅用于阐释的概念 {{c/core|__Referenceable&lt;T&gt;}} 当且仅当 {{c/core|T&amp;}} 是合法类型时得到满足（特别是 {{tt|T}} 必须不是 {{c/core|void}}）。
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2437|std=C++98|before={{c/core|*r}} 必须为 {{tt|reference}}|after=对输出迭代器无此要求}}
{{dr list item|wg=lwg|dr=3420|std=C++20|before=仅用于阐释的概念首先检查 {{tt|copyable}} |after=仅若 requires 表达式返回 {{tt|true}} 才检查 {{tt|copyable}}}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/iterator/dsc input_or_output_iterator}}
{{see_also_iterator_library}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}