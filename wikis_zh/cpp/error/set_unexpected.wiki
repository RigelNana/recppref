{{cpp/title|set_unexpected}}
{{cpp/error/navbar}}
{{dcl begin}}
{{dcl header|exception}}
{{dcl rev begin}}
{{dcl|until=c++11|
std::unexpected_handler set_unexpected( std::unexpected_handler f ) throw();
}}
{{dcl|deprecated=c++11|until=c++17|
std::unexpected_handler set_unexpected( std::unexpected_handler f ) noexcept;
}}
{{dcl rev end}}
{{dcl end}}

令 {{c|f}} 为全局 {{lc|std::unexpected_handler}} 并返回先前安装的 {{lc|std::unexpected_handler}}。

{{rrev|since=c++11|
此函数线程安全。每个到 {{tt|std::set_unexpected}} 的调用''同步于''（见 {{lc|std::memory_order}}）对 {{tt|std::set_unexpected}} 和 {{lc|std::get_unexpected}} 的后继调用。
}}

===参数===
{{par begin}}
{{par|f|{{lc|std::unexpected_handler}} 类型的指向函数指针，或空指针}}
{{par end}}

===返回值===
先前安装的非预期处理器，或若未安装则为空指针值。

===参阅===
{{dsc begin}}
{{dsc inc|cpp/error/dsc unexpected}}
{{dsc inc|cpp/error/dsc get_unexpected}}
{{dsc inc|cpp/error/dsc unexpected_handler}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}