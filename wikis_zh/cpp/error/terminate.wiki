{{cpp/title|terminate}}
{{cpp/error/navbar}}
{{dcl begin}}
{{dcl header|exception}}
{{dcl rev multi
|dcl1=
void terminate();
|since2=c++11|dcl2=
[[noreturn]] void terminate() noexcept;
}}
{{dcl end}}

C++ 运行时在程序因任何下列原因不能继续时会调用 {{tt|std::terminate()}}：

@1@ 没有捕获[[cpp/language/throw|抛出的异常]]（此时由实现定义是否进行栈回溯）。

@2@ 在处理还没有被捕获的异常时，由异常处理机制直接调用的函数由于异常退出（例如某局部对象的析构函数，或构造 catch 子句参数的复制构造函数抛出了异常）。

@3@ 静态{{rev inl|since=c++11|或线程局域}}对象的构造函数或析构函数抛出异常。

@4@ 以 {{lc|std::atexit}}{{rev inl|since=c++11| 或 {{lc|std::at_quick_exit}}}} 注册的函数抛出异常。

{{rrev|until=c++17|
@5@ 违反[[cpp/language/except spec|动态异常说明]]，并执行了 {{lc|std::unexpected}} 的默认处理函数。

@6@ {{lc|std::unexpected}} 的非默认处理函数抛出了违背先前所违背动态异常规定的异常，如果这种规定不包含 {{lc|std::bad_exception}}。
}}

{{rrev|since=c++11|
@7@ 违反 [[cpp/language/noexcept spec|noexcept 说明]]（此时由实现定义是否进行栈回溯）。

@8@ 为一个不保有被捕获异常的对象调用 {{lc|std::nested_exception::rethrow_nested}}。

@9@ 从 {{lc|std::thread}} 的起始函数抛出异常。

@10@ 可结合的 {{lc|std::thread}} 被析构或赋值。

@11@ {{lc|std::condition_variable::wait}}、{{lc|std::condition_variable::wait_until}} 或 {{lc|std::condition_variable::wait_for}} 无法达成前条件（例如重锁定互斥抛出时）。&lt;!-- LWG 2135 --&gt;
}}

{{rrev|since=c++17|
@12@ [[cpp/algorithm|并行算法]]所调用的函数经由未捕获异常退出，且该[[cpp/algorithm/execution_policy_tag_t|执行策略]]指定了终止。
}}

也可以直接从程序调用 {{tt|std::terminate()}}。

当由于抛出异常而调用 {{tt|std::terminate}} 时，认为有一个隐含的 try/catch 处理器活跃。因此，调用 {{lc|std::current_exception}} 将返回所抛出的异常。

任何情况下，{{tt|std::terminate}} 调用当前安装的 {{lc|std::terminate_handler}}。默认的 {{lc|std::terminate_handler}} 调用 {{lc|std::abort}}。

{{rrev multi
|rev1=
如果析构函数在栈回溯时重设了终止处理器，且后面的回溯导致调用 {{tt|terminate}}，那么会调用在 throw 表达式的结尾安装的处理函数。（注意：重抛出是否应使用新处理函数是有歧义的）
|since2=c++11|rev2=
如果析构函数在栈回溯时重设了终止处理器，那么后面的栈回溯导致调用 {{tt|terminate}} 时调用哪个处理函数是未指定的。
}}

===注解===
如果不想要处理函数机制，例如因为它要求可能增加二进制大小的原子操作，那么在非正常终止程序时直接调用 {{lc|std::abort}} 更适合。

某些编译器内建子程序，例如 [https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html {{tt|__builtin_trap}}]（gcc、clang 及 icc）或 [https://docs.microsoft.com/en-us/cpp/intrinsics/debugbreak?view=msvc-160 {{tt|__debugbreak}}]（msvc），能用于尽可能快地终止程序。

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2111|std=C++11|before=在栈回溯期间调用 {{lc|std::set_terminate}} 的效果与 C++98 不同，并破坏一些 ABI|after=令它未指定}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/error/dsc terminate_handler}}
{{dsc inc|cpp/utility/program/dsc abort}}
{{dsc inc|cpp/utility/dsc breakpoint}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}