{{title|{{tt|std::shared_ptr}} 的推导指引}}
{{cpp/memory/shared_ptr/navbar}}
{{dcl begin}}
{{dcl header|memory}}
{{dcl|num=1|since=c++17|
template&lt; class T &gt;
shared_ptr( std::weak_ptr&lt;T&gt; ) -&gt; shared_ptr&lt;T&gt;;
}}
{{dcl|num=2|since=c++17|
template&lt; class T, class D &gt;
shared_ptr( std::unique_ptr&lt;T, D&gt; ) -&gt; shared_ptr&lt;T&gt;;
}}
{{dcl end}}

为 {{lc|std::shared_ptr}} 提供此[[cpp/language/class template argument deduction|推导指引]]，以囊括隐式推导指引所错失的极端情况。

注意没有从指针类型的类模板实参推导，因为不可能辨别获得自 {{c|new}} 的数组和非数组形式的指针。
 
===示例===
{{example|code=
#include &lt;memory&gt;

int main()
{
    auto p = std::make_shared&lt;int&gt;(42);
    std::weak_ptr w{p};    // 用于此情况的显式推导指引
    std::shared_ptr p2{w}; // 用于此情况的显式推导指引
}
}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}