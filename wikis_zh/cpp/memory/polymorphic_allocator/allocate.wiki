{{cpp/memory/polymorphic_allocator/title|allocate}}
{{cpp/memory/polymorphic_allocator/navbar}}

{{dcl begin}}
{{dcl|since=c++17|
T* allocate( std::size_t n );
}}
{{dcl end}}

用底层的内存资源分配 {{c|n}} 个 {{tt|T}} 类型对象的存储。等价于 {{c|return static_cast&lt;T*&gt;(resource()-&gt;allocate(n * sizeof(T), alignof(T)));}}。

===参数===
{{par begin}}
{{par|n|要分配存储的对象数}}
{{par end}}

===返回值===
指向被分配存储的指针。

===异常===
若 {{c|n &gt; std::numeric_limits&lt;std::size_t&gt;::max() / sizeof(T)}} 则抛出 {{lc|std::bad_array_new_length}}；亦可抛出调用 {{c|resource()-&gt;allocate}} 所抛的任何异常。

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3038|std=c++17|before={{tt|allocate}} 可能分配大小错误的存储| after=替而抛出 {{tt|length_error}}}}
{{dr list item|wg=lwg|dr=3237|std=c++17|before={{tt|allocate}} 所抛的异常与 {{tt|std::allocator::allocate}} 不一致|after=使之一致}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/memory/polymorphic_allocator/dsc allocate_bytes}}
{{dsc inc|cpp/memory/polymorphic_allocator/dsc allocate_object}}
{{dsc inc|cpp/memory/polymorphic_allocator/dsc new_object}}
{{dsc inc|cpp/memory/allocator traits/dsc allocate}}
{{dsc inc|cpp/memory/memory resource/dsc allocate}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}