{{cpp/memory/pmr/title|synchronized_pool_resource}}
{{cpp/memory/synchronized_pool_resource/navbar}}
{{ddcl|header=memory_resource|since=c++17|
class synchronized_pool_resource : public std::pmr::memory_resource;
}}

类 {{tt|std::pmr::synchronized_pool_resource}} 是一种具有下列属性的通用内存资源类：
* 它拥有被分配内存并在析构时释放它，即使对于某些被分配块未调用 {{tt|deallocate}} 也是如此。
* 它由供应不同块大小请求的''池''的汇集组成。每个池管理之后被分入一致大小的''区段''的汇集。
* 对 {{ltt|cpp/memory/synchronized_pool_resource/do_allocate}} 的调用被派发到供应适应请求大小的最小块的池。
* 池中耗尽内存时，会导致该池从''上游分配器''分配额外的内存区段，以填满池。获取的区段大小以几何级数增加。
* 超出最大的块大小的分配请求，由''上游分配器''直接供应。
* 最大的块大小和区段大小的最大值可通过向其构造函数传递 {{lc|std::pmr::pool_options}} 结构体予以调节。

{{tt|synchronized_pool_resource}} 可以从多个线程不经同步地访问，并可拥有线程指定的池以减少同步成本。若内存资源只从单个线程访问，则 {{ltt|cpp/memory/unsynchronized_pool_resource}} 更有效率。

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc constructor}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc destructor}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc operator{{=}}}}

{{dsc h2|公开成员函数}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc release}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc upstream_resource}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc options}}

{{dsc h2|受保护成员函数}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc do_allocate}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc do_deallocate}}
{{dsc inc|cpp/memory/synchronized_pool_resource/dsc do_is_equal}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}