{{cpp/ranges/title|uninitialized_copy|uninitialized_copy_result}}
{{cpp/memory/navbar}}
{{dcl begin}}
{{dcl header|memory}}
{{dcl h|è°ƒç”¨ç­¾å}}
{{dcla|num=1|since=c++20|constexpr=c++26|
template&lt; std::input_iterator I, std::sentinel_for&lt;I&gt; S1,
          no-throw-forward-iterator O, no-throw-sentinel-for&lt;O&gt; S2 &gt;
    requires std::constructible_from&lt;std::iter_value_t&lt;O&gt;,
                                     std::iter_reference_t&lt;I&gt;&gt;
uninitialized_copy_result&lt;I, O&gt;
    uninitialized_copy( I ifirst, S1 ilast, O ofirst, S2 olast );
}}
{{dcla|num=2|since=c++20|constexpr=c++26|
template&lt; ranges::input_range IR, no-throw-forward-range OR &gt;
    requires std::constructible_from&lt;ranges::range_value_t&lt;OR&gt;,
                                     ranges::range_reference_t&lt;IR&gt;&gt;
uninitialized_copy_result&lt;ranges::borrowed_iterator_t&lt;IR&gt;,
                          ranges::borrowed_iterator_t&lt;OR&gt;&gt;
    uninitialized_copy( IR&amp;&amp; in_range, OR&amp;&amp; out_range );
}}
{{dcl h|è¾…åŠ©ç±»å‹}}
{{dcl|num=3|since=c++20|1=
template&lt; class I, class O &gt;
using uninitialized_copy_result = ranges::in_out_result&lt;I, O&gt;;
}}
{{dcl end}}

è®¾ {{mathjax-or|\(\scriptsize N\)|N}} ä¸º {{c|ranges::min(ranges::distance(ifirst, ilast), ranges::distance(ofirst, olast))}}ã€‚

@1@ å¦‚åŒç”¨ä»¥ä¸‹æ–¹å¼å°†èŒƒå›´ {{range|ifirst|ilast}} ä¸­çš„ {{mathjax-or|\(\scriptsize N\)|N}} ä¸ªå…ƒç´ å¤åˆ¶åˆ°æœªåˆå§‹åŒ–å†…å­˜åŒºåŸŸ {{range|ofirst|olast}}ã€‚
{{box|
{{c/core|1=for (; ifirst != ilast &amp;&amp; ofirst != olast; ++ofirst, (void)++ifirst)}}&lt;br&gt;
{{nbspt|4}}{{c/core|::new (}}{{lti|cpp/memory/voidify}}{{c/core|(*ofirst)) std::remove_reference_t&lt;std::iter_reference_t&lt;O&gt;&gt;(*ifirst);}}&lt;br&gt;
{{c/core|return {std::move(ifirst), ofirst};}}
}}
@@ å¦‚æœåˆå§‹åŒ–ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆä»¥æœªæŒ‡å®šçš„é¡ºåºé”€æ¯å·²æ„é€ çš„å¯¹è±¡ã€‚
@@ å¦‚æœ {{range|ofirst|olast}} ä¸ {{range|ifirst|ilast}} æœ‰é‡å ï¼Œé‚£ä¹ˆè¡Œä¸ºæœªå®šä¹‰ã€‚

@2@ ç­‰ä»·äº {{c multi|return ranges::uninitialized_copy(ranges::begin(in_range), ranges::end(in_range),|                                  ranges::begin(out_range), ranges::end(out_range));}}ã€‚

{{cpp/ranges/niebloid}}

===å‚æ•°===
{{par begin}}
{{par range|ifirst|ilast|è¦å¤åˆ¶çš„|range=æº|sentinel=yes}}
{{par|in_range|è¦å¤åˆ¶çš„å…ƒç´  {{lconcept|range}}}}
{{par range|ofirst|olast|3=|range=ç›®æ ‡|sentinel=yes}}
{{par|out_range|ç›®æ ‡ {{lconcept|range}}}}
{{par end}}

===è¿”å›å€¼===
å¦‚ä¸Šæ‰€è¿°ã€‚

===å¤æ‚åº¦===
{{mathjax-or|\(\scriptsize\mathcal{O}(N)\)|ğ“(N)}}ã€‚

===å¼‚å¸¸===
æ„é€ ç›®æ ‡èŒƒå›´ä¸­çš„å…ƒç´ æ—¶æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸ã€‚

===æ³¨è§£===
å¦‚æœè¾“å‡ºèŒƒå›´çš„å€¼ç±»å‹æ˜¯{{named req|TrivialType}}ï¼Œé‚£ä¹ˆå®ç°å¯èƒ½æå‡ {{tt|ranges::uninitialized_copy}} çš„æ•ˆç‡ã€‚

{{feature test macro|__cpp_lib_raw_memory_algorithms|std=C++26|value=202411L|{{c/core|constexpr}} çš„[[cpp/memory#æœªåˆå§‹åŒ–å†…å­˜ç®—æ³•|ç‰¹åŒ–å†…å­˜ç®—æ³•]], {{vl|1,2}}}}

===å¯èƒ½çš„å®ç°===
{{eq fun|1=
struct uninitialized_copy_fn
{
    template&lt;std::input_iterator I, std::sentinel_for&lt;I&gt; S1,
             no-throw-forward-iterator O, no-throw-sentinel-for&lt;O&gt; S2&gt;
        requires std::constructible_from&lt;std::iter_value_t&lt;O&gt;, std::iter_reference_t&lt;I&gt;&gt;
    constexpr ranges::uninitialized_copy_result&lt;I, O&gt;
        operator()(I ifirst, S1 ilast, O ofirst, S2 olast) const
    {
        O current{ofirst};
        try
        {
            for (; !(ifirst == ilast or current == olast); ++ifirst, ++current)
                ranges::construct_at(std::addressof(*current), *ifirst);
            return {std::move(ifirst), std::move(current)};
        }
        catch (...) // å›æ»šï¼šé”€æ¯å·²æ„é€ çš„å…ƒç´ 
        {
            for (; ofirst != current; ++ofirst)
                ranges::destroy_at(std::addressof(*ofirst));
            throw;
        }
    }
    
    template&lt;ranges::input_range IR, no-throw-forward-range OR&gt;
        requires std::constructible_from&lt;ranges::range_value_t&lt;OR&gt;,
    constexpr ranges::range_reference_t&lt;IR&gt;&gt;
        ranges::uninitialized_copy_result&lt;ranges::borrowed_iterator_t&lt;IR&gt;,
                                          ranges::borrowed_iterator_t&lt;OR&gt;&gt;
    operator()(IR&amp;&amp; in_range, OR&amp;&amp; out_range) const
    {
        return (*this)(ranges::begin(in_range), ranges::end(in_range),
                       ranges::begin(out_range), ranges::end(out_range));
    }
};

inline constexpr uninitialized_copy_fn uninitialized_copy{};
}}

===ç¤ºä¾‹===
{{example
|code=
#include &lt;cstdlib&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;memory&gt;
#include &lt;string&gt;

int main()
{
    const char* v[]{"This", "is", "an", "example"};
    
    if (const auto sz{std::size(v)};
        void* pbuf = std::aligned_alloc(alignof(std::string), sizeof(std::string) * sz))
    {
        try
        {
            auto first{static_cast&lt;std::string*&gt;(pbuf)};
            auto last{first + sz};
            std::ranges::uninitialized_copy(std::begin(v), std::end(v), first, last);
            
            std::cout &lt;&lt; "{";
            for (auto it{first}; it != last; ++it)
                std::cout &lt;&lt; (it == first ? "" : ", ") &lt;&lt; std::quoted(*it);
            std::cout &lt;&lt; "};\n";

            std::ranges::destroy(first, last);
        }
        catch (...)
        {
            std::cout &lt;&lt; "uninitialized_copy å¼‚å¸¸\n";
        }
        std::free(pbuf);
    }
}
|output=
{"This", "is", "an", "example"};
}}

===ç¼ºé™·æŠ¥å‘Š===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3870|std=C++20|before=æ­¤ç®—æ³•å¯èƒ½ä¼šåœ¨ {{c/core|const}} å­˜å‚¨ä¸­åˆ›å»ºå¯¹è±¡|after=ä¿æŒç¦æ­¢}}
{{dr list end}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/memory/ranges/dsc uninitialized_copy_n}}
{{dsc inc|cpp/memory/dsc uninitialized_copy}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}