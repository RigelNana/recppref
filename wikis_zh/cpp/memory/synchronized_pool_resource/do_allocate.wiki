{{cpp/memory/synchronized_pool_resource/title|do_allocate}}
{{cpp/memory/synchronized_pool_resource/navbar}}
{{ddcl|since=c++17|1=
virtual void* do_allocate( std::size_t bytes, std::size_t alignment );
}}

分配存储。

若为块大小 {{c|bytes}} 选择的池无以满足来自其内部数据结构的请求，则在上游内存资源上调用 {{tt|allocate()}} 以获得内存。

若请求的大小大于最大的池所能处理的大小，则在上游内存资源上调用 {{tt|allocate()}} 以分配内存。

=== 返回值 ===
指向至少有 {{c|bytes}} 字节大小的存储的指针，若支持指定的对齐 {{c|alignment}} 则按之对齐，否则对齐到 {{c|alignof(std::max_align_t)}}。

=== 异常 ===
不抛出，除非上游内存资源上 {{tt|allocate()}} 的调用抛出异常。

=== 参阅 ===
{{dsc begin}}
{{dsc inc|cpp/memory/memory_resource/dsc allocate}}
{{dsc inc|cpp/memory/memory_resource/dsc do_allocate}}
{{dsc end}}

{{langlinks|en|es|ja|ru}}