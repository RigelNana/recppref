{{cpp/ranges/title|view|enable_view|view_base}}
{{cpp/ranges/navbar}}

{{dcl begin}}
{{dcl header|ranges}}
{{dcl|num=1|since=c++20|1=
template&lt;class T&gt;
concept view = ranges::range&lt;T&gt; &amp;&amp; std::movable&lt;T&gt; &amp;&amp; ranges::enable_view&lt;T&gt;;
}}
{{dcl|num=2|since=c++20|1=
template&lt;class T&gt;
constexpr bool enable_view =
    std::derived_from&lt;T, view_base&gt; {{!!}} /*is-derived-from-view-interface*/&lt;T&gt;;
}}
{{dcl|num=3|since=c++20|
struct view_base { };
}}
{{dcl end}}

@1@ {{tt|view}} æ¦‚å¿µæŒ‡å®šæ‹¥æœ‰é€‚åˆç”¨äºæ„é€ èŒƒå›´é€‚é…å™¨ç®¡é“çš„è¯­ä¹‰å±æ€§çš„ {{lconcept|range}} ç±»å‹ï¼ˆä¾‹å¦‚ä¸€å¯¹è¿­ä»£å™¨æˆ–æŒ‰éœ€åˆ›å»ºå…¶å…ƒç´ çš„ç”Ÿæˆå™¨ {{lconcept|range}}ã€‚

@2@ {{tt|enable_view}} å˜é‡æ¨¡æ¿ç”¨äºæŒ‡ç¤º {{lconcept|range}} æ˜¯å¦ä¸º {{tt|view}}ã€‚å½“ä¸”ä»…å½“ {{tt|T}} å‡†ç¡®æ‹¥æœ‰ä¸€ä¸ªå¯¹äºæŸç±»å‹ {{tt|U}} çš„å…¬å¼€åŸºç±» {{c|ranges::view_interface&lt;U&gt;}}ï¼Œä¸” {{tt|T}} æ— ä»»ä½•å¯¹äºå…¶ä»–ç±»å‹ {{tt|V}} çš„åŸºç±» {{c|ranges::view_interface&lt;V&gt;}} æ—¶ï¼Œ{{c|/*is-derived-from-view-interface*/&lt;T&gt;}} ä¸º {{c/core|true}}ã€‚
&lt;br&gt;ç”¨æˆ·å¯ä»¥é’ˆå¯¹è¦å®ç° {{tt|view}} çš„æ—  cv é™å®šçš„ç¨‹åºå®šä¹‰ç±»å‹ï¼Œå°† {{tt|enable_view}} ç‰¹åŒ–ä¸º {{c|true}}ï¼Œè€Œå¯¹ä¸å®ç°çš„ç±»å‹ç‰¹åŒ–ä¸º {{c|false}}ã€‚è¿™äº›ç‰¹åŒ–åº”å½“[[cpp/language/constant expression#å¯ç”¨äºå¸¸é‡è¡¨è¾¾å¼|å¯ç”¨äºå¸¸é‡è¡¨è¾¾å¼]]å¹¶æ‹¥æœ‰ {{c/core|const bool}} ç±»å‹ã€‚

@3@ ä» {{tt|view_base}} æ´¾ç”Ÿä¼šå…è®¸ {{lconcept|range}} ç±»å‹å®ç° {{tt|view}}ã€‚

===è¯­ä¹‰è¦æ±‚===
@1@ {{tt|T}} å®ç° {{tt|view}}ï¼Œä»…è‹¥ï¼š
* {{tt|T}} çš„ç§»åŠ¨æ„é€ æ‹¥æœ‰å¸¸æ•°æ—¶é—´å¤æ‚åº¦ï¼Œä¸”
* è‹¥ä»ä¿æœ‰ {{mathjax-or|\(\scriptsize M\)|M}} ä¸ªå…ƒç´ çš„ {{tt|T}} å¯¹è±¡ä½œå‡º {{mathjax-or|\(\scriptsize N\)|N}} æ¬¡å¤åˆ¶ä¸/æˆ–ç§»åŠ¨ï¼Œåˆ™è¿™ {{mathjax-or|\(\scriptsize N\)|N}} ä¸ªå¯¹è±¡æ‹¥æœ‰ {{mathjax-or|\(\scriptsize \mathcal{O}{(N+M)}\)|ğ“(N+M)}} æ—¶é—´å¤æ‚åº¦çš„ææ„ï¼ˆè¿™æ„å‘³ç€è¢«ç§»åŠ¨çš„ {{tt|view}} å¯¹è±¡æ‹¥æœ‰ {{mathjax-or|\(\scriptsize \mathcal{O}{(1)}\)|ğ“(1)}} ææ„ï¼‰ï¼Œä¸”
* {{c|std::copy_constructible&lt;T&gt;}} ä¸º {{c|false}}ï¼Œæˆ– {{tt|T}} çš„å¤åˆ¶æ„é€ æ‹¥æœ‰å¸¸æ•°æ—¶é—´å¤æ‚åº¦ï¼Œä¸”
* {{c|std::copyable&lt;T&gt;}} ä¸º {{c|false}}ï¼Œæˆ– {{tt|T}} æ‹¥æœ‰ä¸å¤šäºææ„åéšå¤åˆ¶æ„é€ çš„æ—¶é—´å¤æ‚åº¦ã€‚

===ç‰¹åŒ–===
é’ˆå¯¹ä»¥ä¸‹å„æ ‡å‡†æ¨¡æ¿çš„æ‰€æœ‰ç‰¹åŒ–ï¼Œ{{tt|enable_view}} çš„ç‰¹åŒ–å‡è¢«å®šä¹‰ä¸º {{c|true}}ï¼š
* {{ltt|cpp/string/basic_string_view|std::basic_string_view}}
* {{ltt|cpp/container/span|std::span}}
{{rrev|since=c++26|1=
* {{ltt|cpp/utility/optional|std::optional}}
}}

===æ³¨è§£===
{{tt|view}} ç±»å‹çš„ç¤ºä¾‹ä¸ºï¼š
* åŒ…è£…ä¸€å¯¹è¿­ä»£å™¨çš„ {{lconcept|range}} ç±»å‹ï¼Œä¾‹å¦‚ {{c|std::ranges::subrange&lt;I&gt;}}ã€‚
* é€šè¿‡ {{lc|std::shared_ptr}} æŒæœ‰å…¶å…ƒç´ å¹¶ä¸æ‰€æœ‰å‰¯æœ¬å…±äº«æ‰€æœ‰æƒçš„ {{lconcept|range}} ç±»å‹ã€‚
* æŒ‰éœ€ç”Ÿæˆå…¶å…ƒç´ çš„ {{lconcept|range}} ç±»å‹ï¼Œä¾‹å¦‚ {{lc|std::ranges::iota_view}}ã€‚

è¯¸å¦‚ {{c|std::vector&lt;std::string&gt;}} çš„å¯å¤åˆ¶å®¹å™¨é€šå¸¸ä¸ç¬¦åˆ {{tt|view}} çš„è¯­ä¹‰è¦æ±‚ï¼Œå› ä¸ºå¤åˆ¶å®¹å™¨ä¼šå¤åˆ¶å…¶æ‰€æœ‰å…ƒç´ ï¼Œè¿™æ— æ³•åœ¨å¸¸æ•°æ—¶é—´å†…å®Œæˆã€‚

è§†å›¾åŸå…ˆè¢«æè¿°æˆå¯å»‰ä»·å¤åˆ¶å¹¶ä¸”ä¸ºéå æœ‰çš„èŒƒå›´ï¼Œä¸è¿‡ä¸è¦æ±‚å®ç° {{tt|view}} çš„ç±»å‹ä¸ºå¯å¤åˆ¶æˆ–éå æœ‰ã€‚ç„¶è€Œï¼Œå®ƒå¿…é¡»ä»ç„¶æœ‰å»‰ä»·çš„å¤åˆ¶ï¼ˆå‡¡åœ¨å¯èƒ½æ—¶ï¼‰ã€ç§»åŠ¨ã€èµ‹å€¼åŠææ„ï¼Œä»¥ä»¤{{ls|cpp/ranges#èŒƒå›´é€‚é…å™¨}}ä¸ä¼šæ‹¥æœ‰ä¸æœŸå¾…çš„å¤æ‚åº¦ã€‚

å®ç° {{lconcept|movable}} å’Œ {{lconcept|range}} çš„ç±»å‹é»˜è®¤è¢«è®¤ä¸ºæ˜¯è§†å›¾ï¼Œè‹¥å®ƒå…¬å¼€ä¸”æ— æ­§ä¹‰åœ°æ´¾ç”Ÿè‡ª {{tt|view_base}} æˆ–æ°å¥½ä¸€ä¸ª {{lc|ranges::view_interface}} çš„ç‰¹åŒ–ã€‚

===ç¤ºä¾‹===
æœ€å°åŒ–çš„è§†å›¾ã€‚

{{source|1=
#include &lt;ranges&gt;

struct ArchetypalView : std::ranges::view_interface&lt;ArchetypalView&gt;
{
    int* begin();
    int* end();
};

static_assert(std::ranges::view&lt;ArchetypalView&gt;);
}}

===ç¼ºé™·æŠ¥å‘Š===
{{dr list begin}}
{{dr list item|paper=P2325R3|std=C++20|before={{tt|view}} è¦æ±‚ {{lconcept|default_initializable}}|after=ä¸è¦æ±‚}}
{{dr list item|wg=lwg|dr=3549|std=C++20|before={{tt|enable_view}} ä¸æ£€æµ‹æ¥è‡ª {{tt|view_interface}} çš„ç»§æ‰¿|after=æ£€æµ‹}}
{{dr list item|paper=P2415R2|std=C++20|before=ææ„çš„æ—¶é—´å¤æ‚åº¦ä¸Šçš„é™åˆ¶è¿‡äºä¸¥æ ¼|after=å·²æ”¾æ¾}}
{{dr list end}}

{{langlinks|de|en|es|ja|ru}}