{{cpp/ranges/views/title|all|all_t}}
{{cpp/ranges/navbar}}
{{dcl begin}}
{{dcl header|ranges}}
{{dcl|num=1|since=c++20|1=
inline constexpr /* 未指定 */ all = /* 未指定 */;
}}
{{dcl|num=2|since=c++20|1=
template&lt; ranges::viewable_range R &gt;
using all_t = decltype(views::all(std::declval&lt;R&gt;()));
}}
{{dcl end}}

@1@ 一个{{named req|RangeAdaptorObject}}（也是{{named req|RangeAdaptorClosureObject}}），返回包含它的 {{lconcept|range}} 实参的所有元素的 {{lconcept|view}}。

@@ 给定 {{tt|R}} 类型的表达式 {{c|e}}，表达式 {{c|views::all(e)}} [[cpp/language/expressions#表达式等价|表达式等价]]于：
* 如果 {{c/core|std::decay_t&lt;R&gt;}} 实现 {{lconcept|view}}，则将 {{c|e}} 隐式转换到 {{c/core|std::decay_t&lt;R&gt;}} 的纯右值。
* 否则，如果该表达式良构，是 {{c|std::ranges::ref_view{e}&lt;!----&gt;}}。
* 否则是 {{c|std::ranges::owning_view{e}&lt;!----&gt;}}。

@2@ 计算 {{lconcept|viewable_range}} 类型的适合 {{lconcept|view}} 类型。

===示例===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;ranges&gt;
#include &lt;type_traits&gt;
#include &lt;vector&gt;

int main()
{
    std::vector&lt;int&gt; v{0, 1, 2, 3, 4, 5};
    for (int n : std::views::all(v) {{!}} std::views::take(2))
        std::cout &lt;&lt; n &lt;&lt; ' ';
    
    static_assert(std::is_same&lt;
        decltype(std::views::single(42)),
        std::ranges::single_view&lt;int&gt;
        &gt;{});
    
    static_assert(std::is_same&lt;
        decltype(std::views::all(v)),
        std::ranges::ref_view&lt;std::vector&lt;int, std::allocator&lt;int&gt;&gt;&gt;
        &gt;{});
    
    int a[]{1, 2, 3, 4};
    static_assert(std::is_same&lt;
        decltype(std::views::all(a)),
        std::ranges::ref_view&lt;int[4]&gt;
        &gt;{});
    
    static_assert(std::is_same&lt;
        decltype(std::ranges::subrange{std::begin(a) + 1, std::end(a) - 1}),
        std::ranges::subrange&lt;int*, int*, std::ranges::subrange_kind(1)&gt;
        &gt;{});
}
|output=
0 1 
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3724|std=C++20|before={{tt|views::all}} 对某些仅移动的视图可能会导致硬错误|after=将它良好约束}}
{{dr list item|paper=P2415R2|std=C++20|before={{tt|views::all}} 对非 {{lconcept|view}} 右值 {{lconcept|range}} 返回 {{tt|subrange}}|after=对它返回 {{tt|owning_view}} }}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/ranges/dsc empty_view}}
{{dsc inc|cpp/ranges/dsc single_view}}
{{dsc inc|cpp/ranges/dsc owning_view}}
{{dsc end}}

{{langlinks|de|en|es|ja|ru}}