{{cpp/ranges/view title|chunk_by}}
{{cpp/ranges/chunk_by_view/navbar}}
{{dcl begin}}
{{dcl header|ranges}}
{{dcl|num=1|since=c++23|1=
template&lt; ranges::forward_range V, std::indirect_binary_predicate&lt;iterator_t&lt;V&gt;,
          ranges::iterator_t&lt;V&gt;&gt; Pred &gt;
    requires ranges::view&lt;V&gt; &amp;&amp; std::is_object_v&lt;Pred&gt;
class chunk_by_view
    : public ranges::view_interface&lt;chunk_by_view&lt;V, Pred&gt;&gt;
}}
{{dcl|num=2|since=c++23|1=
namespace views {
    inline constexpr /* æœªæŒ‡æ˜ */ chunk_by = /* æœªæŒ‡æ˜ */ ;
}
}}
{{dcl h|è°ƒç”¨ç­¾å}}
{{dcl|since=c++23|1=
template&lt; ranges::viewable_range R, class Pred &gt;
    requires /* è§ä¸‹æ–‡ */
constexpr ranges::view auto chunk_by( R&amp;&amp; r, Pred&amp;&amp; pred );
}}
{{dcl|since=c++23|1=
template&lt; class Pred &gt;
constexpr /*range adaptor closure*/ chunk_by( Pred&amp;&amp; pred );
}}
{{dcl end}}

@1@ {{tt|chunk_by_view}} æ˜¯èŒƒå›´é€‚é…å™¨ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª {{lconcept|view}} å’Œä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ {{c|pred}}ï¼ˆäºŒå…ƒè°“è¯ï¼‰ï¼Œå¹¶åœ¨æ¯å¯¹ {{c|pred}} è¿”å› {{c|false}} çš„ç›¸é‚»å…ƒç´ ä¹‹é—´æ‹†åˆ†åº•å±‚è§†å›¾ï¼Œä»¥æ­¤ç”Ÿæˆå­èŒƒå›´ï¼ˆåŒºå—ï¼‰çš„ {{lconcept|view}}ã€‚æ¯å¯¹è¿™ç§ç›¸é‚»å…ƒç´ çš„ç¬¬ä¸€ä¸ªå…ƒç´ å±äºä¸Šä¸€ä¸ªåŒºå—ï¼Œç¬¬äºŒä¸ªå…ƒç´ å±äºä¸‹ä¸€ä¸ªåŒºå—ã€‚

@2@ åå­— {{c|views::chunk_by}} ä»£è¡¨ä¸€ä¸ª{{named req|RangeAdaptorObject|èŒƒå›´é€‚é…å™¨å¯¹è±¡}}ã€‚ç»™å®šå­è¡¨è¾¾å¼ {{c|e}} å’Œ {{c|f}}ï¼Œè¡¨è¾¾å¼ {{c|views::chunk_by(e, f)}} [[cpp/language/expressions#è¡¨è¾¾å¼ç­‰ä»·|è¡¨è¾¾å¼ç­‰ä»·]]äº {{c|chunk_by_view(e, f)}}ã€‚

{{tt|chunk_by_view}} æ€»æ˜¯å®ç° {{lconcept|forward_range}}ï¼Œå¹¶ä¸”åœ¨ {{lconcept|view}} å®ç° {{lconcept|bidirectional_range}} å’Œ {{lconcept|common_range}} æ—¶ä¹Ÿå®ç°å®ƒä»¬ã€‚
{{tt|chunk_by_view}} æ°¸ä¸å®ç° {{lconcept|borrowed_range}} å’Œ {{lconcept|sized_range}}ã€‚

===æ•°æ®æˆå‘˜===
{{dsc begin}}
{{dsc hitem|æˆå‘˜åç§°|å®šä¹‰}}
{{dsc expos mem obj|base_|id=base|spec={{tt|V}}|åº•å±‚ {{lconcept|view}}}}
{{dsc expos mem obj|pred_|id=pred|spec={{lti|cpp/ranges/copyable_wrapper|movable-box}}{{tti|&lt;Pred&gt;}}|åŒ…è£…åˆ†å‰² {{tti|base_}} å…ƒç´ çš„è°“è¯çš„å¯¹è±¡}}
{{dsc expos mem obj|begin_|id=begin|spec={{rlpi|non-propagating-cache|non-propagating-cache}}{{tti|&lt;iterator&gt;}}|ç¼“å­˜æŒ‡å‘é¦–ä¸ªå…ƒç´ çš„è¿­ä»£å™¨çš„å¯¹è±¡}}
{{dsc end}}

===æˆå‘˜å‡½æ•°===
{{dsc begin}}
{{dsc inc|cpp/ranges/adaptor/dsc constructor|chunk_by_view}}
{{dsc inc|cpp/ranges/adaptor/dsc base|chunk_by_view}}
{{dsc inc|cpp/ranges/adaptor/dsc pred|chunk_by_view}}
{{dsc inc|cpp/ranges/adaptor/dsc begin|chunk_by_view}}
{{dsc inc|cpp/ranges/adaptor/dsc end|chunk_by_view}}
{{dsc expos mem fun|cpp/ranges/chunk_by_view/helpers#find_next|title=''find_next''|è¿”å›ä¸‹ä¸€ä¸ªå­èŒƒå›´èµ·å§‹çš„è¿­ä»£å™¨}}
{{dsc expos mem fun|cpp/ranges/chunk_by_view/helpers#find_prev|title=''find_prev''|è¿”å›ä¸Šä¸€ä¸ªå­èŒƒå›´èµ·å§‹çš„è¿­ä»£å™¨}}
{{cpp/ranges/view_interface/inherit|embedded=yes|size=invalid|data=invalid|operator[]=invalid}}
{{dsc end}}

==={{rl|deduction guides|æ¨å¯¼æŒ‡å¼•}}===

===åµŒå¥—ç±»===
{{dsc begin}}
{{dsc expos mem tclass|cpp/ranges/chunk_by_view/iterator|è¿­ä»£å™¨ç±»å‹}}
{{dsc end}}

===æ³¨è§£===
ä¸ºäº†æä¾› {{lconcept|range}} æ¦‚å¿µæ‰€éœ€çš„å‡æ‘Šå¸¸æ•°æ—¶é—´å¤æ‚åº¦ï¼Œ{{rltf|begin}} çš„ç»“æœä¼šç¼“å­˜åœ¨ {{tt|chunk_by_view}} å¯¹è±¡ä¸­ã€‚å¦‚æœåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ {{rltf|begin}} åä¿®æ”¹äº†åº•å±‚èŒƒå›´ï¼Œé‚£ä¹ˆåç»­ä½¿ç”¨ {{tt|chunk_by_view}} å¯¹è±¡æ—¶å¯èƒ½ä¼šå‡ºç°ä¸ç›´è§‚çš„è¡Œä¸ºã€‚

{{feature test macro|__cpp_lib_ranges_chunk_by|std=C++23|value=202202L|{{tt|std::ranges::chunk_by_view}}}}

===ç¤ºä¾‹===
{{example
|code=
#include &lt;functional&gt;
#include &lt;iostream&gt;
#include &lt;ranges&gt;
#include &lt;string_view&gt;

void print_chunks(auto view, std::string_view separator = ", ")
{
    for (auto const subrange : view)
    {
        std::cout &lt;&lt; '[';
        for (std::string_view prefix; auto const&amp; elem : subrange)
            std::cout &lt;&lt; prefix &lt;&lt; elem, prefix = separator;
        std::cout &lt;&lt; "] ";
    }
    std::cout &lt;&lt; '\n';
}

int main()
{
    std::initializer_list v1 = {1, 2, 3, 1, 2, 3, 3, 3, 1, 2, 3};
    auto fn1 = std::ranges::less{};
    auto view1 = v1 {{!}} std::views::chunk_by(fn1);
    print_chunks(view1);

    std::initializer_list v2 = {1, 2, 3, 4, 4, 0, 2, 3, 3, 3, 2, 1};
    auto fn2 = std::ranges::not_equal_to{};
    auto view2 = v2 {{!}} std::views::chunk_by(fn2);
    print_chunks(view2);

    std::string_view v3 = "__cpp_lib_ranges_chunk_by";
    auto fn3 = [](auto x, auto y) { return not(x == '_' or y == '_'); };
    auto view3 = v3 {{!}} std::views::chunk_by(fn3);
    print_chunks(view3, "");

    std::string_view v4 = "\u007a\u00df\u6c34\u{1f34c}"; // "zÃŸæ°´ğŸŒ"
    auto fn4 = [](auto, auto ÃŸ) { return 128 == ((128 + 64) &amp; ÃŸ); };
    auto view4 = v4 {{!}} std::views::chunk_by(fn4);
    print_chunks(view4, "");
}
}
|output=
[1, 2, 3] [1, 2, 3] [3] [3] [1, 2, 3] 
[1, 2, 3, 4] [4, 0, 2, 3] [3] [3, 2, 1] 
[_] [_] [cpp] [_] [lib] [_] [ranges] [_] [chunk] [_] [by]
[z] [ÃŸ] [æ°´] [ğŸŒ] 
}}

===å¼•ç”¨===
{{ref std c++23}}
{{ref std|title=Chunk by view|id=range.chunk.by|section=26.7.30}}
{{ref std end}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/ranges/dsc chunk_view}}
{{dsc inc|cpp/ranges/dsc slide_view}}
{{dsc inc|cpp/ranges/dsc stride_view}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}