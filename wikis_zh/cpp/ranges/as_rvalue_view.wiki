{{cpp/ranges/view title|as_rvalue}}
{{cpp/ranges/navbar}}
{{dcl begin}}
{{dcl header|ranges}}
{{dcl|num=1|since=c++23|1=
template&lt; ranges::view V &gt;
    requires ranges::input_range&lt;V&gt;
class as_rvalue_view
    : public ranges::view_interface&lt;as_rvalue_view&lt;V&gt;&gt;
}}
{{dcl|num=2|since=c++23|1=
namespace views {
    inline constexpr /* æœªæŒ‡æ˜ */ as_rvalue = /* æœªæŒ‡æ˜ */;
}
}}
{{dcl h|è°ƒç”¨ç­¾å}}
{{dcl|since=c++23|1=
template&lt; ranges::viewable_range R &gt;
    requires /* è§ä¸‹æ–‡ */
constexpr ranges::view auto as_rvalue( R&amp;&amp; r );
}}
{{dcl end}}

@1@ èŒƒå›´é€‚é…å™¨ï¼Œç”¨äºè¡¨ç¤ºåº•å±‚ {{lconcept|view}} çš„è§†å›¾ï¼Œå…¶å…ƒç´ ä¸ºå³å€¼ã€‚

@2@ {{named req|RangeAdaptorObject}}ã€‚ä»¤ {{c|e}} æ˜¯ä¸€ä¸ªå­è¡¨è¾¾å¼ï¼Œå¹¶ä»¤ {{tt|T}} æ˜¯ {{c|decltype((e))}}ã€‚é‚£ä¹ˆè¡¨è¾¾å¼ {{c|views::as_rvalue(e)}} [[cpp/language/expressions#Expression-equivalence|è¡¨è¾¾å¼ç­‰ä»·]]äºï¼š
* {{c|views::all(e)}}ï¼Œå¦‚æœå®ƒæ˜¯è‰¯æ„çš„è¡¨è¾¾å¼ã€ {{tt|T}} å®ç° {{lconcept|input_range}} ä¸” {{c|std::same_as&lt;ranges::range_rvalue_reference_t&lt;T&gt;, ranges::range_reference_t&lt;T&gt;&gt;}} æ˜¯ {{c|true}}ï¼›
* å¦åˆ™æ˜¯ {{c|as_rvalue_view{e}&lt;!----&gt;}}ã€‚

===æ•°æ®æˆå‘˜===
{{dsc begin}}
{{dsc hitem|æˆå‘˜|è¯´æ˜}}
{{dsc expos mem obj|base_|id=base|private=yes|spec={{tt|V}}|åº•å±‚è§†å›¾}}
{{dsc end}}

===æˆå‘˜å‡½æ•°===
{{dsc begin}}
{{dsc mem ctor|{{PAGENAME}}#ctor|æ„é€ ä¸€ä¸ª {{tt|as_rvalue_view}}}}
{{dsc mem fun|{{PAGENAME}}#base|title=base|è¿”å›åº•å±‚è§†å›¾ {{tt|V}}}}
{{dsc mem fun|{{PAGENAME}}#begin|title=begin|è¿”å› {{tt|as_rvalue_view}} çš„é¦–è¿­ä»£å™¨}}
{{dsc mem fun|{{PAGENAME}}#end|title=end|è¿”å› {{tt|as_rvalue_view}} çš„å°¾è¿­ä»£å™¨}}
{{dsc mem fun|{{PAGENAME}}#size|title=size|è‹¥è§†å›¾æœ‰ç•Œåˆ™è¿”å›å…¶å¤§å°}}
{{dsc mem fun|{{PAGENAME}}#reserve_hint|title=reserve_hint|è¿”å›åº•å±‚ {{rlpt|approximately_sized_range}} çš„ä¼°è®¡å¤§å°|notes={{mark c++26}}}}
{{cpp/ranges/view_interface/inherit|embedded=yes|size=yes|data=invalid}}
{{dsc end}}

{{anchor|ctor}}
{{member|{{small|std::ranges::as_rvalue_view::}}as_rvalue_view|
{{dcl begin}}
{{dcl|num=1|since=c++23|1=
as_rvalue_view() requires std::default_initializable&lt;V&gt; = default;
}}
{{dcl|num=2|since=c++23|
constexpr explicit as_rvalue_view( V base );
}}
{{dcl end}}

@1@ ä½¿ç”¨é»˜è®¤æˆå‘˜åˆå§‹åŒ–å¼ï¼ˆ{{c|1=== V()}}ï¼‰å¯¹ {{lsi|#base_}} è¿›è¡Œå€¼åˆå§‹åŒ–ã€‚
@2@ ä½¿ç”¨ {{c|std::move(base)}} åˆå§‹åŒ– {{lsi|#base_}}ã€‚

===å‚æ•°===
{{par begin}}
{{par|base|è§†å›¾}}
{{par end}}
}}

{{anchor|base}}
{{member|{{small|std::ranges::as_rvalue_view::}}base|
{{dcl begin}}
{{dcl|num=1|since=c++23|
constexpr V base() const&amp; requires std::copy_constructible&lt;V&gt;;
}}
{{dcl|num=2|since=c++23|
constexpr V base() &amp;&amp;;
}}
{{dcl end}}

è¿”å›åº•å±‚è§†å›¾ã€‚
@1@ ä»åº•å±‚è§†å›¾å¤åˆ¶æ„é€ ç»“æœã€‚ç­‰ä»·äº {{box|{{c/core|return}}{{nbspt}}{{lsi|#base_}}{{sep}}{{c/core|;}}}}ã€‚
@2@ ä»åº•å±‚è§†å›¾ç§»åŠ¨æ„é€ ç»“æœã€‚ç­‰ä»·äº {{box|{{c/core|return std::move(}}{{lsi|#base_}}{{sep}}{{c/core|);}}}}ã€‚
}}

{{anchor|begin}}
{{member|{{small|std::ranges::as_rvalue_view::}}begin|
{{dcl begin}}
{{dcl|num=1|since=c++23|
constexpr auto begin() requires (!/*simple-view*/&lt;V&gt;);
}}
{{dcl|num=2|since=c++23|
constexpr auto begin() const requires ranges::range&lt;const V&gt;;
}}
{{dcl end}}

è¿”å› {{box|{{c/core|std::move_iterator(ranges::begin(}}{{lsi|#base_}}{{sep}}{{c/core|))}}}}ã€‚
}}

{{anchor|end}}
{{member|{{small|std::ranges::as_rvalue_view::}}end|
{{dcl begin}}
{{dcl|num=1|since=c++23|
constexpr auto end() requires (!/*simple-view*/&lt;V&gt;);
}}
{{dcl|num=2|since=c++23|
constexpr auto end() const requires ranges::range&lt;const V&gt;;
}}
{{dcl end}}

å¦‚æœ {{v|1}} æˆ– {{v|2}} {{c/core|const V}} å®ç° {{lconcept|common_range}}ï¼Œåˆ™è¿”å› {{box|{{c/core|std::move_iterator(ranges::end(}}{{lsi|#base_}}{{sep}}{{c/core|))}}}}ã€‚

å¦åˆ™è¿”å› {{box|{{c/core|std::move_sentinel(ranges::end(}}{{lsi|#base_}}{{sep}}{{c/core|))}}}}ã€‚
}}

{{anchor|size}}
{{member|{{small|std::ranges::as_rvalue_view::}}size|
{{dcl begin}}
{{dcl|num=1|since=c++23|
constexpr auto size() requires ranges::sized_range&lt;V&gt;;
}}
{{dcl|num=2|since=c++23|
constexpr auto size() const requires ranges::sized_range&lt;const V&gt;;
}}
{{dcl end}}

å¦‚æœè§†å›¾æœ‰ç•Œï¼Œåˆ™è¿”å›è§†å›¾çš„å¤§å°ã€‚ç­‰ä»·äº {{box|{{c/core|return ranges::size(}}{{lsi|#base_}}{{sep}}{{c/core|);}}}}ã€‚
}}

{{anchor|reserve_hint}}
{{member|{{small|std::ranges::as_rvalue_view::}}reserve_hint|
{{dcl begin}}
{{dcl|num=1|since=c++26|
constexpr auto reserve_hint()
    requires ranges::approximately_sized_range&lt;V&gt;;
}}
{{dcl|num=2|since=c++26|
constexpr auto reserve_hint() const
    requires ranges::approximately_sized_range&lt;const V&gt;;
}}
{{dcl end}}

è¿”å› {{box|{{c/core|ranges::reserve_hint(}}{{lsi|#base_}}{{sep}}{{c/core|)}}}}ã€‚
}}

===æ¨å¯¼æŒ‡å¼•===
{{ddcl|since=c++23|
template&lt; class R &gt;
as_rvalue_view( R&amp;&amp; ) -&gt; as_rvalue_view&lt;views::all_t&lt;R&gt;&gt;;
}}

===è¾…åŠ©æ¨¡æ¿===
{{ddcl|since=c++23|1=
template&lt; class T &gt;
constexpr bool enable_borrowed_range&lt;std::ranges::as_rvalue_view&lt;T&gt;&gt; =
    ranges::enable_borrowed_range&lt;T&gt;;
}}
{{lc|ranges::enable_borrowed_range}} çš„ç‰¹åŒ–ä½¿å¾— {{tt|as_rvalue_view}} åœ¨åº•å±‚è§†å›¾æ»¡è¶³ {{lconcept|borrowed_range}} æ—¶ï¼Œä¹Ÿæ»¡è¶³ {{lconcept|borrowed_range}}ã€‚

===æ³¨è§£===
{{ftm begin|sort=yes}}
{{ftm|__cpp_lib_ranges_as_rvalue|{{tt|std::ranges::as_rvalue_view}}|value=202207L|std=C++23}}
{{ftm|__cpp_lib_ranges_reserve_hint|std=C++26|value=202502L|{{lc|ranges::approximately_sized_range}} ä¸ {{lst|#reserve_hint}}}}
{{ftm end}}

===ç¤ºä¾‹===
{{example
|code=
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;ranges&gt;
#include &lt;string&gt;
#include &lt;vector&gt;

int main()
{
    std::vector&lt;std::string&gt; words =
        {"Quick", "red", "\N{FOX FACE}", "jumped", "over", "a", "pterodactyl"};
    std::vector&lt;std::string&gt; new_words;

    std::ranges::copy(
        words {{!}} std::views::as_rvalue,
        std::back_inserter(new_words)); // ä» words ç§»åŠ¨å­—ç¬¦ä¸²åˆ° new_words

    auto quoted = std::views::transform([](auto&amp;&amp; s) { return "â€œ" + s + "â€"; });

    std::cout &lt;&lt; "æ—§å•è¯: ";
    for (auto&amp;&amp; word : words {{!}} std::views::as_rvalue {{!}} quoted)
        std::cout &lt;&lt; word &lt;&lt; ' ';

    std::cout &lt;&lt; "\næ–°å•è¯: ";
    for (auto&amp;&amp; word : new_words {{!}} std::views::as_rvalue {{!}} quoted)
        std::cout &lt;&lt; word &lt;&lt; ' ';
}
|p=true
|output=
æ—§å•è¯: â€œâ€ â€œâ€ â€œâ€ â€œâ€ â€œâ€ â€œâ€ â€œâ€ 
æ–°å•è¯: â€œQuickâ€ â€œredâ€ â€œğŸ¦Šâ€ â€œjumpedâ€ â€œoverâ€ â€œaâ€ â€œpterodactylâ€
}}

===ç¼ºé™·æŠ¥å‘Š===
{{dr list begin}}
{{dr list item|wg=lwg|dr=4083|std=C++23|before={{tt|views::as_rvalue}} æ›¾æ¥å—éè¾“å…¥èŒƒå›´|after=ä½¿ä¹‹æ‹’ç»}}
{{dr list end}}

===å‚é˜…===
{{dsc begin}}
{{dsc inc|cpp/iterator/dsc move_iterator}}
{{dsc inc|cpp/iterator/dsc move_sentinel}}
{{dsc inc|cpp/ranges/dsc as_const_view}}
{{dsc end}}

{{langlinks|de|es|ja|ru|en}}