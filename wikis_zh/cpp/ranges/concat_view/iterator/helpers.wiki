{{cpp/ranges/concat_view/iterator/title|''satisfy'', ''prev'', ''advance-fwd'', ''advance-bwd''}}
{{cpp/ranges/concat_view/navbar}}

以下仅用于阐述的成员函数模板用于简化描述。

每个辅助函数模板都有一个 {{lc|std::size_t}} 类型的非类型模板形参。
* 如果模板形参的名字是 {{c|N}}，那么模板实参始终是 {{box|{{rlpsi|/#it_}}{{sep}}{{c/core|.index()}}}}。
* 如果模板形参的名字是 {{c|I}}，那么模板实参可以是 {{range|0|sizeof...(Views)}} 中的任何 {{lc|std::size_t}} 值。

然而模板形参不一定是编译期常量，因此 {{box|{{tti|helper}}{{sep}}{{c/core|&lt;non_const&gt;(/* 实参 */)}}}} 的实际效果类似于 {{box|
{{c/core|1=if (non_const == 0)}}&lt;br&gt;
{{nbspt|4}}{{tti|helper}}{{sep}}{{c/core|&lt;0&gt;(/* 实参 */);}}&lt;br&gt;
{{c/core|1=else if (non_const == 1)}}&lt;br&gt;
{{nbspt|4}}{{tti|helper}}{{sep}}{{c/core|&lt;1&gt;(/* 实参 */);}}&lt;br&gt;
{{c/core|/* 其他索引 */}}&lt;br&gt;
{{c/core|1=else if (non_const == (sizeof...(Views) - 1))}}&lt;br&gt;
{{nbspt|4}}{{tti|helper}}{{sep}}{{c/core|&lt;sizeof...(Views) - 1&gt;(/* 实参 */);}}&lt;br&gt;
}}。

===辅助模板===
{{member|迷你辅助模板|2=
{{dcl begin}}
{{dcla|num=1|anchor=get-iter|expos=yes|
template&lt; std::size_t N &gt;
constexpr auto /*get-iter*/();
}}
{{dcla|num=2|anchor=get-view|expos=yes|
template&lt; std::size_t I &gt;
constexpr auto /*get-view*/();
}}
{{dcla|num=3|anchor=get-begin|expos=yes|
template&lt; std::size_t I &gt;
constexpr auto /*get-begin*/();
}}
{{dcla|num=4|anchor=get-end|expos=yes|
template&lt; std::size_t I &gt;
constexpr auto /*get-end*/();
}}
{{dcla|num=5|anchor=to-underlying-diff-type|expos=yes|
template&lt; std::size_t N &gt;
constexpr auto /*to-underlying-diff-type*/( difference_type value );
}}
{{dcl end}}

迷你辅助模板简化了主辅助模板和成员函数的描述。C++ 标准文档并未包含这些模板。

@1@ 获取 {{rlpsi|/#it_}} 包含的底层迭代器。
@@ 返回 {{box|{{ltt std|cpp/utility/variant/get}}{{c/core|&lt;N&gt;(}}{{rlpsi|/#it_}}{{sep}}{{c/core|)}}}}。

@2@ 获取父 {{tt|concat_view}} 的第 {{c|I}} 个视图。
@@ 返回 {{box|{{ltt std|cpp/utility/tuple/get}}{{c/core|&lt;I&gt;(}}{{rlpsi|/#parent_}}{{sep}}{{c/core|-&gt;}}{{lsi|cpp/ranges/concat_view#views_}}{{sep}}{{c/core|)}}}}。

@3@ 获取指向父 {{tt|concat_view}} 的第 {{c|I}} 个视图开头的迭代器。
@@ 返回 {{box|{{c/core|ranges::begin(}}{{tti|get-view}}{{sep}}{{c/core|&lt;I&gt;())}}}}。

@4@ 获取父 {{tt|concat_view}} 的第 {{c|I}} 个视图的尾后迭代器或哨位。
@@ 返回 {{box|{{c/core|ranges::end(}}{{tti|get-view}}{{sep}}{{c/core|&lt;I&gt;())}}}}。

@5@ 将 {{c|value}} 转换到 {{rlpsi|/#it_}} 包含的底层迭代器的差类型。
@@ 返回 {{box|{{c/core|static_cast&lt;std::iter_difference_t&lt;std::variant_alternative_t&lt;I,}}{{nbspt}}{{rlpsi|/#base-iter}}{{sep}}{{c/core|&gt;&gt;&gt;(value)}}}}。
}}

{{anchor|satisfy}}
{{member|{{small|std::ranges::concat_view::''iterator''::}}''satisfy''&lt;N&gt;|2=
{{dcl begin}}
{{dcla|expos=yes|
template&lt; size_t N &gt;
constexpr void /*satisfy*/();
}}
{{dcl end}}

调整 {{rlpsi|/#it_}} 的当前（全局）位置。
* 如果 {{c|N}} 是 {{c|sizeof...(Views) - 1}}，那么什么也不做。
* 否则等价于 {{box|{{c/core|if (}}{{lsi|#get-iter}}{{sep}}{{c/core|1=&lt;N&gt;() ==}}{{nbspt}}{{lsi|#get-end}}{{sep}}{{c/core|&lt;N&gt;())}}&lt;br&gt;{{c/core|{}}&lt;br&gt;{{nbspt|4}}{{rlpsi|/#it_}}{{sep}}{{c/core|.template emplace&lt;N + 1&gt;(}}{{lsi|#get-begin}}{{sep}}{{c/core|&lt;N + 1&gt;());}}&lt;br&gt;{{nbspt|4}}{{tti|satisfy}}{{sep}}{{c/core|&lt;N + 1&gt;();}}&lt;br&gt;{{c/core|}&lt;!----&gt;}}}}。
}}

{{anchor|prev}}
{{member|{{small|std::ranges::concat_view::''iterator''::}}''prev''&lt;N&gt;|2=
{{dcl begin}}
{{dcla|expos=yes|
template&lt; size_t N &gt;
constexpr void /*prev*/();
}}
{{dcl end}}

将 {{rlpsi|/#it_}} 移动到上一位置。
* 如果 {{c|N}} 是 {{c|0}}，那么等价于 {{box|{{c/core|--}}{{lsi|#get-iter}}{{sep}}{{c/core|&lt;0&gt;();}}}}。
* 否则等价于 {{box|{{c/core|if (}}{{lsi|#get-iter}}{{sep}}{{c/core|1=&lt;N&gt;() ==}}{{nbspt}}{{lsi|#get-begin}}{{sep}}{{c/core|&lt;N&gt;())}}&lt;br&gt;{{c/core|{}}&lt;br&gt;{{nbspt|4}}{{rlpsi|/#it_}}{{sep}}{{c/core|.template emplace&lt;N - 1&gt;(}}{{lsi|#get-end}}{{sep}}{{c/core|&lt;N - 1&gt;());}}&lt;br&gt;{{nbspt|4}}{{tti|prev}}{{sep}}{{c/core|&lt;N - 1&gt;();}}&lt;br&gt;{{c/core|}&lt;!----&gt;}}&lt;br&gt;{{c/core|else}}&lt;br&gt;{{nbspt|4}}{{c/core|--}}{{lsi|#get-iter}}{{sep}}{{c/core|&lt;0&gt;();}}}}。
}}

{{anchor|advance-fwd}}
{{member|{{small|std::ranges::concat_view::''iterator''::}}''advance-fwd''&lt;N&gt;|2=
{{dcl begin}}
{{dcla|expos=yes|
template&lt; size_t N &gt;
constexpr void /*advance-fwd*/( difference_type offset,
                                difference_type steps );
}}
{{dcl end}}

将当前（全局）位置前进 {{c|steps}} 步。
* 如果 {{c|N}} 是 {{c|sizeof...(Views) - 1}}，那么等价于 {{box|{{lsi|#get-iter}}{{sep}}{{c/core|1=&lt;N&gt;() +=}}{{nbspt}}{{lsi|#to-underlying-diff-type}}{{sep}}{{c/core|(steps);}}}}。
* 否则等价于 {{box|{{c/core|1=auto n_size = ranges::distance(}}{{lsi|#get-view}}{{sep}}{{c/core|&lt;N&gt;()));}}&lt;br&gt;{{c/core|if (offset + steps &lt; n_size)}}&lt;br&gt;{{nbspt|4}}{{lsi|#get-iter}}{{sep}}{{c/core|1=&lt;N&gt;() +=}}{{nbspt}}{{lsi|#to-underlying-diff-type}}{{sep}}{{c/core|(steps);}}&lt;br&gt;{{c/core|else}}&lt;br&gt;{{c/core|{}}&lt;br&gt;{{nbspt|4}}{{rlpsi|/#it_}}{{sep}}{{c/core|.template emplace&lt;N + 1&gt;(}}{{lsi|#get-begin}}{{sep}}{{c/core|&lt;N + 1&gt;());}}&lt;br&gt;{{nbspt|4}}{{tti|advance-fwd}}{{sep}}{{c/core|&lt;N + 1&gt;(0, offset + steps - n_size);}}&lt;br&gt;{{c/core|}&lt;!----&gt;}}}}。

===参数===
{{par begin}}
{{par|offset|当前（全局）位置到 {{rlpsi|/#it_}} 当前指向的元素的所属范围开头的距离}}
{{par|steps|要前进的步数}}
{{par end}}
}}

{{anchor|advance-bwd}}
{{member|{{small|std::ranges::concat_view::''iterator''::}}''advance-bwd''&lt;N&gt;|2=
{{dcl begin}}
{{dcla|expos=yes|
template&lt; size_t N &gt;
constexpr void /*advance-bwd*/( difference_type offset,
                                difference_type steps );
}}
{{dcl end}}

将当前（全局）位置后退 {{c|steps}} 步。
* 如果 {{c|N}} 是 {{c|0}}，那么等价于 {{box|{{lsi|#get-iter}}{{sep}}{{c/core|1=&lt;N&gt;() -=}}{{nbspt}}{{lsi|#to-underlying-diff-type}}{{sep}}{{c/core|(steps);}}}}。
* 否则等价于 {{box|{{c/core|1=if (offset &gt;= steps)}}&lt;br&gt;{{nbspt|4}}{{lsi|#get-iter}}{{sep}}{{c/core|1=&lt;N&gt;() -=}}{{nbspt}}{{lsi|#to-underlying-diff-type}}{{sep}}{{c/core|(steps);}}&lt;br&gt;{{c/core|else}}&lt;br&gt;{{c/core|{}}&lt;br&gt;{{nbspt|4}}{{c/core|1=auto prev_size = ranges::distance(}}{{lsi|#get-view}}{{sep}}{{c/core|&lt;N - 1&gt;());}}&lt;br&gt;{{nbspt|4}}{{rlpsi|/#it_}}{{sep}}{{c/core|.template emplace&lt;N - 1&gt;(}}{{lsi|#get-end}}{{sep}}{{c/core|&lt;N - 1&gt;());}}&lt;br&gt;{{nbspt|4}}{{tti|advance-bwd}}{{sep}}{{c/core|&lt;N - 1&gt;(prev_size, steps - offset);}}&lt;br&gt;{{c/core|}&lt;!----&gt;}}}}。

===参数===
{{par begin}}
{{par|offset|当前（全局）位置到 {{rlpsi|/#it_}} 当前指向的元素的所属范围开头的距离}}
{{par|steps|要后退的步数}}
{{par end}}
}}

{{langlinks|de|en|es|ja|ru}}