{{cpp/ranges/view title|elements}}
{{cpp/ranges/elements_view/navbar}}
{{dcl begin}}
{{dcl header|ranges}}
{{dcl|num=1|since=c++20|1=
template&lt; ranges::input_range V, std::size_t N &gt;
    requires ranges::view&lt;V&gt; &amp;&amp;
             /*has-tuple-element*/&lt;ranges::range_value_t&lt;V&gt;, N&gt; &amp;&amp;
             /*has-tuple-element*/&lt;std::remove_reference_t&lt;
                                       ranges::range_reference_t&lt;V&gt;&gt;, N&gt; &amp;&amp;
             /*returnable-element*/&lt;ranges::range_reference_t&lt;V&gt;, N&gt;
class elements_view
    : public ranges::view_interface&lt;elements_view&lt;V, N&gt;&gt;;
}}
{{dcl|num=2|since=c++20|1=
namespace views {
    template&lt; std::size_t N &gt;
    constexpr /* 未指定 */ elements = /* 未指定 */;
}
}}
{{dcl h|调用签名}}
{{dcl|since=c++20|1=
template&lt; ranges::viewable_range R &gt;
    requires /* 见下文 */
constexpr ranges::view auto elements&lt;N&gt;( R&amp;&amp; r );
}}
{{dcl h|辅助概念}}
{{dcl rev multi|num=3
|notes1={{mark expos}}|dcl1=
template&lt; class T, std::size_t N &gt;
concept /*has-tuple-element*/ =
    requires(T t) {
        typename std::tuple_size&lt;T&gt;::type;
        requires N &lt; std::tuple_size_v&lt;T&gt;;
        typename std::tuple_element_t&lt;N, T&gt;;
        { std::get&lt;N&gt;(t) } -&gt; std::convertible_to&lt;
                                  const std::tuple_element_t&lt;N, T&gt;&amp;&gt;;
    };
|since2=c++23|notes2={{mark expos}}|dcl2=
template&lt; class T, std::size_t N &gt;
concept /*has-tuple-element*/ =
    /*tuple-like*/&lt;T&gt; &amp;&amp; N &lt; std::tuple_size_v&lt;T&gt;
}}
{{dcl|num=4|notes={{mark expos}}|1=
template&lt; class T, std::size_t N &gt;
concept returnable-element =
     std::is_reference_v&lt;T&gt; {{!!}} std::move_constructible&lt;
                                       std::tuple_element_t&lt;N, T&gt;&gt;;
}}
{{dcl end}}

@1@ 接收元组式值的 {{lconcept|view}}，并产生值类型为适配视图的值类型的第 {{tt|N}} 元素的视图。

@2@ {{tt|views::elements}} 的每个特化都是{{named req|RangeAdaptorObject}}。对于任何适合的子表达式 {{c|e}} 和常量表达式 {{c|M}}，表达式 {{c|views​::​elements&lt;M&gt;(e)}} [[cpp/language/expressions#表达式等价|表达式等价]]于 {{c|elements_view&lt;views​::​all_t&lt;decltype((e))&gt;, M&gt;{e}&lt;!----&gt;}}。

@3@ 确保底层视图的元素是元组式值{{rev inl|since=c++23|，见 {{lti|cpp/utility/tuple/tuple-like}}}}。

@4@ 确保不能返回悬垂引用。

{{tt|elements_view}} 在底层视图 {{tt|V}} 实现 {{lconcept|random_access_range}}、{{lconcept|bidirectional_range}}、{{lconcept|forward_range}}、{{lconcept|input_range}}、{{lconcept|common_range}} 和 {{lconcept|sized_range}} 时实现对应的概念。

===数据成员===
{{dsc begin}}
{{dsc hitem|成员|描述}}
{{dsc expos mem obj|base_|id=base|spec={{tt|V}}|底层视图}}
{{dsc end}}

===成员函数===
{{dsc begin}}
{{dsc inc|cpp/ranges/adaptor/dsc constructor|elements_view}}
{{dsc inc|cpp/ranges/adaptor/dsc base|elements_view}}
{{dsc inc|cpp/ranges/adaptor/dsc begin|elements_view}}
{{dsc inc|cpp/ranges/adaptor/dsc end|elements_view}}
{{dsc inc|cpp/ranges/adaptor/dsc size|elements_view}}
{{dsc inc|cpp/ranges/adaptor/dsc reserve_hint|elements_view}}
{{cpp/ranges/view_interface/inherit|embedded=yes|size=yes|data=invalid}}
{{dsc end}}

===嵌套类===
{{dsc begin}}
{{dsc expos mem tclass|cpp/ranges/elements_view/iterator|迭代器类型}}
{{dsc expos mem tclass|cpp/ranges/elements_view/sentinel|哨位类型}} 
{{dsc end}}

===辅助模板===
{{ddcl|since=c++20|1=
template&lt;class T, std::size_t N&gt;
constexpr bool enable_borrowed_range&lt;std::ranges::elements_view&lt;T, N&gt;&gt; =
    ranges::enable_borrowed_range&lt;T&gt;; 
}}

{{lc|ranges::enable_borrowed_range}} 的此特化使得 {{tt|elements_view}} 在底层视图满足 {{lconcept|borrowed_range}} 时满足它。

===示例===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;ranges&gt;
#include &lt;string&gt;
#include &lt;tuple&gt;
#include &lt;vector&gt;

int main()
{
    const std::vector&lt;std::tuple&lt;int, char, std::string&gt;&gt; vt
    {
        {1, 'A', "α"},
        {2, 'B', "β"},
        {3, 'C', "γ"},
        {4, 'D', "δ"},
        {5, 'E', "ε"},
    };
    
    for (int const e : std::views::elements&lt;0&gt;(vt))
        std::cout &lt;&lt; e &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
    
    for (char const e : vt {{!}} std::views::elements&lt;1&gt;)
        std::cout &lt;&lt; e &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
    
    for (std::string const&amp; e : std::views::elements&lt;2&gt;(vt))
        std::cout &lt;&lt; e &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
|output=
1 2 3 4 5 
A B C D E 
α β γ δ ε
}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3494|std=C++20|before={{tt|elements_view}} 始终不是 {{tt|borrowed_range}}|after=在底层视图是 {{tt|borrowed_range}} 时它是}}
{{dr list item|wg=lwg|dr=3502|std=C++20|before=能从 {{tt|elements_view}} 获得悬垂引用|after=禁止这种用法}}
{{dr list end}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/ranges/dsc keys_view}}
{{dsc inc|cpp/ranges/dsc values_view}}
{{dsc inc|cpp/ranges/dsc zip_view}}
{{dsc inc|cpp/ranges/dsc transform_view}}
{{dsc inc|cpp/numeric/valarray/dsc slice}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}