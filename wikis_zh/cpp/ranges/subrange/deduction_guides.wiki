{{title|{{tt|std::ranges::subrange}} 的推导指引}}
{{cpp/ranges/subrange/navbar}}
{{dcl begin}}
{{dcl header|ranges}}
{{dcl|num=1|since=c++20|
template&lt; std::input_or_output_iterator I, std::sentinel_for&lt;I&gt; S &gt;
subrange(I, S) -&gt; subrange&lt;I, S&gt;;
}}
{{dcl|num=2|since=c++20|
template&lt; std::input_or_output_iterator I, std::sentinel_for&lt;I&gt; S &gt;
subrange(I, S, /*make-unsigned-like-t*/&lt;std::iter_difference_t&lt;I&gt;&gt;) -&gt;
    subrange&lt;I, S, ranges::subrange_kind::sized&gt;;
}}
{{dcl|num=3|since=c++20|
template&lt; ranges::borrowed_range&lt;R&gt; &gt;
subrange(R&amp;&amp;) -&gt;
    subrange&lt;ranges::iterator_t&lt;R&gt;, ranges::sentinel_t&lt;R&gt;,
             (ranges::sized_range&lt;R&gt; {{!!}}
              std::sized_sentinel_for&lt;ranges::sentinel_t&lt;R&gt;,
              ranges::iterator_t&lt;R&gt;&gt;) ?
             ranges::subrange_kind::sized : ranges::subrange_kind::unsized&gt;;
}}
{{dcl|num=4|since=c++20|
template&lt; ranges::borrowed_range&lt;R&gt; &gt;
subrange(R&amp;&amp;, /*make-unsigned-like-t*/&lt;ranges::range_difference_t&lt;R&gt;&gt;) -&gt;
    subrange&lt;ranges::iterator_t&lt;R&gt;, ranges::sentinel_t&lt;R&gt;,
             ranges::subrange_kind::sized&gt;;
}}
{{dcl end}}

为 {{lc|std::ranges::subrange}} 提供这些[[cpp/language/class template argument deduction|推导指引]]。

@1@ 从迭代器与哨位的类型推导模板实参。如果 {{c|std::sized_sentinel_for&lt;S, I&gt;}} 得到满足（如默认模板实参所确定），那么 {{tt|subrange}} 有大小。

@2@ 在指定范围大小时从迭代器与哨位的类型推导模板实参。{{tt|subrange}} 始终为有大小。

@3@ 从范围的类型推导模板实参。如果能从范围或其迭代器与哨位获得大小，那么 {{tt|subrange}} 有大小。

@4@ 在指定范围大小时从范围的类型推导模板实参。{{tt|subrange}} 始终为有大小。

{{c/core|/* make-unsigned-like-t */}} 的定义见 {{lsi|cpp/ranges#make-unsigned-like-t}}{{sep}}。

===注解===
在构造 {{tt|subrange}} 对象时，
* 对于 {{v|1,2}}，若迭代器-哨位对不代表合法范围则行为未定义，
* 对于 {{v|2,4}}，若给定的大小不等于范围大小则行为未定义。

===示例===
{{example}}

===缺陷报告===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3404|std=C++20|before=提供了无意义的来自对偶式类型的推导指引|after=已移除}}
{{dr list end}}

{{langlinks|en|es|ja|ru}}