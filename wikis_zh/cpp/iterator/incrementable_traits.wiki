{{cpp/title|incrementable_traits}}
{{cpp/iterator/navbar}}
{{dcl begin}}
{{dcl header|iterator}}
{{dcl|num=1|since=c++20|
template&lt; class I &gt;
struct incrementable_traits {};
}}
{{dcl|num=2|since=c++20|
template&lt; class T &gt;
    requires std::is_object_v&lt;T&gt;
struct incrementable_traits&lt;T*&gt;;
}}
{{dcl|num=3|since=c++20|
template&lt; class T &gt;
struct incrementable_traits&lt;const T&gt;
    : incrementable_traits&lt;T&gt; {};
}}
{{dcl|num=4|since=c++20|
template&lt; class T &gt;
    requires requires { typename T::difference_type; }
struct incrementable_traits&lt;T&gt;;
}}
{{dcl|num=5|since=c++20|
template&lt; class T &gt;
    requires (!requires { typename T::difference_type; }) &amp;&amp;
             requires(const T&amp; a, const T&amp; b) { { a - b } -&gt; std::integral; }
struct incrementable_traits&lt;T&gt;;
}}
{{dcl end}}

计算类型 {{tt|I}} 所关联的差类型，如果存在。程序可对{{ls|cpp/language/type#由程序定义的类型}}特化 {{tt|incrementable_traits}}。

@1@ 主模板是空结构体。

@2@ 对指针的特化。
@@ 提供的成员类型 {{tt|difference_type}} 是 {{lc|std::ptrdiff_t}}。

@3@ 对 const 限定类型的特化。

@4@ 对定义了公开可访问成员类型 {{tt|difference_type}} 的类型的特化。
@@ 提供的成员类型 {{tt|difference_type}} 是 {{tt|T::difference_type}}。

@5@ 对未定义公开可访问成员类型 {{tt|difference_type}} 但支持减法的类型的特化。
@@ 提供的成员类型 {{tt|difference_type}} 是 {{c|std::make_signed_t&lt;decltype(std::declval&lt;T&gt;() - std::declval&lt;T&gt;())&gt;}}。隐式表达式变种规则（见后述）应用于表达式 {{c|a - b}}。

{{cpp/concepts/implicit expression variations}}

===示例===
{{example}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/iterator/dsc weakly_incrementable}}
{{dsc inc|cpp/iterator/dsc iter_t}}
{{dsc inc|cpp/iterator/dsc iterator_traits}}
{{dsc end}}

{{langlinks|de|en|es|ja|ru}}