{{title|1=operator-&lt;small&gt;(std::counted_iterator)&lt;/small&gt;}}
{{cpp/iterator/counted_iterator/navbar}}
{{ddcl|since=c++20|
template&lt; std::common_with&lt;I&gt; I2 &gt;
    friend constexpr std::iter_difference_t&lt;I2&gt; operator-(
        const counted_iterator&amp; x, const counted_iterator&lt;I2&gt;&amp; y );
}}

计算两个迭代器适配器间的距离。

若 {{c|x}} 与 {{c|y}} 不指向同一序列的元素则行为未定义。即必须存在某个 {{c|n}} 使得 {{c|1=std::next(x.base(), x.count() + n)}} 与 {{c|std::next(y.base(), y.count() + n)}} 指代同一元素。

{{cpp/hidden friend|std::counted_iterator&amp;lt;I&gt;|tmpl=yes}}

===参数===
{{par begin}}
{{par|x, y|要计算差的迭代器适配器}}
{{par end}}

===返回值===
{{c|y.count() - x.count()}}

===注解===
由于''长度''向下计数，而非向上，{{c|1=operator-}} 的实参在底层表达式中的顺序是逆转的，即 {{c|y}} 为 ''lhs'' 而 {{c|x}} 为 ''rhs''。

===示例===
{{example
|code=
#include &lt;initializer_list&gt;
#include &lt;iterator&gt;

int main()
{
    static constexpr auto v = {1, 2, 3, 4, 5, 6};
    constexpr std::counted_iterator&lt;std::initializer_list&lt;int&gt;::iterator&gt;
        it1{v.begin(), 5},
        it2{it1 + 3},
        it3{v.begin(), 2};
    
    static_assert(it1 - it2 == -3);
    static_assert(it2 - it1 == +3);
//  static_assert(it1 - it3 == -3); // UB：operator- 的操作数不指代同一序列的元素
}
}}

===参阅===
{{dsc begin}}
{{dsc inc|cpp/iterator/adaptor/dsc operator_arith|counted_iterator}}
{{dsc inc|cpp/iterator/adaptor/dsc operator+|counted_iterator}}
{{dsc inc|cpp/iterator/counted_iterator/dsc operator-2}}
{{dsc end}}

{{langlinks|de|en|es|fr|it|ja|pt|ru}}