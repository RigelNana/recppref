---
// src/components/DefinitionItem.astro
import CodeSpan from './CodeSpan.astro';
import Mark from './Mark.astro';

interface Props {
  num?: string;
  since?: string;
  constexpr?: string;
  exposition_only?: string;
  notes?: string;
}

const { 
  num, 
  since,
  constexpr,
  exposition_only,
  notes
} = Astro.props;
---
<div class="definition-item">
  {num && <span class="item-num">({num})</span>}
  <div class="item-content">
    <CodeSpan multiline highlighted={false}>
      <slot slot="value" />
    </CodeSpan>
    <div class="item-marks">
      {since && <Mark status="since" version={since} />}
      {constexpr === 'yes' && <Mark status="constexpr" />}
      {exposition_only === 'yes' && <Mark status="exposition-only" />}
    </div>
    {notes && (
      <div class="item-notes">
        <CodeSpan inline highlighted={false}>{notes}</CodeSpan>
      </div>
    )}
  </div>
</div>
<style>
  .definition-item {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    border-bottom: 1px solid var(--vp-c-divider);
  }

  .definition-item:last-child {
    border-bottom: none;
  }

  .item-num {
    font-size: 0.9rem;
    color: var(--vp-c-text-3);
    align-self: flex-start;
  }

  .item-content {
    flex-grow: 1;
  }

  .item-marks {
    margin-top: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
  }

  .item-notes {
    font-size: 0.9rem;
    color: var(--vp-c-text-2);
    margin-top: 0.5rem;
  }
</style>
