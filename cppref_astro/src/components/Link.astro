---
// src/components/Link.astro
import CodeSpan from './CodeSpan.astro';

interface Props {
  link_type?: 'lt' | 'lts' | 'lc' | 'ltt' | 'cwg' | 'lwg';
  monospace?: boolean;
}

const { link_type, monospace = false } = Astro.props;

// This is a placeholder for the actual link resolution logic.
// In a real project, this would map the wiki link to an actual URL path.
function resolveLink(type: string | undefined, value: string) {
  return `/cpp/${value.replace(/\s/g, '_')}`;
}
---

<a 
  href={resolveLink(link_type, (await Astro.slots.render('default')) || (await Astro.slots.render('link')) || '')} 
>
  {monospace ? (
    <CodeSpan inline><slot name="text" /><slot name="default" /><slot name="symbol" /><slot name="value" /></CodeSpan>
  ) : (
    <slot name="text" /><slot name="default" /><slot name="symbol" /><slot name="value" />
  )}
</a>
<style>
  a {
    text-decoration: underline;
    text-decoration-color: var(--vp-c-brand-3);
    transition: color 0.25s;
  }

  a:hover {
    text-decoration-color: var(--vp-c-brand-2);
  }
</style>
