{{cpp/title|wbuffer_convert}}
{{cpp/locale/wbuffer_convert/navbar}}
{{ddcl|header=locale|since=c++11|deprecated=c++17|removed=c++26|1=
template&lt;
    class Codecvt,
    class Elem = wchar_t,
    class Tr = std::char_traits&lt;Elem&gt;
&gt; class wbuffer_convert : public std::basic_streambuf&lt;Elem, Tr&gt;
}}

{{tt|std::wbuffer_convert}} is a wrapper over stream buffer of type {{c/core|std::basic_streambuf&lt;char&gt;}} which gives it the appearance of {{c/core|std::basic_streambuf&lt;Elem&gt;}}. All I/O performed through {{tt|std::wbuffer_convert}} undergoes character conversion as defined by the facet {{tt|Codecvt}}. {{tt|std::wbuffer_convert}} assumes ownership of the conversion facet, and cannot use a facet managed by a locale.

The standard facets suitable for use with {{tt|std::wbuffer_convert}} are {{lc|std::codecvt_utf8}} for UTF-8/UCS-2 and UTF-8/UCS-4 conversions and {{lc|std::codecvt_utf8_utf16}} for UTF-8/UTF-16 conversions.

This class template makes the implicit character conversion functionality of {{lc|std::basic_filebuf}} available for any {{lc|std::basic_streambuf}}.

===Member types===
{{dsc begin}}
{{dsc hitem|Type|Definition}}
{{dsc|{{tt|state_type}}|{{c/core|Codecvt::state_type}}}}
{{dsc end}}

===Data members===
{{dsc begin}}
{{dsc hitem|Member|Description}}
{{dsc expos mem obj|spec={{c/core|std::streambuf*}}|bufptr|id=bufptr|a pointer to the underlying byte stream buffer}}
{{dsc expos mem obj|spec={{c/core|Codecvt*}}|cvtptr|id=cvtptr|a pointer to the allocated conversion object}}
{{dsc expos mem obj|spec={{tt|state_type}}|cvtstate|id=cvtstate|the conversion state object}}
{{dsc end}}

===Member functions===
{{dsc begin}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc wbuffer_convert}}
{{dsc mem fun|nolink=true|operator{{=}}|the copy assignment operator is deleted}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc ~wbuffer_convert}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc rdbuf}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc state}}
{{dsc end}}

===See also===
{{cpp/locale/unicode string conversions}}
{{dsc begin}}
{{dsc inc|cpp/locale/dsc wstring_convert}}
{{dsc inc|cpp/locale/dsc codecvt_utf8}}
{{dsc inc|cpp/locale/dsc codecvt_utf8_utf16}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}