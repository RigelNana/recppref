{{cpp/locale/codecvt/title|max_length, do_max_length}}
{{cpp/locale/codecvt/navbar}}
{{dcl begin}}
{{dcl header|locale}}
{{dcl rev multi|num=1|until1=c++11|dcl1=
public:
int max_length() const throw();
|dcl2=
public:
int max_length() const noexcept;
}}
{{dcl rev multi|num=2|until1=c++11|dcl1=
protected:
virtual int do_max_length() const throw();
|dcl2=
protected:
virtual int do_max_length() const noexcept;
}}
{{dcl end}}

@1@ Public member function, calls the member function {{tt|do_max_length}} of the most derived class.

@2@ Returns the maximum value that {{c|do_length(state, from, from_end, 1)}} can return for any valid range {{range|from|from_end}} and any valid {{tt|state}}.

===Return value===
The maximum number of {{tt|ExternT}} characters that could be consumed if converted by {{lc|in()}} to produce one {{tt|InternT}} character.

The non-converting specialization {{c|std::codecvt&lt;char, char, std::mbstate_t&gt;}} returns {{c|1}}.

===Notes===
If the encoding is state-dependent ({{c|1=encoding() == -1}}), then more than {{tt|max_length()}} external characters may be consumed to produce one internal character.

===Example===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;

int main()
{
    std::cout &lt;&lt; "In codecvt_utf8, the longest multibyte character is "
              &lt;&lt; std::codecvt_utf8&lt;wchar_t&gt;().max_length() &lt;&lt; " bytes long\n";

    std::cout &lt;&lt; "In header-consuming codecvt_utf8, the longest multibyte character is "
              &lt;&lt; std::codecvt_utf8&lt;wchar_t,
                                   0x10ffff,
                                   std::consume_header&gt;().max_length() &lt;&lt; " bytes long\n";

    std::cout &lt;&lt; "In this system's en_US.utf8, the longest multibyte character is "
              &lt;&lt; std::use_facet&lt;std::codecvt&lt;wchar_t, char, std::mbstate_t&gt;&gt;(
                     std::locale("en_US.utf8")
                 ).max_length() &lt;&lt; " bytes long\n";

    std::cout &lt;&lt; "In this system's zh_CN.gb18030, the longest multibyte character is "
              &lt;&lt; std::use_facet&lt;std::codecvt&lt;wchar_t, char, std::mbstate_t&gt;&gt;(
                     std::locale("zh_CN.gb18030")
                 ).max_length() &lt;&lt; " bytes long\n";
}
|output=
In codecvt_utf8, the longest multibyte character is 4 bytes long
In header-consuming codecvt_utf8, the longest multibyte character is 7 bytes long
In this system's en_US.utf8, the longest multibyte character is 6 bytes long
In this system's zh_CN.gb18030, the longest multibyte character is 4 bytes long
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/string/multibyte/dsc MB_CUR_MAX}}
{{dsc inc|cpp/locale/codecvt/dsc do_encoding}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}