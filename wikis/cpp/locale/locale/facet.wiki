{{cpp/locale/locale/title|facet}}
{{cpp/locale/locale/navbar}}
{{dcl begin}}
{{dcl header|locale}}
{{dcl|1=
class locale::facet;
}}
{{dcl end}}

{{tt|std::locale::facet}} is the base class for facets. It provides a common base class so that locales could store pointers to the facets they implement in a single indexed container, and it abstracts support for facet reference counting.

Whenever a facet is added to a locale, the locale increments the reference count in the facet (through an implementation-specific mechanism). Whenever a locale is destructed or modified, it decrements the reference count in each facet it no longer implements. Whenever a facet's reference count becomes zero, the locale performs {{c|delete static_cast&lt;std::locale::facet*&gt;(f);}} where {{c|f}} is the pointer to the facet.

===Facet class===
A class is a ''facet'' if
* it is [[cpp/language/derived class#Public inheritance|publicly derived]] from another facet, or
* it is a class derived from {{tt|std::locale::facet}} and contains a [[cpp/language/access#Public member access|publicly accessible]] declaration as follows:
{{cc|static ::std::locale::id id;}}

===Member functions===
{{dsc begin}}
{{dsc prot mem ctor|cpp/locale/locale/facet/facet|constructs a new facet with specified reference count}}
{{dsc prot mem fun|nolink=true|operator{{=}}|the copy assignment operator is deleted}}
{{dsc prot mem vdtor|nolink=true|the destructor is protected virtual}}
{{dsc end}}

===Example===
{{example}}

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2694|std=C++98|before=the definition of 'facet' was removed by the resolution of {{lwg|436}}|after=added the definition back}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/locale/locale/dsc id}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}