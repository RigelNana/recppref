{{cpp/locale/wbuffer_convert/title|rdbuf}}
{{cpp/locale/wbuffer_convert/navbar}}
{{dcl begin}}
{{dcl|num=1|
std::streambuf* rdbuf() const;
}}
{{dcl|num=2|
std::streambuf* rdbuf( std::streambuf* bytebuf );
}}
{{dcl end}}

@1@ Returns the pointer to the underlying byte stream.

@2@ Replaces the associated byte stream with {{c|bytebuf}}.

===Return value===
@1@ {{box|{{rlpsi|/#bufptr}}}}

@2@ the previous value of {{rlpsi|/#bufptr}}

===Example===
{{example
|code=
#include &lt;codecvt&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;
#include &lt;sstream&gt;

int main()
{
    // Convert UTF-8 to UCS4
    std::stringbuf utf8buf("z\u00df\u6c34\U0001d10b");
                       // or "\x7a\xc3\x9f\xe6\xb0\xb4\xf0\x9d\x84\x8b"
                       // or u8"z√üÊ∞¥ùÑã"
    std::wbuffer_convert&lt;std::codecvt_utf8&lt;wchar_t&gt;&gt; conv(&amp;utf8buf);
    std::wistream ucsbuf(&amp;conv);
    std::cout &lt;&lt; "Reading from a UTF-8 stringbuf via wbuffer_convert: "
              &lt;&lt; std::hex &lt;&lt; std::showbase;
    for (wchar_t c; ucsbuf.get(c);)
        std::cout &lt;&lt; static_cast&lt;std::wint_t&gt;(c) &lt;&lt; ' ';
    
    // Reuse the same wbuffer_convert to handle UCS4 to UTF-8 output
    conv.rdbuf(std::cout.rdbuf());
    std::wostream out(&amp;conv);
    std::cout &lt;&lt; "\nSending UCS4 data to std::cout via wbuffer_convert: ";
    out &lt;&lt; L"z\u00df\u6c34\U0001d10b\n";
}
|output=
Reading from a UTF-8 stringbuf via wbuffer_convert: 0x7a 0xdf 0x6c34 0x1d10b 
Sending UCS4 data to std::cout via wbuffer_convert: z√üÊ∞¥ùÑã
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/locale/wbuffer_convert/dsc wbuffer_convert}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}