{{cpp/title|wstring_convert}}
{{cpp/locale/wstring_convert/navbar}}
{{ddcl|header=locale|since=c++11|deprecated=c++17|removed=c++26|1=
template&lt;
    class Codecvt,
    class Elem = wchar_t,
    class Wide_alloc = std::allocator&lt;Elem&gt;,
    class Byte_alloc = std::allocator&lt;char&gt;
&gt; class wstring_convert;
}}

Class template {{tt|std::wstring_convert}} performs conversions between byte string {{lc|std::string}} and wide string {{c/core|std::basic_string&lt;Elem&gt;}}, using an individual code conversion facet {{tt|Codecvt}}. {{tt|std::wstring_convert}} assumes ownership of the conversion facet, and cannot use a facet managed by a locale.

The standard facets suitable for use with {{tt|std::wstring_convert}} are {{lc|std::codecvt_utf8}} for UTF-8/UCS-2 and UTF-8/UCS-4 conversions and {{lc|std::codecvt_utf8_utf16}} for UTF-8/UTF-16 conversions.

===Nested types===
{{dsc begin}}
{{dsc hitem|Type|Definition}}
{{dsc|{{tt|byte_string}}|{{c/core|std::basic_string&lt;char, std::char_traits&lt;char&gt;, Byte_alloc&gt;}}}}
{{dsc|{{tt|wide_string}}|{{c/core|std::basic_string&lt;Elem, std::char_traits&lt;Elem&gt;, Wide_alloc&gt;}}}}
{{dsc|{{tt|state_type}}|{{c/core|typename Codecvt::state_type}}}}
{{dsc|{{tt|int_type}}|{{c/core|typename wide_string::traits_type::int_type}}}}
{{dsc end}}

===Data members===
{{dsc begin}}
{{dsc hitem|Member|Description}}
{{dsc expos mem obj|spec={{tt|byte_string}}|byte_err_string|id=byte_err_string|the byte string to display on errors}}
{{dsc expos mem obj|spec={{tt|wide_string}}|wide_err_string|id=wide_err_string|the wide string to display on errors}}
{{dsc expos mem obj|spec={{c/core|Codecvt*}}|cvtptr|id=cvtptr|a pointer to the allocated conversion object}}
{{dsc expos mem obj|spec={{tt|state_type}}|cvtstate|id=cvtstate|the conversion state object}}
{{dsc expos mem obj|spec={{c/core|std::size_t}}|cvtcount|id=cvtcount|the conversion count}}
{{dsc end}}

===Member functions===
{{dsc begin}}
{{dsc inc|cpp/locale/wstring_convert/dsc wstring_convert}}
{{dsc mem fun|nolink=true|operator{{=}}|the copy assignment operator is deleted}}
{{dsc inc|cpp/locale/wstring_convert/dsc ~wstring_convert}}
{{dsc inc|cpp/locale/wstring_convert/dsc from_bytes}}
{{dsc inc|cpp/locale/wstring_convert/dsc to_bytes}}
{{dsc inc|cpp/locale/wstring_convert/dsc converted}}
{{dsc inc|cpp/locale/wstring_convert/dsc state}}
{{dsc end}}

===See also===
{{cpp/locale/unicode string conversions}}
{{dsc begin}}
{{dsc inc|cpp/locale/dsc wbuffer_convert}}
{{dsc inc|cpp/locale/dsc codecvt_utf8}}
{{dsc inc|cpp/locale/dsc codecvt_utf8_utf16}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}