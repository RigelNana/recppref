{{cpp/text/text_encoding/title|environment}}
{{cpp/text/text_encoding/navbar}}
{{ddcl|since=c++26|
static text_encoding environment();
}}

Constructs a new {{tt|text_encoding}} object representing the environment encoding that refers to the implementation-defined character encoding scheme of the execution environment. The execution environment at runtime is the [[cpp/language/main_function|environment]] in which the program is run.

The environment encoding in the execution environment is distinct from the encoding of [[cpp/language/charset#Execution character set|execution character set]] which is locale-specific. In other words, the environment encoding remains locale-independent, that is, the value returned by {{c|environment()}} is not affected by calls to the functions (e.g. {{lc|std::setlocale}} and POSIX function [https://pubs.opengroup.org/onlinepubs/9699919799/functions/setenv.html {{tt|setenv()}}]) which can modify the environment.

This function is deleted unless the {{c|CHAR_BIT}} is {{c|8}}.

===Parameters===
(none)

===Return value===
The object holding the representation of the environment character encoding.

===Notes===
The environment encoding may differ from the global locale-associated encoding that is accessible via {{c|std::locale().encoding()}}.

On Windows platforms, the environment encoding can be determined by [https://learn.microsoft.com/en-us/windows/win32/api/winnls/nf-winnls-getacp {{tt|GetACP()}}] and then mapped to MIBenum values.

On POSIX platforms, the environment encoding is associated with the POSIX locale {{c|""}} which can be implemented to correspond to a value of [https://pubs.opengroup.org/onlinepubs/9699919799/functions/nl_langinfo.html {{tt|nl_langinfo_l()}}] when the environment locale {{c|""}} is set before the [[cpp/locale/locale/global|global C++ locale]] is set to {{c|"C"}} at program startup.

===Example===
{{example}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/locale/locale/dsc encoding}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}