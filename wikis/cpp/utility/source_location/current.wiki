{{cpp/utility/source_location/title|current}}
{{cpp/utility/source_location/navbar}}
{{dcl begin}}
{{dcl | since=c++20 |
static consteval source_location current() noexcept;
}}
{{dcl end}}

Constructs a new {{tt|source_location}} object corresponding to the location of the call site.

===Parameters===
(none)

=== Return value ===
If {{tt|current()}} is invoked directly (via a function call that names {{tt|current()}}),  it returns a {{tt|source_location}} object with implementation-defined values representing the location of the call. The values should be affected by the [[cpp/preprocessor/line|{{tt|#line}} preprocessor directive]] in the same manner as the predefined macros {{c|__LINE__}} and {{c|__FILE__}}.

If {{tt|current()}} is used in a [[cpp/language/data_members#Member initialization|default member initializer]], the return value corresponds to the location of the constructor definition or [[cpp/language/aggregate_initialization|aggregate initialization]] that initializes the data member.

If {{tt|current()}} is used in a default argument, the return value corresponds to the location of the call to {{tt|current()}} at the call site.

If {{tt|current()}} is invoked in any other manner, the return value is unspecified.

=== Notes ===
{{tt|std::source_location::current}} typically requires compiler's built-in implementation.

===Example===
{{example|code=
#include &lt;source_location&gt;
#include &lt;iostream&gt;

struct src_rec {
    std::source_location srcl = std::source_location::current();
    int dummy = 0;

    src_rec(std::source_location loc = std::source_location::current()) :
        srcl(loc)    // values of member refer to the location of the calling function
    {}
    src_rec(int i) : // values of member refer to this location
        dummy(i)
    {}
    src_rec(double)  // values of member refer to this location
    {}
};

std::source_location src_clone(std::source_location a = std::source_location::current())
{
    return a;
}

std::source_location src_make()
{
    std::source_location b = std::source_location::current();
    return b;
}

int main()
{
    src_rec srec0;
    src_rec srec1(0);
    src_rec srec2(0.0);
    auto s0 = std::source_location::current();
    auto s1 = src_clone(s0);
    auto s2 = src_clone();
    auto s3 = src_make();

    std::cout
        &lt;&lt; srec0.srcl.line() &lt;&lt; ' ' &lt;&lt; srec0.srcl.function_name() &lt;&lt; '\n'
        &lt;&lt; srec1.srcl.line() &lt;&lt; ' ' &lt;&lt; srec1.srcl.function_name() &lt;&lt; '\n'
        &lt;&lt; srec2.srcl.line() &lt;&lt; ' ' &lt;&lt; srec2.srcl.function_name() &lt;&lt; '\n'
        &lt;&lt; s0.line() &lt;&lt; ' ' &lt;&lt; s0.function_name() &lt;&lt; '\n'
        &lt;&lt; s1.line() &lt;&lt; ' ' &lt;&lt; s1.function_name() &lt;&lt; '\n'
        &lt;&lt; s2.line() &lt;&lt; ' ' &lt;&lt; s2.function_name() &lt;&lt; '\n'
        &lt;&lt; s3.line() &lt;&lt; ' ' &lt;&lt; s3.function_name() &lt;&lt; '\n';
}
| p=true
| output= &lt;!-- https://godbolt.org/z/9no8nb --&gt;
31 int main()
12 src_rec::src_rec(int)
15 src_rec::src_rec(double)
34 int main()
34 int main()
36 int main()
25 std::source_location src_make()
}}

===See also===
{{dsc begin}}
{{dsc inc | cpp/utility/source_location/dsc constructor}}
{{dsc inc | cpp/utility/basic_stacktrace/dsc current}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}