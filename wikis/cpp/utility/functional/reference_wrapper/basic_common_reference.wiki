{{cpp/title|basic_common_reference{{small|&lt;std::reference_wrapper&gt;}}}}
{{cpp/utility/functional/reference_wrapper/navbar}}
{{dcl begin}}
{{dcl header|functional}}
{{dcla|num=1|since=c++23|1=
template&lt; class R, class T,
          template&lt;class&gt; RQual, template&lt;class&gt; TQual &gt;
    requires (/*ref-wrap-common-reference-exists-with*/&lt;R, T, RQual&lt;R&gt;, TQual&lt;T&gt;&gt; &amp;&amp;
              !/*ref-wrap-common-reference-exists-with*/&lt;T, R, TQual&lt;T&gt;, RQual&lt;R&gt;&gt;)
struct basic_common_reference&lt;R, T, RQual, TQual&gt;;
}}
{{dcl|num=2|since=c++23|1=
template&lt; class T, class R,
          template&lt;class&gt; TQual, template&lt;class&gt; RQual &gt;
    requires (/*ref-wrap-common-reference-exists-with*/&lt;R, T, RQual&lt;R&gt;, TQual&lt;T&gt;&gt; &amp;&amp;
              !/*ref-wrap-common-reference-exists-with*/&lt;T, R, TQual&lt;T&gt;, RQual&lt;R&gt;&gt;)
struct basic_common_reference&lt;T, R, TQual, RQual&gt;;
}}
{{dcl h|Helper concepts}}
{{dcl|num=3|notes={{mark expos}}|1=
template&lt; class R, class T, class RQ, class TQ &gt;
concept /*ref-wrap-common-reference-exists-with*/ =
    /*is-ref-wrapper*/&lt;R&gt; &amp;&amp;
    requires { typename std::common_reference_t&lt;typename R::type&amp;, TQ&gt;; } &amp;&amp;
    std::convertible&lt;RQ, std::common_reference_t&lt;typename R::type&amp;, TQ&gt;&gt;;
}}
{{dcl end}}

The common reference type of a {{tt|reference_wrapper}} (denoted as {{c|R}}) and a type {{c|T}}, correspondingly applied with cv and reference qualifiers (denoted as {{c|RQ}} and {{c|TQ}} respectively), is equivalent to a common reference type of underlying type of {{c|R}} applied with lvalue reference and the {{c|TQ}}.

The common reference type is defined only if {{c|R}} is the only {{tt|reference_wrapper}}, the underlying type of {{c|R}} applied with lvalue reference and the {{c|TQ}} have a common reference type to which {{c|RQ}} must be convertible.

The exposition-only constant {{c|/*is-ref-wrapper*/&lt;R&gt;}} is {{c|true}} if and only if {{c|R}} is a specialization of {{lc|std::reference_wrapper}}.

===Member types===
{{dsc begin}}
{{dsc hitem|Member type|Definition}}
{{dsc|{{tt|type}}|{{c/core|std::common_reference_t&lt;typename R::type&amp;, TQual&lt;T&gt;&gt;}} {{vl|1,2}}}}
{{dsc end}}

===Notes===
{{feature test macro|__cpp_lib_common_reference_wrapper|std=C++23|value=202302L|Make {{lc|std::common_reference_t}} of {{lc|std::reference_wrapper}} a reference type}}

===Example===
{{example
|code=
#include &lt;concepts&gt;
#include &lt;functional&gt;

static_assert(std::same_as&lt;std::common_reference_t&lt;int&amp;,
                                                   std::reference_wrapper&lt;int&gt;&gt;,
                                                   int&amp;&gt;);
static_assert(std::same_as&lt;std::common_reference_t&lt;std::reference_wrapper&lt;int&gt;&amp;,
                                                   int&amp;&gt;,
                                                   int&amp;&gt;);
static_assert(std::same_as&lt;std::common_reference_t&lt;int&amp;,
                                                   const std::reference_wrapper&lt;int&gt;&amp;&gt;,
                                                   int&amp;&gt;);
int main() {}
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/types/dsc common_reference}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}