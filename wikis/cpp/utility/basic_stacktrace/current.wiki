{{cpp/utility/basic_stacktrace/title|current}}
{{cpp/utility/basic_stacktrace/navbar}}
{{dcl begin}}
{{dcl | num=1 | since=c++23 | 1=
static basic_stacktrace current( const allocator_type&amp; alloc =
                                     allocator_type() ) noexcept;
}}
{{dcl | num=2 | since=c++23 | 1=
static basic_stacktrace current( size_type skip, const allocator_type&amp; alloc =
                                     allocator_type() ) noexcept;
}}
{{dcl | num=3 | since=c++23 | 1=
static basic_stacktrace current( size_type skip, size_type max_depth,
                                 const allocator_type&amp; alloc =
                                     allocator_type() ) noexcept;
}}
{{dcl end}}

Let {{c|s[i]}} (0 â‰¤ {{tt|''i''}} &lt; {{tt|''n''}}) denote the ({{tt|''i''+1}})-th stacktrace entry in the stacktrace of the current evaluation in the current thread of execution, where {{tt|''n''}} is the count of the stacktrace entries in the stackentry.

@1@ Attempts to create a {{tt|basic_stacktrace}} consisting of {{c|s[0]}}, {{c|s[1]}}, ..., {{c|s[n - 1]}}.

@2@ Attempts to create a {{tt|basic_stacktrace}} consisting of {{c|s[m]}}, {{c|s[m + 1]}}, ..., {{c|s[n - 1]}}, where {{tt|''m''}} is {{tt|min(skip, ''n'')}}.

@3@ Attempts to create a {{tt|basic_stacktrace}} consisting of {{c|s[m]}}, {{c|s[m + 1]}}, ..., {{c|s[o - 1]}}, where {{tt|''m''}} is {{tt|min(skip, ''n'')}} and {{tt|''o''}} is {{tt|min(skip + max_depth, ''n'')}}. The behavior is undefined if the {{c|skip + max_depth &lt; skip}} (i.e. the mathematical result of {{c|skip + max_depth}} overflows).

In all cases, {{tt|alloc}} is stored into the created {{tt|basic_stacktrace}} and used to allocate the storage for stacktrace entries.

===Parameters===
{{par begin}}
{{par | alloc | allocator to use for all memory allocations of the constructed {{tt|basic_stacktrace}} }}
{{par | skip | the number of stacktrace entries to skip}}
{{par | max_depth | the maximum depth of the stacktrace entries}}
{{par end}}

===Return value===
If the allocation succeeds, the {{tt|basic_stacktrace}} described above.

Otherwise, an empty {{tt|basic_stacktrace}}.

===Example===
{{example}}

===See also===
{{dsc begin}}
{{dsc inc | cpp/utility/basic_stacktrace/dsc constructor}}
{{dsc inc | cpp/utility/source_location/dsc current}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}