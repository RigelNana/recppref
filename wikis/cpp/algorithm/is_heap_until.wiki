{{cpp/title|is_heap_until}}
{{cpp/algorithm/navbar}}
{{dcl begin}}
{{dcl header|algorithm}}
{{dcl|num=1|since=c++11|notes={{mark constexpr since c++20}}|
template&lt; class RandomIt &gt;
RandomIt is_heap_until( RandomIt first, RandomIt last );
}}
{{dcl|num=2|since=c++17|
template&lt; class ExecutionPolicy, class RandomIt &gt;
RandomIt is_heap_until( ExecutionPolicy&amp;&amp; policy,
                        RandomIt first, RandomIt last );
}}
{{dcl|num=3|since=c++11|notes={{mark constexpr since c++20}}|
template&lt; class RandomIt, class Compare &gt;
RandomIt is_heap_until( RandomIt first, RandomIt last, Compare comp );
}}
{{dcl|num=4|since=c++17|
template&lt; class ExecutionPolicy, class RandomIt, class Compare &gt;
RandomIt is_heap_until( ExecutionPolicy&amp;&amp; policy,
                        RandomIt first, RandomIt last, Compare comp );
}}
{{dcl end}}

Examines the range {{range|first|last}} and finds the largest range beginning at {{c|first}} which is a {{rlp|/#Heap operations|heap}}.

@1@ The heap property to be checked is with respect to {{rev inl|until=c++20|{{c/core|operator&lt;}}}}{{rev inl|since=c++20|{{c|std::less{}&lt;!----&gt;}}}}.

@3@ The heap property to be checked is with respect to {{c|comp}}.

@2,4@ Same as {{v|1,3}}, but executed according to {{c|policy}}.
@@ {{cpp/algorithm/parallel overload precondition|plural=yes}}

===Parameters===
{{par begin}}
{{par|first, last|the range of elements to examine}}
{{par exec pol}}
{{par cmp|comp|p1=RandomIt}}
{{par hreq}}
{{par req named|RandomIt|RandomAccessIterator}}
{{par req named|Compare|Compare}}
{{par end}}

===Return value===
The last iterator {{c|it}} for which range {{range|first|it}} is a heap.

===Complexity===
Given {{mathjax-or|\(\scriptsize N\)|N}} as {{c|std::distance(first, last)}}:

@1,2@ {{mathjax-or|\(\scriptsize O(N)\)|O(N)}} comparisons using {{rev inl|until=c++20|{{c/core|operator&lt;}}}}{{rev inl|since=c++20|{{c|std::less{}&lt;!----&gt;}}}}.

@3,4@ {{mathjax-or|\(\scriptsize O(N)\)|O(N)}} applications of the comparison function {{c|comp}}.

===Exceptions===
{{cpp/algorithm/parallel exceptions reporting behavior|singular=no}}
===Example===
{{example
|code=
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;

int main()
{
    std::vector&lt;int&gt; v{3, 1, 4, 1, 5, 9};
    
    std::make_heap(v.begin(), v.end());
    
    // probably mess up the heap
    v.push_back(2);
    v.push_back(6);
    
    auto heap_end = std::is_heap_until(v.begin(), v.end());
    
    std::cout &lt;&lt; "all of v:  ";
    for (const auto&amp; i : v)
        std::cout &lt;&lt; i &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
    
    std::cout &lt;&lt; "only heap: ";
    for (auto i = v.begin(); i != heap_end; ++i)
        std::cout &lt;&lt; *i &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}
|output=
all of v:  9 5 4 1 1 3 2 6
only heap: 9 5 4 1 1 3 2
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/algorithm/dsc is_heap}}
{{dsc inc|cpp/algorithm/dsc make_heap}}
{{dsc inc|cpp/algorithm/dsc push_heap}}
{{dsc inc|cpp/algorithm/dsc pop_heap}}
{{dsc inc|cpp/algorithm/dsc sort_heap}}
{{dsc inc|cpp/algorithm/ranges/dsc is_heap_until}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}