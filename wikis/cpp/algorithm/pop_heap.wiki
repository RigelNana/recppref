{{cpp/title|pop_heap}}
{{cpp/algorithm/navbar}}
{{dcl begin}}
{{dcl header|algorithm}}
{{dcl|num=1|notes={{mark constexpr since c++20}}|
template&lt; class RandomIt &gt;
void pop_heap( RandomIt first, RandomIt last );
}}
{{dcl|num=2|notes={{mark constexpr since c++20}}|
template&lt; class RandomIt, class Compare &gt;
void pop_heap( RandomIt first, RandomIt last, Compare comp );
}}
{{dcl end}}

Swaps the value in the position {{c|first}} and the value in the position {{c|last - 1}} and makes the subrange {{range|first|last - 1}} into a heap. This has the effect of removing the first element from the {{rlp|/#Heap operations|heap}} {{range|first|last}}.

@1@ {{range|first|last}} is a heap with respect to {{rev inl|until=c++20|{{c/core|operator&lt;}}}}{{rev inl|since=c++20|{{c|std::less{}&lt;!----&gt;}}}}.
@2@ {{range|first|last}} is a heap with respect to {{c|comp}}.

If any of the following conditions is satisfied, the behavior is undefined:
* {{range|first|last}} is empty.
* {{range|first|last}} is not a heap with respect to the corresponding comparator.
{{rev begin}}
{{rev|until=c++11|
* The type of {{c|*first}} is not {{named req|Swappable}}.
}}
{{rev|since=c++11|
* {{tt|RandomIt}} is not {{named req|ValueSwappable}}.
* The type of {{c|*first}} is not {{named req|MoveConstructible}}.
* The type of {{c|*first}} is not {{named req|MoveAssignable}}.
}}
{{rev end}}

===Parameters===
{{par begin}}
{{par|first, last|the non-empty heap to modify}}
{{par cmp|comp|p1=RandomIt}}
{{par hreq}}
{{par req named|RandomIt|RandomAccessIterator}}
{{par req named|Compare|Compare}}
{{par end}}

===Complexity===
Given {{mathjax-or|\(\scriptsize N\)|N}} as {{c|std::distance(first, last)}}:
@1@ At most {{mathjax-or|\(\scriptsize 2\log(N)\)|2log(N)}} comparisons using {{rev inl|until=c++20|{{c/core|operator&lt;}}}}{{rev inl|since=c++20|{{c|std::less{}&lt;!----&gt;}}}}.
@2@ At most {{mathjax-or|\(\scriptsize 2\log(N)\)|2log(N)}} applications of the comparison function {{c|comp}}.

===Example===
{{example
|
|code=
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;string_view&gt;
#include &lt;type_traits&gt;
#include &lt;vector&gt;
 
void println(std::string_view rem, const auto&amp; v)
{
    std::cout &lt;&lt; rem;
    if constexpr (std::is_scalar_v&lt;std::decay_t&lt;decltype(v)&gt;&gt;)
        std::cout &lt;&lt; v;
    else
        for (int e : v)
            std::cout &lt;&lt; e &lt;&lt; ' ';
    std::cout &lt;&lt; '\n';
}

int main()
{
    std::vector&lt;int&gt; v{3, 1, 4, 1, 5, 9};
    
    std::make_heap(v.begin(), v.end());
    println("after make_heap: ", v);
    
    std::pop_heap(v.begin(), v.end()); // moves the largest to the end
    println("after pop_heap:  ", v);
    
    int largest = v.back();
    println("largest element: ", largest);
    
    v.pop_back(); // actually removes the largest element
    println("after pop_back:  ", v);
}
|output=
after make_heap: 9 5 4 1 1 3
after pop_heap:  5 3 4 1 1 9
largest element: 9
after pop_back:  5 3 4 1 1
}}

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=1205|std=C++98|before=the behavior was unclear if {{range|first|last}} is empty|after=the behavior is undefined in this case}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/algorithm/dsc push_heap}}
{{dsc inc|cpp/algorithm/dsc is_heap}}
{{dsc inc|cpp/algorithm/dsc is_heap_until}}
{{dsc inc|cpp/algorithm/dsc make_heap}}
{{dsc inc|cpp/algorithm/dsc sort_heap}}
{{dsc inc|cpp/algorithm/ranges/dsc pop_heap}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}