{{cpp/thread/shared_timed_mutex/title|try_lock_shared_for}}
{{cpp/thread/shared_timed_mutex/navbar}}
{{dcl begin}}
{{dcl|since=c++14|
template&lt; class Rep, class Period &gt;
bool try_lock_shared_for( const std::chrono::duration&lt;Rep,Period&gt;&amp; timeout_duration );
}}
{{dcl end}}

Tries to lock the mutex in shared mode. Blocks until specified {{c|timeout_duration}} has elapsed or the shared lock is acquired, whichever comes first. On successful lock acquisition returns {{c|true}}, otherwise returns {{c|false}}. 

If {{c|timeout_duration}} is less or equal {{c|timeout_duration.zero()}}, the function behaves like {{lc|try_lock_shared()}}.

This function may block for longer than {{c|timeout_duration}} due to scheduling or resource contention delays. 

The standard recommends that a steady clock is used to measure the duration. If an implementation uses a system clock instead, the wait time may also be sensitive to clock adjustments.

As with {{lc|try_lock_shared()}}, this function is allowed to fail spuriously and return {{c|false}} even if the mutex was not locked by any other thread at some point during {{c|timeout_duration}}.

Prior {{lc|unlock()}} operation on the same mutex ''synchronizes-with'' (as defined in {{lc|std::memory_order}}) this operation if it returns {{c|true}}.

If {{tt|try_lock_shared_for}} is called by a thread that already owns the {{tt|mutex}} in any mode (shared or exclusive), the behavior is undefined.

===Parameters===
{{par begin}}
{{par|timeout_duration|maximum duration to block for}}
{{par end}}

===Return value===
{{c|true}} if the lock was acquired successfully, otherwise {{c|false}}.

===Exceptions===
Any exception thrown by clock, time_point, or duration during the execution (clocks, time points, and durations provided by the standard library never throw).

===Example===
{{example}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/thread/mutex/dsc try_lock_shared|shared_timed_mutex}}
{{dsc inc|cpp/thread/mutex/dsc try_lock_shared_until|shared_timed_mutex}}
{{dsc inc|cpp/thread/mutex/dsc try_lock_for|shared_timed_mutex}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}