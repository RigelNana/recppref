{{cpp/thread/counting_semaphore/title|try_acquire_for}}
{{cpp/thread/counting_semaphore/navbar}}
{{dcl begin}}
{{dcl|since=c++20|
template&lt; class Rep, class Period &gt;
bool try_acquire_for( const std::chrono::duration&lt;Rep, Period&gt;&amp; rel_time );
}}
{{dcl end}}

Tries to atomically decrement the internal counter by {{c|1}} if it is greater than {{c|0}}; otherwise blocks until it is greater than {{c|0}} and can successfully decrement the internal counter, or the {{c|rel_time}} duration has been exceeded.

===Preconditions===
(none)

===Parameters===
{{par begin}}
{{par|rel_time|the ''minimum'' duration the function must wait for it to fail}}
{{par end}}

===Return value===
{{c|true}} if it decremented the internal counter, otherwise {{c|false}}.

===Exceptions===
May throw {{lc|std::system_error}} or a timeout-related exception.

===Notes===
In practice the function may take longer than {{c|rel_time}} to fail.

===See also===
{{dsc begin}}
{{dsc inc|cpp/thread/counting_semaphore/dsc release}}
{{dsc inc|cpp/thread/counting_semaphore/dsc acquire}}
{{dsc inc|cpp/thread/counting_semaphore/dsc try_acquire}}
{{dsc inc|cpp/thread/counting_semaphore/dsc try_acquire_until}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}