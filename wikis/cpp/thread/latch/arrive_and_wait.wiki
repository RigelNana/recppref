{{cpp/thread/latch/title|arrive_and_wait}}
{{cpp/thread/latch/navbar}}

{{dcl begin}}
{{dcl|since=c++20|1=
void arrive_and_wait( std::ptrdiff_t n = 1 );
}}
{{dcl end}}

Atomically decrements the internal counter by {{c|n}} and (if necessary) blocks the calling 
thread until the counter reaches zero. Equivalent to {{c|count_down(n); wait();}}.

If {{c|n}} is greater than the value of the internal counter or is negative, the behavior is undefined.

===Parameters===
{{par begin}}
{{par|n|the value by which the internal counter is decreased}}
{{par end}}

===Return value===
(none)

===Exceptions===
Throws {{lc|std::system_error}} with an error code allowed for mutex types on error.

{{langlinks|es|ja|ru|zh}}