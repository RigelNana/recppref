{{cpp/title|piecewise_linear_distribution}}
{{cpp/numeric/random/piecewise_linear_distribution/navbar}}
{{ddcl|header=random|since=c++11|1=
template&lt; class RealType = double &gt;
class piecewise_linear_distribution;
}}

{{tt|std::piecewise_linear_distribution}} produces random floating-point numbers, which are distributed according to a linear probability density function within each of the several subintervals {{mathjax-or|\(\small{[b_i, b_{i+1})}\)|[b{{su|b=i}}, b{{su|b=i+1}})}}. The distribution is such that the probability density at each interval boundary is exactly the predefined value {{mathjax-or|\(\small{p_i}\)|p{{su|b=i}}}}.

The probability density for any {{mathjax-or|\(\small{ b_i \le x &lt; b_{i+1} }\)|b{{su|b=i}}≤x&lt;b{{su|b=i+1}}}} is {{mathjax-or|\(\small{p_i\frac{b_{i+1}-x}{b_{i+1}-b_i} + p_{i+1}\frac{x-b_i}{b_{i+1}-b_i} }\)|{{mfrac|p{{su|b=i}}|b{{su|b=i+1}}-x|b{{su|b=i+1}}-b{{su|b=i}}}} + {{mfrac|p{{su|b=i+1}}|x-b{{su|b=i}}|b{{su|b=i+1}}-b{{su|b=i}}}}}}, where probability densities at interval boundaries {{mathjax-or|\(\small{p_k}\)|p{{su|b=k}}}} are calculated as {{mathjax-or|\(\small{w_k/S}\)|w{{su|b=k}}/S}} where {{mathjax-or|\(\small{S}\)|S}} is the sum of all {{mathjax-or|\(\small{\frac{1}{2}(w_k + w_{k+1})(b_{k+1} - b_k)}\)|{{mfrac||1|2}}(w{{su|b=k}}+w{{su|b=k+1}})(b{{su|b=k+1}}−b{{su|b=k}})}}.

The set of interval boundaries {{mathjax-or|\(\small{b_i}\)|b{{su|b=i}}}} and the set of weights at boundaries {{mathjax-or|\(\small{w_i}\)|w{{su|b=i}}}} are the parameters of this distribution.

{{ttt|std::piecewise_linear_distribution}} satisfies all requirements of {{named req|RandomNumberDistribution}}.

===Template parameters===
{{par begin}}
{{cpp/numeric/random/param_list|RealType}}
{{par end}}

===Member types===
{{dsc begin}}
{{dsc hitem|Member type|Definition}}
{{dsc|{{tt|result_type}} {{mark c++11}}|{{co|RealType}}}}
{{cpp/numeric/random/param_type}}
{{dsc end}}

===Member functions===
{{dsc begin}}
{{dsc inc|cpp/numeric/random/distribution/dsc constructor|piecewise_linear_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc reset|piecewise_linear_distribution}}

{{dsc h2|Generation}}
{{dsc inc|cpp/numeric/random/distribution/dsc operator()|piecewise_linear_distribution}}

{{dsc h2|Characteristics}}
{{dsc inc|cpp/numeric/random/piecewise_linear_distribution/dsc params}}
{{dsc inc|cpp/numeric/random/distribution/dsc param|piecewise_linear_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc min|piecewise_linear_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc max|piecewise_linear_distribution}}
{{dsc end}}

===Non-member functions===
{{dsc begin}}
{{dsc inc|cpp/numeric/random/distribution/dsc operator_cmp|piecewise_linear_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc operator_ltltgtgt|piecewise_linear_distribution}}
{{dsc end}}

===Example===
{{example
|code=
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;random&gt;
#include &lt;string&gt;

int main()
{
    std::random_device rd;
    std::mt19937 gen{rd()};
    // increase the probability from 0 to 5
    // remain flat from 5 to 10
    // decrease from 10 to 15 at the same rate
    std::vector&lt;double&gt; i{0, 5, 10, 15};
    std::vector&lt;double&gt; w{0, 1, 1, 0};
    std::piecewise_linear_distribution&lt;&gt; d{i.begin(), i.end(), w.begin()};
 
    std::map&lt;int, int&gt; hist;
    for (int n{}; n &lt; 1e4; ++n)
        ++hist[d(gen)];

    for (auto [x, y] : hist)
        std::cout &lt;&lt; std::setw(2) &lt;&lt; std::setfill('0') &lt;&lt; x
                  &lt;&lt; ' ' &lt;&lt; std::string(y / 100, '*') &lt;&lt; '\n';
}
|p=true
|output=
00 *
01 ***
02 ****
03 ******
04 *********
05 *********
06 *********
07 **********
08 *********
09 **********
10 *********
11 *******
12 ****
13 ***
14 *
}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}