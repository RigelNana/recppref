{{cpp/title|piecewise_constant_distribution}}
{{cpp/numeric/random/piecewise_constant_distribution/navbar}}
{{ddcl|header=random|since=c++11|1=
template&lt; class RealType = double &gt;
class piecewise_constant_distribution;
}}

{{tt|std::piecewise_constant_distribution}} produces random floating-point numbers, which are uniformly distributed within each of the several subintervals {{math|[b{{su|b=i}}, b{{su|b=i+1}})}}, each with its own weight {{math|w{{su|b=i}}}}. The set of interval boundaries and the set of weights are the parameters of this distribution.

The probability density for any {{math|b{{su|b=i}} â‰¤ x &lt;b{{su|b=i+1}}}} is {{math|{{mfrac||w{{su|b=i}}|S (b{{su|b=i+1}} - b{{su|b=i}})}}}}, where {{math|S}} is the sum of all weights.

{{ttt|std::piecewise_constant_distribution}} satisfies all requirements of {{named req|RandomNumberDistribution}}.

===Template parameters===
{{par begin}}
{{cpp/numeric/random/param_list|RealType}}
{{par end}}

===Member types===
{{dsc begin}}
{{dsc hitem|Member type|Definition}}
{{dsc|{{tt|result_type}} {{mark c++11}}|{{co|RealType}}}}
{{cpp/numeric/random/param_type}}
{{dsc end}}

===Member functions===
{{dsc begin}}
{{dsc inc|cpp/numeric/random/distribution/dsc constructor|piecewise_constant_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc reset|piecewise_constant_distribution}}

{{dsc h2|Generation}}
{{dsc inc|cpp/numeric/random/distribution/dsc operator()|piecewise_constant_distribution}}

{{dsc h2|Characteristics}}
{{dsc inc|cpp/numeric/random/piecewise_constant_distribution/dsc params}}

{{dsc inc|cpp/numeric/random/distribution/dsc param|piecewise_constant_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc min|piecewise_constant_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc max|piecewise_constant_distribution}}
{{dsc end}}

===Non-member functions===
{{dsc begin}}
{{dsc inc|cpp/numeric/random/distribution/dsc operator_cmp|piecewise_constant_distribution}}
{{dsc inc|cpp/numeric/random/distribution/dsc operator_ltltgtgt|piecewise_constant_distribution}}
{{dsc end}}

===Example===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;map&gt;
#include &lt;random&gt;
#include &lt;string&gt;

int main()
{
    std::random_device rd;
    std::mt19937 gen(rd());
    // 50% of the time, generate a random number between 0 and 1
    // 50% of the time, generate a random number between 10 and 15
    std::vector&lt;double&gt; i {0, 1, 10, 15};
    std::vector&lt;double&gt; w {1, 0, 1};
    std::piecewise_constant_distribution&lt;&gt; d(i.begin(), i.end(), w.begin());

    std::map&lt;int, int&gt; hist;
    for (int n {}; n &lt; 1e4; ++n)
        ++hist[d(gen)];

    for (std::cout &lt;&lt; std::hex &lt;&lt; std::uppercase; auto [x, y] : hist)
        std::cout &lt;&lt; x &lt;&lt; ' ' &lt;&lt; std::string(y / 100, '*') &lt;&lt; '\n';
}
|p=true
|output=
0 **************************************************
A **********
B *********
C *********
D **********
E *********
}}

===References===
{{ref std c++23}}
{{ref std|section=28.5.9.6.2|title=Class template piecewise_constant_distribution|id=rand.dist.samp.pconst|p=1421-1422}}
{{ref std end}}
{{ref std c++20}}
{{ref std|section=29.6.9.6.2|title=Class template piecewise_constant_distribution|id=rand.dist.samp.pconst|p=1207-1208}}
{{ref std end}}
{{ref std c++17}}
{{ref std|section=29.6.8.6.2|title=Class template piecewise_constant_distribution|id=rand.dist.samp.pconst|p=1098-1100}}
{{ref std end}}
{{ref std c++14}}
{{ref std|section=26.5.8.6.2|title=Class template piecewise_constant_distribution|id=rand.dist.samp.pconst|p=962-964}}
{{ref std end}}
{{ref std c++11}}
{{ref std|section=26.5.8.6.2|title=Class template piecewise_constant_distribution|id=rand.dist.samp.pconst|p=955-957}}
{{ref std end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}