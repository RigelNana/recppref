{{cpp/title|common_iterator}}
{{cpp/iterator/common_iterator/navbar}}
{{dcl begin}}
{{dcl header|iterator}}
{{dcl|since=c++20|1=
template&lt; std::input_or_output_iterator I, std::sentinel_for&lt;I&gt; S &gt;
    requires ( !std::same_as&lt;I, S&gt; &amp;&amp; std::copyable&lt;I&gt; )
class common_iterator;
}}
{{dcl end}}

{{tt|std::common_iterator}} is an iterator {{tt|I}} / sentinel {{tt|S}} adaptor that may represent a non-common range (where the types of {{tt|I}} and {{tt|S}} differ) as a {{lconcept|common_range}}, by containing either an iterator or a sentinel, and defining the appropriate equality comparison operators {{c|1=operator==}}.

{{tt|std::common_iterator}} can be used as a "bridge" between sequences represented by iterator/sentinel pair and legacy functions that expect {{lconcept|common_range}}-like sequences.

===Data members===
{{dsc begin}}
{{dsc hitem|Member name|Definition}}
{{dsc expos mem obj|var|an object of type {{c/core|std::variant&lt;I, S&gt;}}}}
{{dsc end}}

===Member functions===
{{dsc begin}}
{{dsc inc|cpp/iterator/adaptor/dsc constructor|common_iterator}}
{{dsc inc|cpp/iterator/adaptor/dsc operator{{=}}|common_iterator}}
{{dsc inc|cpp/iterator/adaptor/dsc operator*|common_iterator}}
{{dsc inc|cpp/iterator/common_iterator/dsc operator arith}}
{{dsc end}}

===Non-member functions===
{{dsc begin}}
{{dsc inc|cpp/iterator/common_iterator/dsc operator cmp}}
{{dsc inc|cpp/iterator/common_iterator/dsc operator-}}
{{dsc inc|cpp/iterator/adaptor/dsc iter_move|common_iterator}}
{{dsc inc|cpp/iterator/adaptor/dsc iter_swap|common_iterator}}
{{dsc end}}

===Helper classes===
{{dsc begin}}
{{dsc inc|cpp/iterator/common_iterator/dsc incrementable_traits}}
{{dsc inc|cpp/iterator/common_iterator/dsc iterator_traits}}
{{dsc end}}

===Example===
{{example
|code=
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;iterator&gt;
#include &lt;list&gt;
#include &lt;string&gt;

template&lt;class ForwardIter&gt;
void fire(ForwardIter first, ForwardIter last)
{
    std::copy(first, last, std::ostream_iterator&lt;std::string&gt;{std::cout, " "});    
}

int main()
{
    std::list&lt;std::string&gt; stars{"Pollux", "Arcturus", "Mira", "Aldebaran", "Sun"};

    using IT = std::common_iterator&lt;
                   std::counted_iterator&lt;std::list&lt;std::string&gt;::iterator&gt;,
                   std::default_sentinel_t&gt;;

    fire(IT(std::counted_iterator(stars.begin(), stars.size() - 1)),
         IT(std::default_sentinel));
}
|output=
Pollux Arcturus Mira Aldebaran
}}

===References===
{{ref std c++23}}
{{ref std|section=23.5.5|title=Common iterators|id=iterators.common}}
{{ref std end}}
{{ref std c++20}}
{{ref std|section=23.5.4|title=Common iterators|id=iterators.common}}
{{ref std end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/ranges/dsc common_range}}
{{dsc inc|cpp/ranges/dsc common_view}}
{{dsc end}}

{{langlinks|cs|de|es|fr|it|ja|ko|pl|pt|ru|zh}}