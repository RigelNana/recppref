{{cpp/io/strstreambuf/title|str}}
{{cpp/io/strstreambuf/navbar}}
{{ddcl|deprecated=c++98|removed=c++26|
char* str();
}}

Calls {{lc|freeze()}}, then returns a copy of start pointer of the get area, {{lc|std::streambuf::eback()}}.

The start of the get area, for all writeable {{tt|std::strstreambuf}} objects constructed through the interface provided by {{lc|std::strstream}}, is also the start of the put area.

===Parameters===
(none)

===Return value===
A copy of {{lc|eback()}}, which may be a null pointer.

===Notes===
This function is typically called through the {{lc|std::strstream}} interface.

The call to {{lc|freeze()}} guarantees that the returned pointer remains valid until the next explicit call to {{box|{{lc|freeze}}{{c/core|(false)}}}}: otherwise (on a dynamic buffer) any output operation could trigger buffer reallocation which would invalidate the pointer. It also causes a memory leak in the destructor of {{tt|std::strstreambuf}}, unless {{c|freeze(false)}} is called before the buffer (or, more commonly, the {{c|std::strstream}} that manages it) is destroyed.

===Example===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;strstream&gt;

int main()
{
    std::strstream dyn; // dynamically-allocated read/write buffer
    dyn &lt;&lt; "Test: " &lt;&lt; 1.23 &lt;&lt; std::ends;
    std::strstreambuf* buf = dyn.rdbuf();
    std::cout &lt;&lt; "R/W buffer holds [" &lt;&lt; buf-&gt;str() // or dyn.str()
              &lt;&lt; "]\n";
    dyn.freeze(false); // after calling .str() on a dynamic strstream

    char arr[10];
    std::ostrstream user(arr, 10); // fixed-size write-only buffer
    buf = user.rdbuf();
    user &lt;&lt; 1.23 &lt;&lt; std::ends;
    std::cout &lt;&lt; "Write-only buffer holds [" &lt;&lt; buf-&gt;str() // or user.str()
              &lt;&lt; "]\n";

    std::istrstream lit("1 2 3"); // fixed-size read-only buffer
    buf = lit.rdbuf();
    std::cout &lt;&lt; "Read-only buffer holds [" &lt;&lt; buf-&gt;str() // or lit.str()
              &lt;&lt; "]\n";
}
|output=
R/W buffer holds [Test: 1.23]
Write-only buffer holds [1.23]
Read-only buffer holds [1 2 31 2 3]
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/io/strstream/dsc str|strstream}}
{{dsc inc|cpp/io/strstream/dsc str|ostrstream}}
{{dsc inc|cpp/io/strstream/dsc str|istrstream}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}