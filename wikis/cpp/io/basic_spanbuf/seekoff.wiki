{{cpp/io/basic_spanbuf/title|seekoff}}
{{cpp/io/basic_spanbuf/navbar}}
{{ddcl | since=c++23 | 1=
protected:
pos_type seekoff( off_type off, std::ios_base::seekdir dir,
                  std::ios_base::openmode which = 
                      std::ios_base::in {{!}} std::ios_base::out ) override;
}}

Repositions the next pointer to get and/or put area, if possible, to the position that corresponds to exactly {{tt|off}} characters from beginning, end, or current position of the get and/or put area of the buffer.

Let {{tt|''n''}} be the number of {{tt|CharT}} elements in underlying buffer, or {{c|0}} when there is no underlying buffer, this function fails if
* the next pointer to the get and/or put area to reposition is null and the computed {{tt|''newoff''}} (see below) is not zero, which may occur if there is no underlying buffer, or the {{c|*this}} is not opened in the mode required by {{tt|which}}, or
* {{tt|dir}} is {{lc|std::ios_base::cur}} and both {{lc|std::ios_base::in}} and {{lc|std::ios_base::out}} are set in {{tt|which}}, or
* the computed {{tt|''newoff''}} is not representable in {{tt|off_type}}, less than zero, or greater than {{tt|''n''}}.

{{tt|''newoff''}} is computed as below:
* If {{tt|dir}} is {{lc|std::ios_base::beg}}, {{tt|''newoff''}} is {{tt|off}}.
* If {{tt|dir}} is {{lc|std::ios_base::cur}}, {{tt|''newoff''}} is
** {{c|pptr() - pbase() + off}} if {{lc|std::ios_base::out}} is set in {{tt|which}}, or
** {{c|gptr() - eback() + off}} if {{lc|std::ios_base::in}} is set in {{tt|which}}.
* If {{tt|dir}} is {{lc|std::ios_base::end}}, {{tt|''newoff''}} is
** {{c|pptr() - pbase() + off}} if {{lc|std::ios_base::out}} but not {{lc|std::ios_base::in}} is set in the open mode of {{c|*this}},
** otherwise, {{c|off + n}}.

This function repositions the next pointer to get and/or put area to {{c|pbuf + newoff}} on success if {{lc|std::ios_base::in}} and/or {{lc|std::ios_base::out}} is correspondingly set in {{tt|which}}, where {{tt|''pbuf''}} is the pointer to the beginning of the underlying buffer, or the null pointer value if there is no underlying buffer.

===Parameters===
{{par begin}}
{{par | off | relative position to set the next pointer(s) to}}
{{par | dir | defines base position to apply the relative offset to. It can be one of the following constants:
{{cpp/io/ios_base/seekdir consts}} }}
{{par | which | defines whether the input sequences, the output sequence, or both are affected. It can be one or a combination of the following constants:
{{cpp/io/ios_base/openmode streambuf consts}} }}
{{par end}}

===Return value===
{{c|pos_type(newoff)}} on success, {{c|pos_type(off_type(-1))}} on failure.

===Example===
{{example}}

===See also===
{{dsc begin}}
{{dsc inc | cpp/io/basic_stringbuf/dsc seekoff}}
{{dsc inc | cpp/io/strstreambuf/dsc seekoff}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}