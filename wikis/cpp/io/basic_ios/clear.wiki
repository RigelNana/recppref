{{cpp/io/basic_ios/title|clear}}
{{cpp/io/basic_ios/navbar}}
{{dcl begin}}
{{dcl|1=
void clear( std::ios_base::iostate state = std::ios_base::goodbit );
}}
{{dcl end}}

Sets the stream error state flags by assigning them the value of {{c|state}}. By default, assigns {{lc|std::ios_base::goodbit}} which has the effect of clearing all error state flags.

If {{lc|rdbuf()}} is a null pointer (i.e. there is no associated stream buffer), then {{c|state {{!}} std::ios_base::badbit}} is assigned.

===Parameters===
{{par begin}}
{{par|state|new error state flags setting. It can be a combination of the following constants:
{{cpp/io/ios_base/iostate consts}}}}
{{par end}}

===Return value===
(none)

===Exceptions===
If the new error state includes a bit that is also included in the {{lc|exceptions()}} mask, throws an exception of type {{lc|failure}}.

===Example===
{{example
|{{tt|clear()}} without arguments can be used to unset the [[#Parameters|{{tt|failbit}}]] after unexpected input; for {{c|std::cin.putback(c)}} see [[cpp/io/c/ungetc#Notes|{{tt|ungetc}}]].
|code=
#include &lt;iostream&gt;
#include &lt;string&gt;

int main()
{
    for (char c : {'\n', '4', '1', '.', '3', '\n', 'Z', 'Y', 'X'})
        std::cin.putback(c); // emulate user's input (not portable: see ungetc Notes)

    double n;
    while (std::cout &lt;&lt; "Please, enter a number: " &amp;&amp; !(std::cin &gt;&gt; n))
    {
        std::cin.clear();
        std::string line;
        std::getline(std::cin, line);
        std::cout &lt;&lt; line &lt;&lt; "\nI am sorry, but '" &lt;&lt; line &lt;&lt; "' is not a number\n";
    }
    std::cout &lt;&lt; n &lt;&lt; "\nThank you for entering the number " &lt;&lt; n &lt;&lt; '\n';
}
|output=
Please, enter a number: XYZ
I am sorry, but 'XYZ' is not a number
Please, enter a number: 3.14
Thank you for entering the number 3.14
}}

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=412|std=C++98|before=an excption would be thrown if the current error state&lt;br&gt;includes a bit that is also included in the {{lc|exceptions()}} mask|after=checks the new&lt;br&gt;error state instead}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/io/basic_ios/dsc setstate}}
{{dsc inc|cpp/io/basic_ios/dsc rdstate}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}