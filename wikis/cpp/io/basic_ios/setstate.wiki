{{cpp/io/basic_ios/title|setstate}}
{{cpp/io/basic_ios/navbar}}
{{dcl begin}}
{{dcl| 
void setstate( iostate state );
}}
{{dcl end}}

Sets the stream error flags {{c|state}} in addition to currently set flags. Essentially calls {{c|clear(rdstate() {{!}} state)}}. May throw an exception.

===Parameters===
{{par begin}}
{{par|state|stream error state flags to set. It can be a combination of the following constants:
{{cpp/io/ios_base/iostate consts}}}}
{{par end}}

===Return value===
(none)

===Example===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;sstream&gt;

int main()
{
    std::ostringstream stream;

    if (!stream.fail())
        std::cout &lt;&lt; "stream is not fail\n";

    stream.setstate(std::ios_base::failbit);

    if (stream.fail())
        std::cout &lt;&lt; "now stream is fail\n";

    if (!stream.good())
        std::cout &lt;&lt; "and stream is not good\n";
}
|output=
stream is not fail
now stream is fail
and stream is not good
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/io/basic_ios/dsc rdstate}}
{{dsc inc|cpp/io/basic_ios/dsc clear}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}