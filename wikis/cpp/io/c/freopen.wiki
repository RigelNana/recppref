{{cpp/title|freopen}}
{{cpp/io/c/navbar}}
{{ddcl|header=cstdio|
std::FILE* freopen( const char* filename, const char* mode, std::FILE* stream );
}}

First, attempts to close the file associated with {{c|stream}}, ignoring any errors. Then, if {{c|filename}} is not null, attempts to open the file specified by {{c|filename}} using {{c|mode}} as if by {{lc|std::fopen}}, and associates that file with the file stream pointed to by {{c|stream}}. If {{c|filename}} is a null pointer, then the function attempts to reopen the file that is already associated with {{c|stream}} (it is implementation defined which mode changes are allowed in this case).

===Parameters===
{{par begin}}
{{par|filename|file name to associate the file stream to}}
{{par|mode|null-terminated character string determining new [[#File access flags|file access mode]]}}
{{par|stream|the file stream to modify}}
{{par end}}

===File access flags===
{{cpp/io/c/file access flags}}

===Return value===
{{c|stream}} on success, a null pointer on failure.

===Notes===
{{lc|std::freopen}} is the only way to change the narrow/wide orientation of a stream once it has been established by an I/O operation or by {{lc|std::fwide}}.

Microsoft CRT version of {{lc|std::freopen}} does not support any mode changes when {{c|filename}} is a null pointer and treats this as an error (see [https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/freopen-wfreopen documentation]). A possible workaround is the non-standard function [https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/setmode {{tt|_setmode()}}].

===Example===
{{example
|The following code redirects {{tt|stdout}} to a file.
|code=
#include &lt;cstdio&gt;

int main()
{
    std::printf("stdout is printed to console\n");
    if (std::freopen("redir.txt", "w", stdout))
    {
        std::printf("stdout is redirected to a file\n"); // this is written to redir.txt
        std::fclose(stdout);
    }
}
|output=
stdout is printed to console
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/io/c/dsc fopen}}
{{dsc inc|cpp/io/c/dsc fclose}}
{{dsc see c|c/io/freopen}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}