{{cpp/io/basic_stringbuf/title|seekpos}}
{{cpp/io/basic_stringbuf/navbar}}
{{ddcl|1=
protected:
virtual pos_type seekpos( pos_type sp,
                          std::ios_base::openmode which = std::ios_base::in {{!}} std::ios_base::out );
}}

Repositions {{lc|std::basic_streambuf::gptr}} and/or {{lc|std::basic_streambuf::pptr}}, if possible, to the position indicated by {{c|sp}}.

Effectively executes {{c|seekoff(off_type(sp), std::ios_base::beg, which)}}.

===Parameters===
{{par begin}}
{{par|sp|stream position, such as one obtained by {{lc|seekoff()}} or {{tt|seekpos()}}}}
{{par|which|defines whether the input sequences, the output sequence, or both are affected. It can be one or a combination of the following constants:
{{cpp/io/ios_base/openmode streambuf consts}}}}
{{par end}}

===Return value===
{{c|sp}} on success or {{c|pos_type(off_type(-1))}} on failure.

===Notes===
{{tt|seekpos()}} is called by {{lc|std::basic_streambuf::pubseekpos()}}, which is called by the single-argument versions of {{lc|std::basic_istream::seekg()}} and {{lc|std::basic_ostream::seekp()}}.

===Example===
{{example
|
|code=
#include &lt;sstream&gt;
#include &lt;iostream&gt;

struct mybuf : std::stringbuf
{
    mybuf(const std::string&amp; str) : std::stringbuf(str) {}
    
    pos_type seekpos(pos_type sp, std::ios_base::openmode which)
    {
        std::cout &lt;&lt; "Before seekpos(" &lt;&lt; sp &lt;&lt; "), size of the get area is "
                  &lt;&lt; egptr() - eback() &lt;&lt; " with "
                  &lt;&lt; egptr() - gptr() &lt;&lt; " read positions available.\n";
        
        pos_type rc = std::stringbuf::seekpos(sp, which);
        
        std::cout &lt;&lt; "seekpos() returns " &lt;&lt; rc &lt;&lt; ".\nAfter the call, "
                  &lt;&lt; "size of the get area is "
                  &lt;&lt; egptr() - eback() &lt;&lt; " with "
                  &lt;&lt; egptr() - gptr() &lt;&lt; " read positions available.\n";
        
        return rc;
    }
};

int main()
{
    mybuf buf("12345");
    std::iostream stream(&amp;buf);
    stream.seekg(2);
}
|output=
Before seekpos(2), size of the get area is 5 with 5 read positions available.
seekpos() returns 2.
After the call, size of the get area is 5 with 3 read positions available.
}}

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=375|std=C++98|before=static constant members of {{lc|std::ios_base}} were&lt;br&gt;misspecified as members of {{lc|std::basic_ios}}|after=corrected}}
{{dr list item|wg=lwg|dr=564|std=C++98|before=if was unclear how to reposition {{tt|gptr}} and/or {{tt|pptr}}|after=they are repositioned by {{lc|seekoff()}}}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/io/basic_streambuf/dsc pubseekpos}}
{{dsc inc|cpp/io/basic_stringbuf/dsc seekoff}}
{{dsc inc|cpp/io/basic_filebuf/dsc seekpos}}
{{dsc inc|cpp/io/strstreambuf/dsc seekpos}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}