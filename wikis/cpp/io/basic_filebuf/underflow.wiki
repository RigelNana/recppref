{{cpp/io/basic_filebuf/title|underflow}}
{{cpp/io/basic_filebuf/navbar}}
{{ddcl|
protected:
virtual int_type underflow()
}}

Reads more data into the input area. 

Behaves like the base class {{c|std::basic_streambuf::underflow}}, except that to read the data from the associated character sequence (the file) into the get area, first reads the bytes from the file into a temporary buffer (allocated as large as necessary), then uses {{c|std::codecvt::in}} of the imbued locale to convert the external (typically, multibyte) representation to the internal form which is then used to populate the get area. The conversion may be skipped if the locale's {{c|std::codecvt::always_noconv}} returns {{c|true}}.

===Parameters===
(none)

===Return value===
{{c|Traits::to_int_type(*gptr())}} (the first character of the pending sequence) in case of success, or {{c|Traits::eof()}} in case of failure.

===Example===
{{example
|code=
#include &lt;fstream&gt;
#include &lt;iostream&gt;

struct mybuf : std::filebuf
{
    int underflow()
    {
         std::cout &lt;&lt; "Before underflow(): size of the get area is "
                   &lt;&lt; egptr()-eback() &lt;&lt; " with "
                   &lt;&lt; egptr()-gptr() &lt;&lt; " read positions available\n";
         int rc = std::filebuf::underflow();
         std::cout &lt;&lt; "underflow() returns " &lt;&lt; rc &lt;&lt; ".\nAfter the call, "
                   &lt;&lt; "size of the get area is "
                   &lt;&lt; egptr()-eback() &lt;&lt; " with "
                   &lt;&lt; egptr()-gptr() &lt;&lt; " read positions available\n";
        return rc;
    }
};

int main()
{
    mybuf buf;
    buf.open("test.txt", std::ios_base::in);
    std::istream stream(&amp;buf);
    while (stream.get()) ;
}
|p=true
|output=
Before underflow(): size of the get area is 0 with 0 read positions available
underflow() returns 73.
After the call, size of the get area is 110 with 110 read positions available
Before underflow(): size of the get area is 110 with 0 read positions available
underflow() returns -1.
After the call, size of the get area is 0 with 0 read positions available
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/io/basic_streambuf/dsc underflow}}
{{dsc inc|cpp/io/basic_stringbuf/dsc underflow}}
{{dsc inc|cpp/io/strstreambuf/dsc underflow}}
{{dsc inc|cpp/io/basic_filebuf/dsc uflow}}
{{dsc inc|cpp/io/basic_filebuf/dsc overflow}}
{{dsc inc|cpp/io/basic_streambuf/dsc sgetc}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}