{{cpp/experimental/title|promise {{mark since libfund_ts}}}}
{{cpp/experimental/lib extensions/pmr/navbar}}

''This page is about the modified version of {{lc|std::promise}} with type-erased allocator support provided by the Library Fundamentals TSes. For the version of {{tt|promise}} provided by the concurrency TS supporting the {{tt|std::future}} improvements made by that TS, see {{ltt|cpp/experimental/concurrency/promise|std::experimental::concurrency_v1::promise}}.''

{{dcl begin}}
{{dcl header | experimental/future}}
{{dcl | num=1 | since=libfund_ts |
template&lt; class R &gt; class promise;
}}
{{dcl | num=2 | since=libfund_ts |
template&lt; class R &gt; class promise&lt;R&amp;&gt;;
}}
{{dcl | num=3 | since=libfund_ts |
template&lt;&gt;          class promise&lt;void&gt;;
}}
{{dcl end}}

{{tt|std::experimental::fundamentals_v1::promise}} (and {{tt|std::experimental::fundamentals_v2::promise}}) is a modified version of {{lc|std::promise}} provided by the library fundamentals TS with support for type-erased allocators.

=== Member types ===
{{dsc begin}}
{{dsc hitem | Member type | Definition}}
{{dsc | {{tt|allocator_type}} | {{lc|std::experimental::erased_type}}}}
{{dsc end}}

=== Member functions ===
{{dsc begin}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc constructor}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc get_memory_resource}}
{{dsc end}}

=== Non-member function ===
{{dsc begin}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc swap2}}
{{dsc end}}

===Helper classes===
{{dsc begin}}
{{dsc inc | cpp/experimental/lib extensions/promise/dsc uses_allocator}}
{{dsc end}}

{{identical|{{small|std::}}promise|2=

===Member functions===
{{dsc begin}}
{{dsc inc | cpp/thread/promise/dsc destructor}}
{{dsc inc | cpp/thread/promise/dsc operator{{=}}}}
{{dsc inc | cpp/thread/promise/dsc swap}}

{{dsc h2 | Getting the result}}
{{dsc inc | cpp/thread/promise/dsc get_future}}

{{dsc h2 | Setting the result}}
{{dsc inc | cpp/thread/promise/dsc set_value}}
{{dsc inc | cpp/thread/promise/dsc set_value_at_thread_exit}}
{{dsc inc | cpp/thread/promise/dsc set_exception}}
{{dsc inc | cpp/thread/promise/dsc set_exception_at_thread_exit}}
{{dsc end}}

}}

{{langlinks|zh}}