{{cpp/filesystem/title|u8path}}
{{cpp/filesystem/path/navbar}}
{{dcl begin}}
{{dcl header|filesystem}}
{{dcl|num=1|since=c++17|deprecated=c++20|1=
template&lt; class Source &gt;
std::filesystem::path u8path( const Source&amp; source );
}}
{{dcl|num=2|since=c++17|deprecated=c++20|1=
template&lt; class InputIt &gt;
std::filesystem::path u8path( InputIt first, InputIt last );
}}
{{dcl end}}

Constructs a path {{tt|p}} from a UTF-8 encoded sequence of {{c|char}}s{{rev inl|since=c++20| or {{c|char8_t}}s}}, supplied either as an {{lc|std::string}}, or as {{lc|std::string_view}}, or as a null-terminated multibyte string, or as a {{c|[first, last)}} iterator pair.

* If {{tt|path::value_type}} is {{c|char}} and native encoding is UTF-8, constructs a path directly as if by {{c|path(source)}} or {{c|path(first, last)}}. Note: this is the typical situation of a POSIX system that uses Unicode, such as Linux.
* Otherwise, if {{tt|path::value_type}} is {{c|wchar_t}} and native encoding is UTF-16 (this is the situation on Windows), or if {{tt|path::value_type}} is {{c|char16_t}} (native encoding guaranteed UTF-16) or {{c|char32_t}} (native encoding guaranteed UTF-32), then first converts the UTF-8 character sequence to a temporary string {{tt|tmp}} of type {{tt|path::string_type}} and then the new path is constructed as if by {{c|path(tmp)}}.
* Otherwise (for non-UTF-8 narrow character encodings and for non-UTF-16 {{c|wchar_t}}), first converts the UTF-8 character sequence to a temporary UTF-32-encoded string {{tt|tmp}} of type {{c|std::u32string}}, and then the new path is constructed as if by {{c|path(tmp)}} (this path is taken on a POSIX system with a non-Unicode multibyte or single-byte encoded filesystem).

===Parameters===
{{par begin}}
{{par|source|a UTF-8 encoded {{lc|std::string}}, {{lc|std::string_view}}, a pointer to a null-terminated multibyte string, or an input iterator with char value type that points to a null-terminated multibyte string}}
{{par|first, last|pair of {{named req|InputIterator}}s that specify a UTF-8 encoded character sequence}}
{{par hreq}}
{{par req named|InputIt|InputIterator}}
{{par req|The value type of {{tt|Source}} or {{tt|InputIt}} must be {{c|char}} {{rev inl|since=c++20|or {{c|char8_t}}.}}}}
{{par end}}

===Return value===
The path constructed from the input string after conversion from UTF-8 to the filesystem's native character encoding.

===Exceptions===
May throw {{lc|std::bad_alloc}} if memory allocation fails.

===Notes===
On systems where native path format differs from the generic path format (neither Windows nor POSIX systems are examples of such OSes), if the argument to this function is using generic format, it will be converted to native.

===Example===
{{cpp/filesystem/path/string_example}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/filesystem/dsc path}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}