{{cpp/filesystem/title|permissions}}
{{cpp/filesystem/navbar}}
{{dcl begin}}
{{dcl header|filesystem}}
{{dcl|num=1|since=c++17|1=
void permissions( const std::filesystem::path&amp; p,
                  std::filesystem::perms prms,
                  std::filesystem::perm_options opts = perm_options::replace );
}}
{{dcl|num=2|since=c++17|1=
void permissions( const std::filesystem::path&amp; p,
                  std::filesystem::perms prms,
                  std::error_code&amp; ec ) noexcept;
}}
{{dcl|num=3|since=c++17|1=
void permissions( const std::filesystem::path&amp; p,
                  std::filesystem::perms prms,
                  std::filesystem::perm_options opts,
                  std::error_code&amp; ec );
}}
{{dcl end}}

Changes access permissions of the file to which {{c|p}} resolves, as if by POSIX [https://pubs.opengroup.org/onlinepubs/9699919799/functions/fchmodat.html {{tt|fchmodat}}]. Symlinks are followed unless {{tt|perm_options::nofollow}} is set in {{c|opts}}.

The second signature behaves as if called with {{c|opts}} set to {{c|perm_options::replace}}.

The effects depend on {{c|prms}} and {{c|opts}} as follows:

* If {{c|opts}} is {{c|perm_options::replace}}, file permissions are set to exactly {{c|prms &amp; std::filesystem::perms::mask}} (meaning, every valid bit of {{c|prms}} is applied).
* If {{c|opts}} is {{c|perm_options::add}}, the file permissions are set to exactly {{c|status(p).permissions() {{!}} (prms &amp; perms::mask)}} (meaning, any valid bit that is set in {{c|prms}}, but not in the file's current permissions is added to the file's permissions).
* If {{c|opts}} is {{c|perm_options::remove}}, the file permissions are set to exactly {{c|status(p).permissions() &amp; ~(prms &amp; perms::mask)}} (meaning, any valid bit that is clear in {{c|prms}}, but set in the file's current permissions is cleared in the file's permissions).

{{c|opts}} is required to have only one of {{tt|replace}}, {{tt|add}}, or {{tt|remove}} to be set.

The non-throwing overload has no special action on error.

===Parameters===
{{par begin}}
{{par|p|path to examine}}
{{par|prms|permissions to set, add, or remove}}
{{par|opts|options controlling the action taken by this function}}
{{par|ec|out-parameter for error reporting in the non-throwing overload}}
{{par end}}

===Return value===
(none)

===Exceptions===
{{cpp/filesystem/error_handling|p|throw=1/2,3}}

===Notes===
Permissions may not necessarily be implemented as bits, but they are treated that way conceptually.

Some permission bits may be ignored on some systems, and changing some bits may automatically change others (e.g. on platforms without owner/group/all distinction, setting any of the three write bits set all three).

===Example===
{{cpp/filesystem/permissions_example}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/filesystem/dsc perms}}
{{dsc inc|cpp/filesystem/dsc status}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}