{{cpp/filesystem/title|resize_file}}
{{cpp/filesystem/navbar}}
{{dcl begin}}
{{dcl header|filesystem}}
{{dcl|num=1|since=c++17|1=
void resize_file( const std::filesystem::path&amp; p,
                  std::uintmax_t new_size );
}}
{{dcl|num=2|since=c++17|1=
void resize_file( const std::filesystem::path&amp; p,
                  std::uintmax_t new_size,
                  std::error_code&amp; ec ) noexcept;
}}
{{dcl end}}

Changes the size of the regular file named by {{c|p}} as if by POSIX [https://pubs.opengroup.org/onlinepubs/9699919799/functions/truncate.html {{tt|truncate}}]: if the file size was previously larger than {{c|new_size}}, the remainder of the file is discarded. If the file was previously smaller than {{c|new_size}}, the file size is increased and the new area appears as if zero-filled.

===Parameters===
{{par begin}}
{{par|p|path to resize}}
{{par|new_size|size that the file will now have}}
{{par|ec|out-parameter for error reporting in the non-throwing overload}}
{{par end}}

===Return value===
(none)

===Exceptions===
{{cpp/filesystem/error handling|p|throw=1/2}}

===Notes===
On systems that support sparse files, increasing the file size does not increase the space it occupies on the file system: space allocation takes place only when non-zero bytes are written to the file.

===Example===
{{example|Demonstrates the effect creating a sparse file has on the free space.
|code=
#include &lt;filesystem&gt;
#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include &lt;locale&gt;

int main()
{
    auto p = std::filesystem::temp_directory_path() / "example.bin";
    std::ofstream{p}.put('a');
    std::cout.imbue(std::locale{"en_US.UTF8"});
    std::cout &lt;&lt; "File size:  " &lt;&lt; std::filesystem::file_size(p) &lt;&lt; '\n'
              &lt;&lt; "Free space: " &lt;&lt; std::filesystem::space(p).free &lt;&lt; '\n';
    std::filesystem::resize_file(p, 64*1024); // resize to 64 KB
    std::cout &lt;&lt; "File size:  " &lt;&lt; std::filesystem::file_size(p) &lt;&lt; '\n'
              &lt;&lt; "Free space: " &lt;&lt; std::filesystem::space(p).free &lt;&lt; '\n';
    std::filesystem::remove(p);
}
|p=true
|output=
File size:  1
Free space: 42,954,108,928
File size:  65,536
Free space: 42,954,108,928
}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/filesystem/dsc file_size}}
{{dsc inc|cpp/filesystem/dsc space}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}