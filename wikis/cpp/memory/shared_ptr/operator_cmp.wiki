{{title|1=operator==, !=, &lt;, &lt;=, &gt;, &gt;=, &lt;=&gt; &lt;small&gt;(std::shared_ptr)&lt;/small&gt;}}
{{cpp/memory/shared_ptr/navbar}}
{{dcl begin}}
{{dcl header|memory}}
{{dcl h|Compare two {{tt|shared_ptr}} objects.}}
{{dcl|num=1|since=c++11|1= 
template&lt; class T, class U &gt; 
bool operator==( const std::shared_ptr&lt;T&gt;&amp; lhs,
                 const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=2|since=c++11|until=c++20|1= 
template&lt; class T, class U &gt; 
bool operator!=( const std::shared_ptr&lt;T&gt;&amp; lhs,
                 const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=3|since=c++11|until=c++20|1= 
template&lt; class T, class U &gt; 
bool operator&lt;( const std::shared_ptr&lt;T&gt;&amp; lhs,
                const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=4|since=c++11|until=c++20|1= 
template&lt; class T, class U &gt; 
bool operator&gt;( const std::shared_ptr&lt;T&gt;&amp; lhs,
                const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=5|since=c++11|until=c++20|1= 
template&lt; class T, class U &gt; 
bool operator&lt;=( const std::shared_ptr&lt;T&gt;&amp; lhs,
                 const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=6|since=c++11|until=c++20|1= 
template&lt; class T, class U &gt; 
bool operator&gt;=( const std::shared_ptr&lt;T&gt;&amp; lhs,
                 const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=7|since=c++20|1= 
template&lt; class T, class U &gt; 
std::strong_ordering operator&lt;=&gt;( const std::shared_ptr&lt;T&gt;&amp; lhs,
                                  const std::shared_ptr&lt;U&gt;&amp; rhs ) noexcept;
}}

{{dcl h|Compare a {{tt|shared_ptr}} with a null pointer.}}
{{dcl|num=8|since=c++11|1= 
template&lt; class T &gt; 
bool operator==( const std::shared_ptr&lt;T&gt;&amp; lhs, std::nullptr_t ) noexcept;
}}
{{dcl|num=9|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator==( std::nullptr_t, const std::shared_ptr&lt;T&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=10|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator!=( const std::shared_ptr&lt;T&gt;&amp; lhs, std::nullptr_t ) noexcept;
}}
{{dcl|num=11|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator!=( std::nullptr_t, const std::shared_ptr&lt;T&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=12|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&lt;( const std::shared_ptr&lt;T&gt;&amp; lhs, std::nullptr_t ) noexcept;
}}
{{dcl|num=13|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&lt;( std::nullptr_t, const std::shared_ptr&lt;T&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=14|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&gt;( const std::shared_ptr&lt;T&gt;&amp; lhs, std::nullptr_t ) noexcept;
}}
{{dcl|num=15|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&gt;( std::nullptr_t, const std::shared_ptr&lt;T&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=16|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&lt;=( const std::shared_ptr&lt;T&gt;&amp; lhs, std::nullptr_t ) noexcept;
}}
{{dcl|num=17|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&lt;=( std::nullptr_t, const std::shared_ptr&lt;T&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=18|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&gt;=( const std::shared_ptr&lt;T&gt;&amp; lhs, std::nullptr_t ) noexcept;
}}
{{dcl|num=19|since=c++11|until=c++20|1= 
template&lt; class T &gt;
bool operator&gt;=( std::nullptr_t, const std::shared_ptr&lt;T&gt;&amp; rhs ) noexcept;
}}
{{dcl|num=20|since=c++20|1= 
template&lt; class T &gt;
std::strong_ordering operator&lt;=&gt;( const std::shared_ptr&lt;T&gt;&amp; lhs,
                                  std::nullptr_t ) noexcept;
}}
{{dcl end}}

Compares two {{tt|shared_ptr&lt;T&gt;}} objects or compares {{tt|shared_ptr&lt;T&gt;}} with a null pointer.

Note that the comparison operators for {{tt|shared_ptr}} simply compare pointer values; the actual objects pointed to are ''not'' compared.  Having {{tt|operator&lt;}} defined for {{tt|shared_ptr}} allows {{tt|shared_ptr}}s to be used as keys in associative containers, like {{lc|std::map}} and {{lc|std::set}}.

{{rrev|since=c++20|
{{cpp/note synthesized compare}}
}}

===Parameters===
{{par begin}}
{{par|lhs|the left-hand {{tt|shared_ptr}} to compare}}
{{par|rhs|the right-hand {{tt|shared_ptr}} to compare}}
{{par end}} 

===Return value===
@1@ {{c|lhs.get() {{==}} rhs.get()}}

@2@ {{c|1=!(lhs == rhs)}}

@3@ {{c|std::less&lt;V&gt;()(lhs.get(), rhs.get())}}, where V is the [[cpp/language/operator_comparison#Pointer comparison operators|composite pointer type]] of {{c|std::shared_ptr&lt;T&gt;::element_type*}} and {{c|std::shared_ptr&lt;U&gt;::element_type*}}.

@4@ {{c|rhs &lt; lhs}}

@5@ {{c|!(rhs &lt; lhs)}}

@6@ {{c|!(lhs &lt; rhs)}}

@7@ {{c|std::compare_three_way{}(x.get(), y.get())}}

@8@ {{c|!lhs}}

@9@ {{c|!rhs}}

@10@ {{c|(bool)lhs}}

@11@ {{c|(bool)rhs}} 

@12@ {{c|std::less&lt;std::shared_ptr&lt;T&gt;::element_type*&gt;()(lhs.get(), nullptr)}}

@13@ {{c|std::less&lt;std::shared_ptr&lt;T&gt;::element_type*&gt;()(nullptr, rhs.get())}}

@14@ {{c|nullptr &lt; lhs}}

@15@ {{c|rhs &lt; nullptr}}

@16@ {{c|!(nullptr &lt; lhs)}}

@17@ {{c|!(rhs &lt; nullptr)}}

@18@ {{c|!(lhs &lt; nullptr)}}

@19@ {{c|!(nullptr &lt; rhs)}}

@20@ {{c|std::compare_three_way{}(x.get(), static_cast&lt;std::shared_ptr&lt;T&gt;::element_type*&gt;(nullptr))}}

===Notes===
In all cases, it is the stored pointer (the one returned by {{lc|get()}}) that is compared, rather than the managed pointer (the one passed to the deleter when {{lc|use_count}} goes to zero). The two pointers may differ in a {{lc|std::shared_ptr|shared_ptr}} created using the aliasing constructor.

===Example===
{{example
|code=
#include &lt;iostream&gt;
#include &lt;memory&gt;

int main()
{
    std::shared_ptr&lt;int&gt; p1(new int(42));
    std::shared_ptr&lt;int&gt; p2(new int(42));

    std::cout &lt;&lt; std::boolalpha
        &lt;&lt; "(p1 == p1)       : " &lt;&lt; (p1 == p1) &lt;&lt; '\n'
        &lt;&lt; "(p1 &lt;=&gt; p1) == 0 : " &lt;&lt; ((p1 &lt;=&gt; p1) == 0) &lt;&lt; '\n' // Since C++20

    // p1 and p2 point to different memory locations, so p1 != p2
        &lt;&lt; "(p1 == p2)       : " &lt;&lt; (p1 == p2) &lt;&lt; '\n'
        &lt;&lt; "(p1 &lt; p2)        : " &lt;&lt; (p1 &lt; p2) &lt;&lt; '\n'
        &lt;&lt; "(p1 &lt;=&gt; p2) &lt; 0  : " &lt;&lt; ((p1 &lt;=&gt; p2) &lt; 0) &lt;&lt; '\n'   // Since C++20
        &lt;&lt; "(p1 &lt;=&gt; p2) == 0 : " &lt;&lt; ((p1 &lt;=&gt; p2) == 0) &lt;&lt; '\n'; // Since C++20
}
|p=true
|output=
(p1 == p1)       : true
(p1 &lt;=&gt; p1) == 0 : true
(p1 == p2)       : false
(p1 &lt; p2)        : true
(p1 &lt;=&gt; p2) &lt; 0  : true
(p1 &lt;=&gt; p2) == 0 : false
}}

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3427|std=C++20|before={{tt|1=operator&lt;=&gt;(shared_ptr, nullptr_t)}} was ill-formed|after=definition fixed}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/memory/shared_ptr/dsc get}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|pt|ru|zh}}