{{cpp/memory/polymorphic_allocator/title|allocate}}
{{cpp/memory/polymorphic_allocator/navbar}}

{{dcl begin}}
{{dcl|since=c++17|
T* allocate( std::size_t n );
}}
{{dcl end}}

Allocates storage for {{c|n}} objects of type {{tt|T}} using the underlying memory resource. Equivalent to {{c|return static_cast&lt;T*&gt;(resource()-&gt;allocate(n * sizeof(T), alignof(T)));}}.

===Parameters===
{{par begin}}
{{par|n|the number of objects to allocate storage for}}
{{par end}}

===Return value===
A pointer to the allocated storage.

===Exceptions===
Throws {{lc|std::bad_array_new_length}} if {{c|n &gt; std::numeric_limits&lt;std::size_t&gt;::max() / sizeof(T)}}; may also throw any exceptions thrown by the call to {{c|resource()-&gt;allocate}}.

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=3038|std=C++17|before={{tt|allocate}} might allocate storage of wrong size|after=throws {{tt|length_error}} instead}}
{{dr list item|wg=lwg|dr=3237|std=c++17|before=the exception thrown by {{tt|allocate}} was inconsistent with {{tt|std::allocator::allocate}}|after=made consistent}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/memory/polymorphic_allocator/dsc allocate_bytes}}
{{dsc inc|cpp/memory/polymorphic_allocator/dsc allocate_object}}
{{dsc inc|cpp/memory/polymorphic_allocator/dsc new_object}}
{{dsc inc|cpp/memory/allocator traits/dsc allocate}}
{{dsc inc|cpp/memory/memory resource/dsc allocate}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}