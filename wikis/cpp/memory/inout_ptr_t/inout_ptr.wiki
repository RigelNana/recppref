{{cpp/title|inout_ptr}}
{{cpp/memory/inout_ptr_t/navbar}}
{{ddcl|header=memory|since=c++23|1=
template&lt; class Pointer = void, class Smart, class... Args &gt;
auto inout_ptr( Smart&amp; s, Args&amp;&amp;... args );
}}

Returns an {{tt|inout_ptr_t}} with deduced template arguments that captures arguments for resetting by reference.

The program is ill-formed if construction of the return value (see below) is ill-formed.

===Parameters===
{{par begin}}
{{par|s|the object (typically a smart pointer) to adapt}}
{{par|args...|the arguments for resetting to capture}}
{{par end}}

===Return value===
{{c|std::inout_ptr_t&lt;Smart, P, Args&amp;&amp;&gt;(s, std::forward&lt;Args&gt;(args)...)}}, where {{tt|P}} is
* {{tt|Pointer}}, if {{tt|Pointer}} is not same as {{c|void}}, otherwise,
* {{c|Smart::pointer}}, if it is valid and denotes a type, otherwise,
* {{c|Smart::element_type*}}, if {{c|Smart::element_type}} is valid and denotes a type, otherwise,
* {{c|std::pointer_traits&lt;Smart&gt;::element_type*}}.

===Notes===
Users may specify the template argument for the template parameter {{tt|Pointer}}, in order to interoperate with foreign functions that take a {{c|Pointer*}}.

As all arguments for resetting are captured by reference, the returned {{tt|inout_ptr_t}} should be a temporary object destroyed at the end of the full-expression containing the call to the foreign function, in order to avoid dangling references.

{{ftm begin|sort=yes}}
{{ftm|std=C++23|value=202106L|__cpp_lib_out_ptr|rowspan="2"|{{tt|std::out_ptr}}, {{lc|std::inout_ptr}}}}
{{ftm|std=C++26|value=202311L|-|freestanding {{tt|std::out_ptr}} and {{lc|std::inout_ptr}}}}
{{ftm end}}

===Example===
{{example}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/memory/out_ptr_t/dsc out_ptr}}
{{dsc inc|cpp/memory/unique_ptr/dsc make_unique}}
{{dsc inc|cpp/memory/shared_ptr/dsc make_shared}}
{{dsc end}}

{{langlinks|es|ja|ru|zh}}