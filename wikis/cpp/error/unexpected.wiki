{{cpp/title|unexpected}}
{{cpp/error/navbar}}
{{dcl begin}}
{{dcl header|exception}}
{{dcl rev begin}}
{{dcl|until=c++11|
void unexpected();
}}
{{dcl|deprecated=c++11|until=c++17|
[[noreturn]] void unexpected();
}}
{{dcl rev end}}
{{dcl end}}

{{tt|std::unexpected()}} is called by the C++ runtime when a [[cpp/language/except spec|dynamic exception specification]] is violated: an exception is thrown from a function whose exception specification forbids exceptions of this type.

{{tt|std::unexpected()}} may also be called directly from the program.

In either case, {{tt|std::unexpected}} calls the currently installed {{lc|std::unexpected_handler}}. The default {{lc|std::unexpected_handler}} calls {{lc|std::terminate}}.

{{rev begin}}
{{rev|until=c++11|
If a destructor reset the unexpected handler during stack unwinding and the unwinding later led to {{tt|unexpected}} being called, the handler that was installed at the end of the throw expression is the one that will be called (note: it was ambiguous whether re-throwing applied the new handlers).
}}
{{rev|since=c++11|
If a destructor reset the unexpected handler during stack unwinding, it is unspecified which handler is called if the unwinding later led to {{tt|unexpected}} being called.
}}
{{rev end}}

===Exceptions===
Throw any exception thrown by the currently installed {{lc|std::unexpected_handler}}.

===Defect reports===
{{dr list begin}}
{{dr list item|wg=lwg|dr=2111|std=C++11|before=effect of calling {{lc|std::set_unexpected}} during stack&lt;br&gt;unwinding differs from C++98 and breaks some ABIs|after=made unspecified}}
{{dr list end}}

===See also===
{{dsc begin}}
{{dsc inc|cpp/utility/expected/dsc unexpected}}
{{dsc inc|cpp/error/dsc unexpected_handler}}
{{dsc end}}

{{langlinks|de|es|fr|it|ja|ru|zh}}